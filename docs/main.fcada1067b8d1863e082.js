(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+7AZ":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return l}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return s}),n.d(e,"__awaiter",function(){return c}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return f}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return d}),n.d(e,"__spread",function(){return m}),n.d(e,"__spreadArrays",function(){return g}),n.d(e,"__await",function(){return y}),n.d(e,"__asyncGenerator",function(){return v}),n.d(e,"__asyncDelegator",function(){return b}),n.d(e,"__asyncValues",function(){return w}),n.d(e,"__makeTemplateObject",function(){return _}),n.d(e,"__importStar",function(){return C}),n.d(e,"__importDefault",function(){return E});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function l(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function s(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function l(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,l)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(l){o=[6,l],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(l){i={error:l}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,l=o.length;a<l;a++,i++)r[i]=o[a];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||l(t,e)})})}function l(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(u,s):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function u(t){l("next",t)}function s(t){l("throw",t)}function c(t,e){t(e),o.shift(),o.length&&l(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,i,(e=t[n](e)).done,e.value)})}}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},"+tJ4":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}}},"+umK":function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},"/WYv":function(t,e,n){"use strict";function r(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},0:function(t,e,n){t.exports=n("zUnb")},"0/uQ":function(t,e,n){"use strict";var r=n("6blF"),i=n("/WYv"),o=n("2ePl"),a=n("xTla"),l=n("En8+"),u=n("IUTb"),s=n("pugT"),c=n("S5XQ"),h=n("u67D"),f=n("JcRv"),p=n("Fxb1");function d(t,e){if(!e)return t instanceof r.a?t:new r.a(Object(p.a)(t));if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a(e?function(n){var r=new s.a;return r.add(e.schedule(function(){var i=t[a.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r}:Object(f.a)(t))}(t,e);if(Object(i.a)(t))return function(t,e){return new r.a(e?function(n){var r=new s.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r}:Object(c.a)(t))}(t,e);if(Object(o.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[l.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(e?function(n){var r,i=new s.a;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[l.a](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),i}:Object(h.a)(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}n.d(e,"a",function(){return d})},"15JJ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("mrSG"),i=n("MGBS"),o=n("rPjj"),a=n("zotm"),l=n("67Y/"),u=n("0/uQ");function s(t,e){return"function"==typeof e?function(n){return n.pipe(s(function(n,r){return Object(u.a)(t(n,r)).pipe(Object(l.a)(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new c(t))}}var c=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.project))},t}(),h=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return r.c(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new o.a(this,void 0,void 0);this.destination.add(i),this.innerSubscription=Object(a.a)(this,t,e,n,i)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e}(i.a)},"2Bdj":function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},"2ePl":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},"30Go":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return l}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return s}),n.d(e,"__awaiter",function(){return c}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return f}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return d}),n.d(e,"__spread",function(){return m}),n.d(e,"__spreadArrays",function(){return g}),n.d(e,"__await",function(){return y}),n.d(e,"__asyncGenerator",function(){return v}),n.d(e,"__asyncDelegator",function(){return b}),n.d(e,"__asyncValues",function(){return w}),n.d(e,"__makeTemplateObject",function(){return _}),n.d(e,"__importStar",function(){return C}),n.d(e,"__importDefault",function(){return E});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function l(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function s(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function l(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,l)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(l){o=[6,l],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(l){i={error:l}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,l=o.length;a<l;a++,i++)r[i]=o[a];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||l(t,e)})})}function l(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(u,s):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function u(t){l("next",t)}function s(t){l("throw",t)}function c(t,e){t(e),o.shift(),o.length&&l(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,i,(e=t[n](e)).done,e.value)})}}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},"67Y/":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),i=n("FFOo");function o(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(t,e))}}var a=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.project,this.thisArg))},t}(),l=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.c(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(i.a)},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,o=n("os0x"),a=n("q/0M"),l=n("zVF4"),u=n("x7I3"),s=i.SDK_VERSION,c=new a.Logger("@firebase/firestore"),h=function(t){return t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT",t}({});function f(){return c.logLevel===a.LogLevel.DEBUG?h.DEBUG:c.logLevel===a.LogLevel.SILENT?h.SILENT:h.ERROR}function p(t){switch(t){case h.DEBUG:c.logLevel=a.LogLevel.DEBUG;break;case h.ERROR:c.logLevel=a.LogLevel.ERROR;break;case h.SILENT:c.logLevel=a.LogLevel.SILENT;break;default:c.error("Firestore ("+s+"): Invalid value passed to `setLogLevel`")}}function d(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(c.logLevel<=a.LogLevel.DEBUG){var i=n.map(g);c.debug.apply(c,o.__spreadArrays(["Firestore ("+s+") ["+t+"]: "+e],i))}}function m(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(c.logLevel<=a.LogLevel.ERROR){var r=e.map(g);c.error.apply(c,o.__spreadArrays(["Firestore ("+s+"): "+t],r))}}function g(t){if("string"==typeof t)return t;var e=b.getPlatform();try{return e.formatJSON(t)}catch(n){return t}}function y(t){var e="FIRESTORE ("+s+") INTERNAL ASSERTION FAILED: "+t;throw m(e),new Error(e)}function v(t,e){t||y(e)}var b=function(){function t(){}return t.setPlatform=function(e){t.platform&&y("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||y("Platform not set"),t.platform},t}();function w(){return b.getPlatform().emptyByteString}var _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},C=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return o.__extends(e,t),e}(Error);function E(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new C(_.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function S(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function T(t,e){return void 0!==t?t:e}function I(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function k(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function O(t){for(var e in v(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function x(t,e){if(0!==e.length)throw new C(_.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+K(e.length,"argument")+".")}function A(t,e,n){if(e.length!==n)throw new C(_.INVALID_ARGUMENT,"Function "+t+"() requires "+K(n,"argument")+", but was called with "+K(e.length,"argument")+".")}function N(t,e,n){if(e.length<n)throw new C(_.INVALID_ARGUMENT,"Function "+t+"() requires at least "+K(n,"argument")+", but was called with "+K(e.length,"argument")+".")}function D(t,e,n,r){if(e.length<n||e.length>r)throw new C(_.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+K(e.length,"argument")+".")}function P(t,e,n,r){V(t,e,H(n)+" argument",r)}function R(t,e,n,r){void 0!==r&&P(t,e,n,r)}function M(t,e,n,r){V(t,e,n+" option",r)}function j(t,e,n,r){void 0!==r&&M(t,e,n,r)}function L(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],a=0,l=i;a<l.length;a++){var u=l[a];if(u===r)return;o.push(U(u))}var s=U(r);throw new C(_.INVALID_ARGUMENT,"Invalid value "+s+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function V(t,e,n,r){if(!("object"===e?F(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=U(r);throw new C(_.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function F(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function U(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":y("Unknown wrong type: "+typeof t)}function q(t,e,n){if(void 0===n)throw new C(_.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+H(e)+" argument, but it was undefined.")}function B(t,e,n){k(e,function(e,r){if(n.indexOf(e)<0)throw new C(_.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function z(t,e,n,r){var i=U(r);return new C(_.INVALID_ARGUMENT,"Function "+t+"() requires its "+H(n)+" argument to be a "+e+", but it was: "+i)}function H(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function K(t,e){return t+" "+e+(1===t?"":"s")}var G=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return v(20===e.length,"Invalid auto ID: "+e),e},t}();function W(t,e){return t<e?-1:t>e?1:0}function Q(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function Y(t){return t+"\0"}function X(){if("undefined"==typeof Uint8Array)throw new C(_.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function J(){if(!b.getPlatform().base64Available)throw new C(_.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Z,$=function(){function t(t){J(),this._binaryString=t}return t.fromBase64String=function(e){A("Blob.fromBase64String",arguments,1),P("Blob.fromBase64String","string",1,e),J();try{return new t(b.getPlatform().atob(e))}catch(n){throw new C(_.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+n)}},t.fromUint8Array=function(e){if(A("Blob.fromUint8Array",arguments,1),X(),!(e instanceof Uint8Array))throw z("Blob.fromUint8Array","Uint8Array",1,e);return new t(Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join(""))},t.prototype.toBase64=function(){return A("Blob.toBase64",arguments,0),J(),b.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){A("Blob.toUint8Array",arguments,0),X();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return W(this._binaryString,t._binaryString)},t}(),tt=E($,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),et=function(){return function(t,e,n,r,i){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i}}(),nt="(default)",rt=function(){function t(t,e){this.projectId=t,this.database=e||nt}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===nt},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return W(this.projectId,t.projectId)||W(this.database,t.database)},t}(),it=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.setPreviousValue(t)},this.writeNewSequenceNumber=function(t){return e.writeSequenceNumber(t)})}return t.prototype.setPreviousValue=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t},t.INVALID=-1,t}(),ot=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&y("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&y("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return v(this.length>=(t=void 0===t?1:t),"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return v(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return v(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return v(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),at=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new C(_.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(ot),lt=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return lt.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new C(_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var l=t[i];if("\\"===l){if(i+1===t.length)throw new C(_.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new C(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===l?(a=!a,i++):"."!==l||a?(r+=l,i++):(o(),i++)}if(o(),a)throw new C(_.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(ot),st=function(){function t(e){this.path=e,v(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===at.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return at.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new at(e.slice()))},t.fromPathString=function(e){return new t(at.fromString(e))},t.EMPTY=new t(new at([])),t}(),ct=function(){return function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}}();!function(t){t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout",t.ClientMetadataRefresh="client_metadata_refresh",t.LruGarbageCollection="lru_garbage_collection",t.RetryTransaction="retry_transaction"}(Z||(Z={}));var ht=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ct,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(_.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),ft=function(){function t(){this.tail=Promise.resolve(),this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.timerIdsToSkip=[]}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._isShuttingDown},enumerable:!0,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenAfterShutdown=function(t){this.verifyNotFailed(),this.enqueueInternal(t)},t.prototype.enqueueEvenAfterShutdown=function(t){return this.verifyNotFailed(),this.enqueueInternal(t)},t.prototype.enqueueAndInitiateShutdown=function(t){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){switch(e.label){case 0:return this.verifyNotFailed(),this._isShuttingDown?[3,2]:(this._isShuttingDown=!0,[4,this.enqueueEvenAfterShutdown(t)]);case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.enqueue=function(t){return this.verifyNotFailed(),this._isShuttingDown?new Promise(function(t){}):this.enqueueInternal(t)},t.prototype.enqueueInternal=function(t){var e=this,n=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw m("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw t},0),t}).then(function(t){return e.operationInProgress=!1,t})});return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),v(e>=0,"Attempted to schedule an operation with a negative delay of "+e),this.timerIdsToSkip.indexOf(t)>-1&&(e=0);var i=ht.createAndSchedule(this,t,e,n,function(t){return r.removeDelayedOperation(t)});return this.delayedOperations.push(i),i},t.prototype.verifyNotFailed=function(){this.failure&&y("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){v(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueueEvenAfterShutdown(function(){return Promise.resolve()})},t.prototype.containsDelayedOperation=function(t){for(var e=0,n=this.delayedOperations;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then(function(){v(t===Z.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),t!==Z.All&&i.timerId===t)break}return e.drain()})},t.prototype.skipDelaysForTimerId=function(t){this.timerIdsToSkip.push(t)},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);v(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),pt="\x01",dt="\x01",mt="\x10",gt="\x11";function yt(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=bt(e)),e=vt(t.get(n),e);return bt(e)}function vt(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+=pt+mt;break;case pt:n+=pt+gt;break;default:n+=o}}return n}function bt(t){return t+pt+dt}function wt(t){var e=t.length;if(v(e>=2,"Invalid path "+t),2===e)return v(t.charAt(0)===pt&&t.charAt(1)===dt,"Non-empty path "+t+" had length 2"),at.EMPTY_PATH;for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf(pt,o);switch((a<0||a>n)&&y('Invalid encoded resource path: "'+t+'"'),t.charAt(a+1)){case dt:var l=t.substring(o,a),u=void 0;0===i.length?u=l:(u=i+=l,i=""),r.push(u);break;case mt:i+=t.substring(o,a),i+="\0";break;case gt:i+=t.substring(o,a+1);break;default:y('Invalid encoded resource path: "'+t+'"')}o=a+2}return new at(r)}var _t=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new C(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new C(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new C(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new C(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?W(this.nanoseconds,t.nanoseconds):W(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),Ct=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new _t(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new _t(0,0)),t}(),Et=function(){function t(t,e){this.comparator=t,this.root=e||Tt.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tt.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new St(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new St(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new St(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new St(this.root,t,this.comparator,!0)},t}(),St=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){v(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Tt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw y("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw y("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw y("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}(),It=function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw y("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw y("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw y("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw y("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw y("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Tt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();Tt.EMPTY=new It;var kt=function(){function t(t){this.comparator=t,this.data=new Et(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Ot(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Ot(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Ot=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),xt=new Et(st.comparator);function At(){return xt}function Nt(){return At()}var Dt=new Et(st.comparator);function Pt(){return Dt}var Rt=new Et(st.comparator);function Mt(){return Rt}var jt=new kt(st.comparator);function Lt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=jt,r=0,i=t;r<i.length;r++)n=n.add(i[r]);return n}var Vt=new kt(W);function Ft(){return Vt}var Ut=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r,v(r.length>0,"Cannot create an empty mutation batch")}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&v(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;v(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=o.applyToRemoteDocument(e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){e&&v(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0,r=this.baseMutations;n<r.length;n++)(l=r[n]).key.isEqual(t)&&(e=l.applyToLocalView(e,e,this.localWriteTime));for(var i=e,o=0,a=this.mutations;o<a.length;o++){var l;(l=a[o]).key.isEqual(t)&&(e=l.applyToLocalView(e,i,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Lt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Q(this.mutations,t.mutations)&&Q(this.baseMutations,t.baseMutations)},t}(),qt=function(){function t(t,e,n,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return t.from=function(e,n,r,i){v(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var o=Mt(),a=e.mutations,l=0;l<a.length;l++)o=o.insert(a[l].key,r[l].version);return new t(e,n,r,i,o)},t}(),Bt=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&y("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),zt=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}return t.forUser=function(e,n,r,i){return v(""!==e.uid,"UserID must not be an empty string."),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wt(t).iterate({index:on.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.acknowledgeBatch=function(t,e,n){return this.getMutationQueueMetadata(t).next(function(e){return e.lastStreamToken=Gt(n),Yt(t).put(e)})},t.prototype.getLastStreamToken=function(t){return this.getMutationQueueMetadata(t).next(function(t){return t.lastStreamToken})},t.prototype.setLastStreamToken=function(t,e){return this.getMutationQueueMetadata(t).next(function(n){return n.lastStreamToken=Gt(e),Yt(t).put(n)})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Qt(t),a=Wt(t);return a.add({}).next(function(l){v("number"==typeof l,"Auto-generated key is not a number");for(var u=new Ut(l,e,n,r),s=i.serializer.toDbMutationBatch(i.userId,u),c=[],h=new kt(function(t,e){return W(t.canonicalString(),e.canonicalString())}),f=0,p=r;f<p.length;f++){var d=p[f],m=an.key(i.userId,d.key.path,l);h=h.add(d.key.path.popLast()),c.push(a.put(s)),c.push(o.put(m,an.PLACEHOLDER))}return h.forEach(function(e){c.push(i.indexManager.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.documentKeysByBatchId[l]=u.keys()}),Bt.waitFor(c).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Wt(t).get(e).next(function(t){return t?(v(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.fromDbMutationBatch(t)):null})},t.prototype.lookupMutationKeys=function(t,e){var n=this;return this.documentKeysByBatchId[e]?Bt.resolve(this.documentKeysByBatchId[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.documentKeysByBatchId[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Wt(t).iterate({index:on.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(v(e.batchId>=r,"Should have found mutation after "+r),o=n.serializer.fromDbMutationBatch(e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Wt(t).iterate({index:on.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wt(t).loadAll(on.userMutationsIndex,n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=an.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Qt(t).iterate({range:i},function(r,i,a){var l=r[0],u=r[2],s=wt(r[1]);if(l===n.userId&&e.path.isEqual(s))return Wt(t).get(u).next(function(t){if(!t)throw y("Dangling document-mutation reference found: "+r+" which points to "+u);v(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+u),o.push(n.serializer.fromDbMutationBatch(t))});a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new kt(W),i=[];return e.forEach(function(e){var o=an.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),l=Qt(t).iterate({range:a},function(t,i,o){var a=t[0],l=t[2],u=wt(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(l):o.done()});i.push(l)}),Bt.waitFor(i).next(function(){return n.lookupMutationBatches(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;v(!e.isDocumentQuery(),"Document queries shouldn't go down this path"),v(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=e.path,i=r.length+1,o=an.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),l=new kt(W);return Qt(t).iterate({range:a},function(t,e,o){var a=t[0],u=t[2],s=wt(t[1]);a===n.userId&&r.isPrefixOf(s)?s.length===i&&(l=l.add(u)):o.done()}).next(function(){return n.lookupMutationBatches(t,l)})},t.prototype.lookupMutationBatches=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Wt(t).get(e).next(function(t){if(null===t)throw y("Dangling document-mutation reference found, which points to "+e);v(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.fromDbMutationBatch(t))}))}),Bt.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Kt(t.simpleDbTransaction,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.removeCachedMutationKeys(e.batchId)}),Bt.forEach(r,function(e){return n.referenceDelegate.removeMutationReference(t,e)})})},t.prototype.removeCachedMutationKeys=function(t){delete this.documentKeysByBatchId[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Bt.resolve();var r=IDBKeyRange.lowerBound(an.prefixForUser(e.userId)),i=[];return Qt(t).iterate({range:r},function(t,n,r){if(t[0]===e.userId){var o=wt(t[1]);i.push(o)}else r.done()}).next(function(){v(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(t){return t.canonicalString()}))})})},t.prototype.containsKey=function(t,e){return Ht(t,this.userId,e)},t.prototype.getMutationQueueMetadata=function(t){var e=this;return Yt(t).get(this.userId).next(function(t){return t||new rn(e.userId,-1,"")})},t}();function Ht(t,e,n){var r=an.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Qt(t).iterate({range:o,keysOnly:!0},function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()}).next(function(){return a})}function Kt(t,e,n){var r=t.store(on.store),i=t.store(an.store),o=[],a=IDBKeyRange.only(n.batchId),l=0,u=r.iterate({range:a},function(t,e,n){return l++,n.delete()});o.push(u.next(function(){v(1===l,"Dangling document-mutation reference found: Missing batch "+n.batchId)}));for(var s=[],c=0,h=n.mutations;c<h.length;c++){var f=h[c],p=an.key(e,f.key.path,n.batchId);o.push(i.delete(p)),s.push(f.key)}return Bt.waitFor(o).next(function(){return s})}function Gt(t){return t instanceof Uint8Array?(v("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),t.toString()):t}function Wt(t){return jn.getStore(t,on.store)}function Qt(t){return jn.getStore(t,an.store)}function Yt(t){return jn.getStore(t,rn.store)}var Xt=1,Jt=function(t){return t[t.QueryCache=0]="QueryCache",t[t.SyncEngine=1]="SyncEngine",t}({}),Zt=function(){function t(t,e){this.generatorId=t,v((t&Xt)===t,"Generator ID "+t+" contains more than "+Xt+" reserved bits"),this.seek(void 0!==e?e:this.generatorId)}return t.prototype.next=function(){var t=this.nextId;return this.nextId+=1<<Xt,t},t.prototype.after=function(t){return this.seek(t+(1<<Xt)),this.next()},t.prototype.seek=function(t){v((t&Xt)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=t},t.forQueryCache=function(){return new t(Jt.QueryCache,2)},t.forSyncEngine=function(){return new t(Jt.SyncEngine)},t}(),$t="SimpleDb",te=function(){function t(e){this.db=e,12.2===t.getIOSVersion(l.getUA())&&m("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.openOrCreate=function(e,n,r){return v(t.isAvailable(),"IndexedDB not supported in current environment."),d($t,"Opening database:",e),new Bt(function(i,o){var a=window.indexedDB.open(e,n);a.onsuccess=function(e){i(new t(e.target.result))},a.onblocked=function(){o(new C(_.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(t){var e=t.target.error;o("VersionError"===e.name?new C(_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},a.onupgradeneeded=function(t){d($t,'Database "'+e+'" requires upgrade from version:',t.oldVersion),r.createOrUpgrade(t.target.result,a.transaction,t.oldVersion,$e).next(function(){d($t,"Database upgrade to version "+$e+" complete")})}}).toPromise()},t.delete=function(t){return d($t,"Removing database:",t),ie(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===process.env.USE_MOCK_PERSISTENCE;var e=l.getUA(),n=t.getIOSVersion(e),r=0<n&&n<10,i=t.getAndroidVersion(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.getStore=function(t,e){return t.store(e)},t.getIOSVersion=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.getAndroidVersion=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.setVersionChangeListener=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){return o.__awaiter(this,void 0,void 0,function(){var r,i,a,l,u,s;return o.__generator(this,function(c){switch(c.label){case 0:r=t.startsWith("readonly"),i=t.endsWith("idempotent"),a=0,l=function(){var t,l,s,c;return o.__generator(this,function(o){switch(o.label){case 0:++a,t=ne.open(u.db,r?"readonly":"readwrite",e),o.label=1;case 1:return o.trys.push([1,3,,4]),(l=n(t).catch(function(e){return t.abort(e),Bt.reject(e)}).toPromise()).catch(function(){}),[4,t.completionPromise];case 2:return o.sent(),[2,{value:l}];case 3:return s=o.sent(),c=i&&(h=s,"undefined"!=typeof DOMException&&h instanceof DOMException||"DOMException"===h.constructor.name)&&a<3,d("Transaction failed with error: %s. Retrying: %s.",s.message,c),c?[3,4]:[2,{value:Promise.reject(s)}];case 4:return[2]}var h})},u=this,c.label=1;case 1:return[5,l()];case 2:return"object"==typeof(s=c.sent())?[2,s.value]:[3,1];case 3:return[2]}})})},t.prototype.close=function(){this.db.close()},t}(),ee=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return ie(this.dbCursor.delete())},t}(),ne=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new ct,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){var n=ae(t.target.error);e.completionDeferred.reject(n)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(d($t,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return v(!!e,"Object store not part of transaction: "+t),new re(e)},t}(),re=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(d($t,"PUT",this.store.name,t,e),n=this.store.put(e,t)):(d($t,"PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ie(n)},t.prototype.add=function(t){return d($t,"ADD",this.store.name,t,t),ie(this.store.add(t))},t.prototype.get=function(t){var e=this;return ie(this.store.get(t)).next(function(n){return void 0===n&&(n=null),d($t,"GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return d($t,"DELETE",this.store.name,t),ie(this.store.delete(t))},t.prototype.count=function(){return d($t,"COUNT",this.store.name),ie(this.store.count())},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.deleteAll=function(t,e){d($t,"DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateSerial=function(t){var e=this.cursor({});return new Bt(function(n,r){e.onerror=function(t){var e=ae(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.iterateCursor=function(t,e){var n=[];return new Bt(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new ee(i),a=e(i.primaryKey,i.value,o);if(a instanceof Bt){var l=a.catch(function(t){return o.done(),Bt.reject(t)});n.push(l)}o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}}).next(function(){return Bt.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(v(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function ie(t){return new Bt(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=ae(t.target.error);n(e)}})}var oe=!1;function ae(t){var e=te.getIOSVersion(l.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new C("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return oe||(oe=!0,setTimeout(function(){throw r},0)),r}}return t}var le=function(){function t(t,e){this.referenceDelegate=t,this.serializer=e,this.targetIdGenerator=Zt.forQueryCache()}return t.prototype.allocateTargetId=function(t){var e=this;return this.retrieveMetadata(t).next(function(n){return n.highestTargetId=e.targetIdGenerator.after(n.highestTargetId),e.saveMetadata(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.retrieveMetadata(t).next(function(t){return Ct.fromTimestamp(new _t(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return ce(t.simpleDbTransaction)},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.retrieveMetadata(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.saveMetadata(t,i)})},t.prototype.addQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.retrieveMetadata(t).next(function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(e,r),n.saveMetadata(t,r)})})},t.prototype.updateQueryData=function(t,e){return this.saveQueryData(t,e)},t.prototype.removeQueryData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return ue(t).delete(e.targetId)}).next(function(){return n.retrieveMetadata(t)}).next(function(e){return v(e.targetCount>0,"Removing from an empty query cache"),e.targetCount-=1,n.saveMetadata(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return ue(t).iterate(function(a,l){var u=r.serializer.fromDbTarget(l);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeQueryData(t,u)))}).next(function(){return Bt.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){var n=this;return ue(t).iterate(function(t,r){var i=n.serializer.fromDbTarget(r);e(i)})},t.prototype.retrieveMetadata=function(t){return se(t.simpleDbTransaction)},t.prototype.saveMetadata=function(t,e){return(n=t,jn.getStore(n,pn.store)).put(pn.key,e);var n},t.prototype.saveQueryData=function(t,e){return ue(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromQueryData=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getQueryCount=function(t){return this.retrieveMetadata(t).next(function(t){return t.targetCount})},t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return ue(t).iterate({range:i,index:hn.queryTargetsIndexName},function(t,r,i){var a=n.serializer.fromDbTarget(r);e.isEqual(a.query)&&(o=a,i.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=he(t);return e.forEach(function(e){var a=yt(e.path);i.push(o.put(new fn(n,a))),i.push(r.referenceDelegate.addReference(t,e))}),Bt.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=he(t);return Bt.forEach(e,function(e){var o=yt(e.path);return Bt.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=he(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=he(t),i=Lt();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var r=wt(t[1]),o=new st(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=yt(e.path),r=IDBKeyRange.bound([n],[Y(n)],!1,!0),i=0;return he(t).iterate({index:fn.documentTargetsIndex,keysOnly:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.getQueryDataForTarget=function(t,e){var n=this;return ue(t).get(e).next(function(t){return t?n.serializer.fromDbTarget(t):null})},t}();function ue(t){return jn.getStore(t,hn.store)}function se(t){return te.getStore(t,pn.store).get(pn.key).next(function(t){return v(null!==t,"Missing metadata row."),t})}function ce(t){return se(t).next(function(t){return t.highestListenSequenceNumber})}function he(t){return jn.getStore(t,fn.store)}var fe=function(){function t(t){this.fields=t}return t.fromSet=function(e){return new t(e)},t.fromArray=function(e){var n=new kt(ut.comparator);return e.forEach(function(t){return n=n.add(t)}),new t(n)},t.prototype.covers=function(t){var e=!1;return this.fields.forEach(function(n){n.isPrefixOf(t)&&(e=!0)}),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),pe=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),de=function(){return function(t,e){this.version=t,this.transformResults=e}}(),me=function(t){return t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete",t}({}),ge=function(){function t(t,e){this.updateTime=t,this.exists=e,v(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof qe&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof qe:(v(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return n=t.updateTime,(null!=(e=this.updateTime)?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),ye=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&v(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof qe?t.version:Ct.MIN},t}(),ve=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.precondition=r,i.type=me.Set,i}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),v(null==e.transformResults,"Transform results received by SetMutation."),new qe(this.key,e.version,{hasCommittedMutations:!0},this.value)},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=ye.getPostMutationVersion(t);return new qe(this.key,r,{hasLocalMutations:!0},this.value)},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(ye),be=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.type=me.Patch,o}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),v(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return new ze(this.key,e.version);var n=this.patchDocument(t);return new qe(this.key,e.version,{hasCommittedMutations:!0},n)},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=ye.getPostMutationVersion(t),i=this.patchDocument(t);return new qe(this.key,r,{hasLocalMutations:!0},i)},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){var e;return e=t instanceof qe?t.data():Ve.EMPTY,this.patchObject(e)},e.prototype.patchObject=function(t){var e=this;return this.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t=null!==r?t.set(n,r):t.delete(n)}}),t},e}(ye),we=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=me.Transform,r.precondition=ge.exists(!0),r}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),v(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return new ze(this.key,e.version);var n=this.requireDocument(t),r=this.serverTransformResults(t,e.transformResults),i=e.version,o=this.transformObject(n.data(),r);return new qe(this.key,i,{hasCommittedMutations:!0},o)},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.localTransformResults(n,t,e),o=this.transformObject(r.data(),i);return new qe(this.key,r.version,{hasLocalMutations:!0},o)},e.prototype.extractBaseValue=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=t instanceof qe?t.field(i.field):void 0,a=i.transform.computeBaseValue(o||null);null!=a&&(e=null==e?Ve.EMPTY.set(i.field,a):e.set(i.field,a))}return e},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&Q(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){v(t instanceof qe,"Unknown MaybeDocument type "+t);var e=t;return v(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},e.prototype.serverTransformResults=function(t,e){var n=[];v(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;t instanceof qe&&(a=t.field(i.field)),n.push(o.applyToRemoteDocument(a,e[r]))}return n},e.prototype.localTransformResults=function(t,e,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var a=o[i],l=a.transform,u=null;e instanceof qe&&(u=e.field(a.field)),null===u&&n instanceof qe&&(u=n.field(a.field)),r.push(l.applyToLocalView(u,t))}return r},e.prototype.transformObject=function(t,e){v(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++)t=t.set(this.fieldTransforms[n].field,e[n]);return t},e}(ye),_e=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=me.Delete,r}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),v(null==e.transformResults,"Transform results received by DeleteMutation."),new Be(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&v(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new Be(this.key,Ct.forDeletedDoc())):t},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},e}(ye),Ce=function(t){return t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue",t}({}),Ee=function(t){return t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous",t}({}),Se=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(Ee.Estimate,n);case"previous":return new t(Ee.Previous,n);case"none":case void 0:return new t(Ee.Default,n);default:return y("fromSnapshotOptions() called with invalid options.")}},t}(),Te=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return v(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),W(this.typeOrder,t.typeOrder)},t}(),Ie=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=Ce.NullValue,e.internalValue=null,e}return o.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(Te),ke=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Ce.BooleanValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?W(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(Te),Oe=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Ce.NumberValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(n=this.internalValue)<(r=t.internalValue)?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1:this.defaultCompareTo(t);var n,r},e}(Te);function xe(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var Ae=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&xe(this.internalValue,t.internalValue)},e}(Oe),Ne=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&xe(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(Oe),De=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Ce.StringValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?W(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(Te),Pe=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Ce.TimestampValue,n}return o.__extends(e,t),e.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof Re?-1:this.defaultCompareTo(t)},e}(Te),Re=function(t){function e(e,n){var r=t.call(this)||this;return r.localWriteTime=e,r.previousValue=n,r.typeOrder=Ce.TimestampValue,r}return o.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===Ee.Estimate?new Pe(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===Ee.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof Pe?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(Te),Me=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Ce.BlobValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(Te),je=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=Ce.RefValue,r}return o.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId)},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:st.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(Te),Le=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Ce.GeoPointValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(Te),Ve=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Ce.ObjectValue,n}return o.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal(function(n,r){e[n]=r.value(t)}),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),a=W(i.key,o.key)||i.value.compareTo(o.value);if(a)return a}return W(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(v(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var i=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),i)},e.prototype.delete=function(t){if(v(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return null!==this.field(t)},e.prototype.field=function(t){v(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach(function(t){n=n instanceof e?n.internalValue.get(t):null}),n},e.prototype.fieldMask=function(){var t=new kt(ut.comparator);return this.internalValue.forEach(function(n,r){var i=new ut([n]);if(r instanceof e){var o=r.fieldMask().fields;o.isEmpty()?t=t.add(i):o.forEach(function(e){t=t.add(i.child(e))})}else t=t.add(i)}),fe.fromSet(t)},e.prototype.toString=function(){return this.internalValue.toString()},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new Et(W)),e}(Te),Fe=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Ce.ArrayValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map(function(e){return e.value(t)})},e.prototype.contains=function(t){for(var e=0,n=this.internalValue;e<n.length;e++)if(n[e].isEqual(t))return!0;return!1},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(t.internalValue[r]);if(i)return i}return W(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return"["+this.internalValue.map(function(t){return t.toString()}).join(",")+"]"},e}(Te),Ue=function(){function t(t,e){this.key=t,this.version=e}return t.compareByKey=function(t,e){return st.comparator(t.key,e.key)},t}(),qe=function(t){function e(e,n,r,i,o,a){var l=t.call(this,e,n)||this;return l.objectValue=i,l.proto=o,l.converter=a,v(void 0!==l.objectValue||void 0!==l.proto&&void 0!==l.converter,"If objectValue is not defined, proto and converter need to be set."),l.hasLocalMutations=!!r.hasLocalMutations,l.hasCommittedMutations=!!r.hasCommittedMutations,l}return o.__extends(e,t),e.prototype.field=function(t){if(this.objectValue)return this.objectValue.field(t);this.fieldValueCache||(this.fieldValueCache=new Map);var e=t.canonicalString(),n=this.fieldValueCache.get(e);if(void 0===n){var r=this.getProtoField(t);n=void 0===r?null:this.converter(r),this.fieldValueCache.set(e,n)}return n},e.prototype.data=function(){var t=this;if(!this.objectValue){var e=Ve.EMPTY;k(this.proto.fields||{},function(n,r){e=e.set(new ut([n]),t.converter(r))}),this.objectValue=e,this.fieldValueCache=void 0}return this.objectValue},e.prototype.value=function(){return this.data().value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations&&this.data().isEqual(t.data())},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.getProtoField=function(t){v(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var e=this.proto.fields?this.proto.fields[t.firstSegment()]:void 0,n=1;n<t.length;++n){if(!e||!e.mapValue||!e.mapValue.fields)return;e=e.mapValue.fields[t.get(n)]}return e},e.compareByField=function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?r.compareTo(i):y("Trying to compare documents on fields that don't exist")},e}(Ue),Be=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return o.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ue),ze=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ue),He=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(o[0].isEqual(t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){k(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return O(this.inner)},t}(),Ke=function(){function t(){this.changes=new He(function(t){return t.toString()}),this.changesApplied=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return v(void 0!==this._readTime,"Read time is not set. All removeEntry() calls must include a readTime if `trackRemovals` is used."),this._readTime},set:function(t){v(void 0===this._readTime||this._readTime.isEqual(t),"All changes in a RemoteDocumentChangeBuffer must have the same read time"),this._readTime=t},enumerable:!0,configurable:!0}),t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.readTime=e,this.changes.set(t.key,t)},t.prototype.removeEntry=function(t,e){this.assertNotApplied(),e&&(this.readTime=e),this.changes.set(t,null)},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Bt.resolve(n):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){v(!this.changesApplied,"Changes have already been applied.")},t}(),Ge=function(){function t(t,e){this.serializer=t,this.indexManager=e}return t.prototype.addEntry=function(t,e,n){return Qe(t).put(Ye(e),n)},t.prototype.removeEntry=function(t,e){var n=Qe(t),r=Ye(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.setMetadata(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Qe(t).get(Ye(e)).next(function(t){return n.maybeDecodeDocument(t)})},t.prototype.getSizedEntry=function(t,e){var n=this;return Qe(t).get(Ye(e)).next(function(t){var e=n.maybeDecodeDocument(t);return e?{maybeDocument:e,size:Xe(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Nt();return this.forEachDbEntry(t,e,function(t,e){var i=n.maybeDecodeDocument(e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.getSizedEntries=function(t,e){var n=this,r=Nt(),i=new Et(st.comparator);return this.forEachDbEntry(t,e,function(t,e){var o=n.maybeDecodeDocument(e);o?(r=r.insert(t,o),i=i.insert(t,Xe(e))):(r=r.insert(t,null),i=i.insert(t,0))}).next(function(){return{maybeDocuments:r,sizeMap:i}})},t.prototype.forEachDbEntry=function(t,e,n){if(e.isEmpty())return Bt.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Qe(t).iterate({range:r},function(t,e,r){for(var a=st.fromSegments(t);o&&st.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.skip(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this;v(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var i=Pt(),o=e.path.length+1,a={};if(n.isEqual(Ct.MIN)){var l=e.path.toArray();a.range=IDBKeyRange.lowerBound(l)}else{var u=e.path.toArray(),s=this.serializer.toDbTimestampKey(n);a.range=IDBKeyRange.lowerBound([u,s],!0),a.index=sn.collectionReadTimeIndex}return Qe(t).iterate(a,function(t,n,a){if(t.length===o){var l=r.serializer.fromDbRemoteDocument(n);e.path.isPrefixOf(l.key.path)?l instanceof qe&&e.matches(l)&&(i=i.insert(l.key,l)):a.done()}}).next(function(){return i})},t.prototype.getNewDocumentChanges=function(t,e){var n=this,r=At(),i=this.serializer.toDbTimestampKey(e),o=Qe(t),a=IDBKeyRange.lowerBound(i,!0);return o.iterate({index:sn.readTimeIndex,range:a},function(t,e){var o=n.serializer.fromDbRemoteDocument(e);r=r.insert(o.key,o),i=e.readTime}).next(function(){return{changedDocs:r,readTime:n.serializer.fromDbTimestampKey(i)}})},t.prototype.getLastDocumentChange=function(t){var e,n=this,r=Qe(t),i=Ct.MIN;return r.iterate({index:sn.readTimeIndex,reverse:!0},function(t,r,o){e=n.serializer.fromDbRemoteDocument(r),r.readTime&&(i=n.serializer.fromDbTimestampKey(r.readTime)),o.done()}).next(function(){return{changedDoc:e,readTime:i}})},t.prototype.newChangeBuffer=function(e){return new t.RemoteDocumentChangeBuffer(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return We(t).get(cn.key).next(function(t){return v(!!t,"Missing document cache metadata"),t})},t.prototype.setMetadata=function(t,e){return We(t).put(cn.key,e)},t.prototype.maybeDecodeDocument=function(t){if(t){var e=this.serializer.fromDbRemoteDocument(t);return e instanceof Be&&e.version.isEqual(Ct.forDeletedDoc())?null:e}return null},t.RemoteDocumentChangeBuffer=function(t){function e(e,n){var r=t.call(this)||this;return r.documentCache=e,r.trackRemovals=n,r.documentSizes=new He(function(t){return t.toString()}),r}return o.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new kt(function(t,e){return W(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,a){var l=e.documentSizes.get(o);if(v(void 0!==l,"Cannot modify a document that wasn't read (for "+o+")"),a){v(!e.readTime.isEqual(Ct.MIN),"Cannot add a document with a read time of zero");var u=e.documentCache.serializer.toDbRemoteDocument(a,e.readTime);i=i.add(o.path.popLast());var s=Xe(u);r+=s-l,n.push(e.documentCache.addEntry(t,o,u))}else if(r-=l,e.trackRemovals){var c=e.documentCache.serializer.toDbRemoteDocument(new Be(o,Ct.forDeletedDoc()),e.readTime);n.push(e.documentCache.addEntry(t,o,c))}else n.push(e.documentCache.removeEntry(t,o))}),i.forEach(function(r){n.push(e.documentCache.indexManager.addToCollectionParentIndex(t,r))}),n.push(this.documentCache.updateMetadata(t,r)),Bt.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.documentCache.getSizedEntry(t,e).next(function(t){return null===t?(n.documentSizes.set(e,0),null):(n.documentSizes.set(e,t.size),t.maybeDocument)})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.documentCache.getSizedEntries(t,e).next(function(t){var e=t.maybeDocuments;return t.sizeMap.forEach(function(t,e){n.documentSizes.set(t,e)}),e})},e}(Ke),t}();function We(t){return jn.getStore(t,cn.store)}function Qe(t){return jn.getStore(t,sn.store)}function Ye(t){return t.path.toArray()}function Xe(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw y("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var Je=function(){function t(){this.collectionParentIndex=new Ze}return t.prototype.addToCollectionParentIndex=function(t,e){return this.collectionParentIndex.add(e),Bt.resolve()},t.prototype.getCollectionParents=function(t,e){return Bt.resolve(this.collectionParentIndex.getEntries(e))},t}(),Ze=function(){function t(){this.index={}}return t.prototype.add=function(t){v(t.length%2==1,"Expected a collection path.");var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new kt(at.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new kt(at.comparator)).toArray()},t}(),$e=9,tn=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;v(n<r&&n>=0&&r<=$e,"Unexpected schema upgrade from v"+n+" to v{toVersion}.");var o=new ne(e);n<1&&r>=1&&(function(t){t.createObjectStore(nn.store)}(t),function(t){t.createObjectStore(rn.store,{keyPath:rn.keyPath}),t.createObjectStore(on.store,{keyPath:on.keyPath,autoIncrement:!0}).createIndex(on.userMutationsIndex,on.userMutationsKeyPath,{unique:!0}),t.createObjectStore(an.store)}(t),mn(t),function(t){t.createObjectStore(sn.store)}(t));var a=Bt.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(fn.store),t.deleteObjectStore(hn.store),t.deleteObjectStore(pn.store)}(t),mn(t)),a=a.next(function(){return t=o.store(pn.store),e=new pn(0,0,Ct.MIN.toTimestamp(),0),t.put(pn.key,e);var t,e})),n<4&&r>=4&&(0!==n&&(a=a.next(function(){return function(t,e){return e.store(on.store).loadAll().next(function(n){t.deleteObjectStore(on.store),t.createObjectStore(on.store,{keyPath:on.keyPath,autoIncrement:!0}).createIndex(on.userMutationsIndex,on.userMutationsKeyPath,{unique:!0});var r=e.store(on.store),i=n.map(function(t){return r.put(t)});return Bt.waitFor(i)})}(t,o)})),a=a.next(function(){!function(t){t.createObjectStore(gn.store,{keyPath:gn.keyPath})}(t)})),n<5&&r>=5&&(a=a.next(function(){return i.removeAcknowledgedMutations(o)})),n<6&&r>=6&&(a=a.next(function(){return function(t){t.createObjectStore(cn.store)}(t),i.addDocumentGlobal(o)})),n<7&&r>=7&&(a=a.next(function(){return i.ensureSequenceNumbers(o)})),n<8&&r>=8&&(a=a.next(function(){return i.createCollectionParentIndex(t,o)})),n<9&&r>=9&&(a=a.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(sn.store);e.createIndex(sn.readTimeIndex,sn.readTimeIndexPath,{unique:!1}),e.createIndex(sn.collectionReadTimeIndex,sn.collectionReadTimeIndexPath,{unique:!1})}(e)})),a},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(sn.store).iterate(function(t,n){e+=Xe(n)}).next(function(){var n=new cn(e);return t.store(cn.store).put(cn.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(rn.store),r=t.store(on.store);return n.loadAll().next(function(n){return Bt.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(on.userMutationsIndex,i).next(function(r){return Bt.forEach(r,function(r){v(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=e.serializer.fromDbMutationBatch(r);return Kt(t,n.userId,i).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(fn.store),n=t.store(sn.store);return ce(t).next(function(t){var r=[];return n.iterate(function(n,i){var o=new at(n),a=function(t){return[0,yt(t)]}(o);r.push(e.get(a).next(function(n){return n?Bt.resolve():function(n){return e.put(new fn(0,yt(n),t))}(o)}))}).next(function(){return Bt.waitFor(r)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(dn.store,{keyPath:dn.keyPath});var n=e.store(dn.store),r=new Ze,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:yt(i)})}};return e.store(sn.store).iterate({keysOnly:!0},function(t,e){var n=new at(t);return i(n.popLast())}).next(function(){return e.store(an.store).iterate({keysOnly:!0},function(t,e){var n=wt(t[1]);return i(n.popLast())})})},t}(),en=function(){return function(t,e){this.seconds=t,this.nanoseconds=e}}(),nn=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}(),rn=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),on=function(){function t(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}(),an=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,yt(e)]},t.key=function(t,e,n){return[t,yt(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),ln=function(){return function(t,e){this.path=t,this.readTime=e}}(),un=function(){return function(t,e){this.path=t,this.version=e}}(),sn=function(){function t(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o}return t.store="remoteDocuments",t.readTimeIndex="readTimeIndex",t.readTimeIndexPath="readTime",t.collectionReadTimeIndex="collectionReadTimeIndex",t.collectionReadTimeIndexPath=["parentPath","readTime"],t}(),cn=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}(),hn=function(){function t(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),fn=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,v(0===t==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),pn=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),dn=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t}();function mn(t){t.createObjectStore(fn.store,{keyPath:fn.keyPath}).createIndex(fn.documentTargetsIndex,fn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(hn.store,{keyPath:hn.keyPath}).createIndex(hn.queryTargetsIndexName,hn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(pn.store)}var gn=function(){function t(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}return t.store="clientMetadata",t.keyPath="clientId",t}(),yn=o.__spreadArrays([rn.store,on.store,an.store,sn.store,hn.store,nn.store,pn.store,fn.store],[gn.store]),vn=o.__spreadArrays(yn,[cn.store]),bn=o.__spreadArrays(vn,[dn.store]),wn=function(){function t(){this.collectionParentsCache=new Ze}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(v(e.length%2==1,"Expected a collection path."),!this.collectionParentsCache.has(e)){var r=e.lastSegment(),i=e.popLast();return t.addOnCommittedListener(function(){n.collectionParentsCache.add(e)}),_n(t).put({collectionId:r,parent:yt(i)})}return Bt.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Y(e),""],!1,!0);return _n(t).loadAll(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(wt(o.parent))}return n})},t}();function _n(t){return jn.getStore(t,dn.store)}var Cn=function(t){return t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution",t}({}),En=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=Ct.MIN),void 0===o&&(o=Ct.MIN),void 0===a&&(a=w()),this.query=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.query,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.query,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.query,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.sequenceNumber===t.sequenceNumber&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.lastLimboFreeSnapshotVersion.isEqual(t.lastLimboFreeSnapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},t}(),Sn=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=st.fromSegments(t.noDocument.path),n=this.fromDbTimestamp(t.noDocument.readTime);return new Be(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(e=st.fromSegments(t.unknownDocument.path),n=this.fromDbTimestamp(t.unknownDocument.version),new ze(e,n)):y("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t,e){var n=this.toDbTimestampKey(e),r=t.key.path.popLast().toArray();if(t instanceof qe){var i=t.proto?t.proto:this.remoteSerializer.toDocument(t);return new sn(null,null,i,l=t.hasCommittedMutations,n,r)}if(t instanceof Be){var o=t.key.path.toArray(),a=this.toDbTimestamp(t.version),l=t.hasCommittedMutations;return new sn(null,new ln(o,a),null,l,n,r)}if(t instanceof ze){o=t.key.path.toArray();var u=this.toDbTimestamp(t.version);return new sn(new un(o,u),null,null,!0,n,r)}return y("Unexpected MaybeDocument")},t.prototype.toDbTimestampKey=function(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]},t.prototype.fromDbTimestampKey=function(t){var e=new _t(t[0],t[1]);return Ct.fromTimestamp(e)},t.prototype.toDbTimestamp=function(t){var e=t.toTimestamp();return new en(e.seconds,e.nanoseconds)},t.prototype.fromDbTimestamp=function(t){var e=new _t(t.seconds,t.nanoseconds);return Ct.fromTimestamp(e)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.baseMutations.map(function(t){return n.remoteSerializer.toMutation(t)}),i=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new on(t,e.batchId,e.localWriteTime.toMillis(),r,i)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=(t.baseMutations||[]).map(function(t){return e.remoteSerializer.fromMutation(t)}),r=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),i=_t.fromMillis(t.localWriteTimeMs);return new Ut(t.batchId,i,n,r)},t.prototype.toDbResourcePaths=function(t){var e=[];return t.forEach(function(t){e.push(yt(t.path))}),e},t.prototype.fromDbResourcePaths=function(t){for(var e=Lt(),n=0,r=t;n<r.length;n++)e=e.add(new st(wt(r[n])));return e},t.prototype.fromDbTarget=function(t){var e,n=this.fromDbTimestamp(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?this.fromDbTimestamp(t.lastLimboFreeSnapshotVersion):Ct.MIN,i=t.resumeToken;return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new En(e,t.targetId,Cn.Listen,t.lastListenSequenceNumber,n,r,i)},t.prototype.toDbTarget=function(t){v(Cn.Listen===t.purpose,"Only queries with purpose "+Cn.Listen+" may be stored, got "+t.purpose);var e,n,r=this.toDbTimestamp(t.snapshotVersion),i=this.toDbTimestamp(t.lastLimboFreeSnapshotVersion);return e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),t.resumeToken instanceof Uint8Array?(v("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),n=t.resumeToken.toString()):n=t.resumeToken,new hn(t.targetId,t.query.canonicalId(),r,n,t.sequenceNumber,i,e)},t}();function Tn(t,e){var n=t[1],r=e[1],i=W(t[0],e[0]);return 0===i?W(n,r):i}var In=function(){function t(t){this.maxElements=t,this.buffer=new kt(Tn),this.previousIndex=0}return t.prototype.nextIndex=function(){return++this.previousIndex},t.prototype.addElement=function(t){var e=[t,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Tn(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),kn={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},On=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t.COLLECTION_DISABLED=-1,t.MINIMUM_CACHE_SIZE_BYTES=1048576,t.DEFAULT=new t(t.DEFAULT_CACHE_SIZE_BYTES=41943040,t.DEFAULT_COLLECTION_PERCENTILE=10,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),t.DISABLED=new t(t.COLLECTION_DISABLED,0,0),t}(),xn=function(){function t(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.hasRun=!1,this.gcTask=null}return t.prototype.start=function(){v(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==On.COLLECTION_DISABLED&&this.scheduleGC()},t.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),t.prototype.scheduleGC=function(){var t=this;v(null===this.gcTask,"Cannot schedule GC while a task is pending");var e=this.hasRun?3e5:6e4;d("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(Z.LruGarbageCollection,e,function(){return t.gcTask=null,t.hasRun=!0,t.localStore.collectGarbage(t.garbageCollector).then(function(){return t.scheduleGC()}).catch(Ln)})},t}(),An=function(){function t(t,e){this.delegate=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.delegate.getSequenceNumberCount(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Bt.resolve(it.INVALID);var r=new In(e);return this.delegate.forEachTarget(t,function(t){return r.addElement(t.sequenceNumber)}).next(function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(t,function(t){return r.addElement(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.delegate.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.delegate.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return this.params.cacheSizeCollectionThreshold===On.COLLECTION_DISABLED?(d("LruGarbageCollector","Garbage collection skipped; disabled"),Bt.resolve(kn)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(d("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),kn):n.runGarbageCollection(t,e)})},t.prototype.getCacheSize=function(t){return this.delegate.getCacheSize(t)},t.prototype.runGarbageCollection=function(t,e){var n,r,i,o,a,l,u,s=this,c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>s.params.maximumSequenceNumbersToCollect?(d("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+s.params.maximumSequenceNumbersToCollect+" from "+e),r=s.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),s.nthSequenceNumber(t,r)}).next(function(r){return n=r,a=Date.now(),s.removeTargets(t,n,e)}).next(function(e){return i=e,l=Date.now(),s.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),f()<=h.DEBUG&&d("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-c)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(l-a)+"ms\n\tRemoved "+t+" documents in "+(u-l)+"ms\nTotal Duration: "+(u-c)+"ms"),Bt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Nn=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Dn="IndexedDbPersistence",Pn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Rn="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",Mn=function(t){function e(e,n){var r=t.call(this)||this;return r.simpleDbTransaction=e,r.currentSequenceNumber=n,r}return o.__extends(e,t),e}(Nn),jn=function(){function t(e,n,r,i,o,a,l,u){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.queue=a,this.sequenceNumberSyncer=u,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(t){return Promise.resolve()},this.referenceDelegate=new Un(this,o),this.dbName=n+t.MAIN_DATABASE,this.serializer=new Sn(l),this.document=i.document,this.queryCache=new le(this.referenceDelegate,this.serializer),this.indexManager=new wn,this.remoteDocumentCache=new Ge(this.serializer,this.indexManager),!i.window||!i.window.localStorage)throw new C(_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=i.window,this.webStorage=this.window.localStorage}return t.getStore=function(t,e){if(t instanceof Mn)return te.getStore(t.simpleDbTransaction,e);throw y("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.createIndexedDbPersistence=function(e){return o.__awaiter(this,void 0,void 0,function(){var n;return o.__generator(this,function(r){switch(r.label){case 0:if(!t.isAvailable())throw new C(_.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(n=new t(e.allowTabSynchronization,e.persistenceKey,e.clientId,e.platform,e.lruParams,e.queue,e.serializer,e.sequenceNumberSyncer)).start()];case 1:return r.sent(),[2,n]}})})},t.prototype.start=function(){var t=this;return v(!this.started,"IndexedDbPersistence double-started!"),v(null!==this.window,"Expected 'window' to be defined"),te.openOrCreate(this.dbName,$e,new tn(this.serializer)).then(function(e){return t.simpleDb=e,t.updateClientMetadataAndTryBecomePrimary()}).then(function(){return t.attachVisibilityHandler(),t.attachWindowUnloadHook(),t.scheduleClientMetadataAndPrimaryLeaseRefreshes(),t.simpleDb.runTransaction("readonly-idempotent",[pn.store],function(t){return ce(t)})}).then(function(e){t.listenSequence=new it(e,t.sequenceNumberSyncer)}).then(function(){t._started=!0}).catch(function(e){return t.simpleDb&&t.simpleDb.close(),Promise.reject(e)})},t.prototype.setPrimaryStateListener=function(t){var e=this;return this.primaryStateListener=function(n){return o.__awaiter(e,void 0,void 0,function(){return o.__generator(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.simpleDb.setVersionChangeListener(function(n){return o.__awaiter(e,void 0,void 0,function(){return o.__generator(this,function(e){switch(e.label){case 0:return null!==n.newVersion?[3,2]:[4,t()];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.queue.enqueueAndForget(function(){return o.__awaiter(e,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.updateClientMetadataAndTryBecomePrimary=function(){var t=this;return this.simpleDb.runTransaction("readwrite",bn,function(e){return Fn(e).put(new gn(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.verifyPrimaryLease(e).next(function(e){e||(t.isPrimary=!1,t.queue.enqueueAndForget(function(){return t.primaryStateListener(!1)}))})}).next(function(){return t.canActAsPrimary(e)}).next(function(n){var r=t.isPrimary;return t.isPrimary=n,r!==t.isPrimary&&t.queue.enqueueAndForget(function(){return t.primaryStateListener(t.isPrimary)}),r&&!t.isPrimary?t.releasePrimaryLeaseIfHeld(e):t.isPrimary?t.acquireOrExtendPrimaryLease(e):void 0})})},t.prototype.verifyPrimaryLease=function(t){var e=this;return Vn(t).get(nn.key).next(function(t){return Bt.resolve(e.isLocalClient(t))})},t.prototype.removeClientMetadata=function(t){return Fn(t).delete(this.clientId)},t.prototype.maybeGarbageCollectMultiClientState=function(){return o.__awaiter(this,void 0,void 0,function(){var e,n,r=this;return o.__generator(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),n=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(i){var o=t.getStore(i,gn.store);return o.loadAll().next(function(t){return e=r.filterActiveClients(t,18e5),n=t.filter(function(t){return-1===e.indexOf(t)}),Bt.forEach(n,function(t){return o.delete(t.clientId)})})})]);case 1:i.sent(),n.forEach(function(t){r.window.localStorage.removeItem(r.zombiedClientLocalStorageKey(t.clientId))}),i.label=2;case 2:return[2]}})})},t.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var t=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(Z.ClientMetadataRefresh,4e3,function(){return t.updateClientMetadataAndTryBecomePrimary().then(function(){return t.maybeGarbageCollectMultiClientState()}).then(function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},t.prototype.isLocalClient=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.canActAsPrimary=function(t){var e=this;return Vn(t).get(nn.key).next(function(n){if(null!==n&&e.isWithinAge(n.leaseTimestampMs,5e3)&&!e.isClientZombied(n.ownerId)){if(e.isLocalClient(n)&&e.networkEnabled)return!0;if(!e.isLocalClient(n)){if(!n.allowTabSynchronization)throw new C(_.FAILED_PRECONDITION,Rn);return!1}}return!(!e.networkEnabled||!e.inForeground)||Fn(t).loadAll().next(function(t){return void 0===e.filterActiveClients(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&d(Dn,"Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,function(){var t=this;return o.__generator(this,function(e){switch(e.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite-idempotent",[nn.store,gn.store],function(e){return t.releasePrimaryLeaseIfHeld(e).next(function(){return t.removeClientMetadata(e)})})];case 1:return e.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}})})},t.prototype.filterActiveClients=function(t,e){var n=this;return t.filter(function(t){return n.isWithinAge(t.updateTimeMs,e)&&!n.isClientZombied(t.clientId)})},t.prototype.getActiveClients=function(){var t=this;return this.simpleDb.runTransaction("readonly-idempotent",[gn.store],function(e){return Fn(e).loadAll().next(function(e){return t.filterActiveClients(e,18e5).map(function(t){return t.clientId})})})},t.clearPersistence=function(e){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(n){switch(n.label){case 0:return t.isAvailable()?[4,te.delete(e+t.MAIN_DATABASE)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}})})},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getMutationQueue=function(t){return v(this.started,"Cannot initialize MutationQueue before persistence is started."),zt.forUser(t,this.serializer,this.indexManager,this.referenceDelegate)},t.prototype.getQueryCache=function(){return v(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},t.prototype.getRemoteDocumentCache=function(){return v(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},t.prototype.getIndexManager=function(){return v(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},t.prototype.runTransaction=function(t,e,n){var r=this;d(Dn,"Starting transaction:",t);var i,o=e.endsWith("idempotent"),a=e.startsWith("readonly");return this.simpleDb.runTransaction(a?o?"readonly-idempotent":"readonly":o?"readwrite-idempotent":"readwrite",bn,function(o){return i=new Mn(o,r.listenSequence.next()),"readwrite-primary"===e||"readwrite-primary-idempotent"===e?r.verifyPrimaryLease(o).next(function(e){if(!e)throw m("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.queue.enqueueAndForget(function(){return r.primaryStateListener(!1)}),new C(_.FAILED_PRECONDITION,Pn);return n(i)}).next(function(t){return r.acquireOrExtendPrimaryLease(o).next(function(){return t})}):r.verifyAllowTabSynchronization(o).next(function(){return n(i)})}).then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.verifyAllowTabSynchronization=function(t){var e=this;return Vn(t).get(nn.key).next(function(t){if(null!==t&&e.isWithinAge(t.leaseTimestampMs,5e3)&&!e.isClientZombied(t.ownerId)&&!e.isLocalClient(t)&&!t.allowTabSynchronization)throw new C(_.FAILED_PRECONDITION,Rn)})},t.prototype.acquireOrExtendPrimaryLease=function(t){var e=new nn(this.clientId,this.allowTabSynchronization,Date.now());return Vn(t).put(nn.key,e)},t.isAvailable=function(){return te.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.releasePrimaryLeaseIfHeld=function(t){var e=this,n=Vn(t);return n.get(nn.key).next(function(t){return e.isLocalClient(t)?(d(Dn,"Releasing primary lease."),n.delete(nn.key)):Bt.resolve()})},t.prototype.isWithinAge=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(m("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.attachVisibilityHandler=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){t.queue.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},t.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(v(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){t.markClientZombied(),t.queue.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(v("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.isClientZombied=function(t){try{var e=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(t));return d(Dn,"Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(n){return m(Dn,"Failed to get zombied client id.",n),!1}},t.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(t){m("Failed to set zombie client id.",t)}},t.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(t){}},t.prototype.zombiedClientLocalStorageKey=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.MAIN_DATABASE="main",t}();function Ln(t){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){if(!function(t){return t.code===_.FAILED_PRECONDITION&&t.message===Pn}(t))throw t;return d(Dn,"Unexpectedly lost primary lease"),[2]})})}function Vn(t){return t.store(nn.store)}function Fn(t){return t.store(gn.store)}var Un=function(){function t(t,e){this.db=t,this.inMemoryPins=null,this.garbageCollector=new An(this,e)}return t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocmentCount(t);return this.db.getQueryCache().getQueryCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocmentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getQueryCache().forEachTarget(t,e)},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){return this.forEachOrphanedDocument(t,function(t,n){return e(n)})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return qn(t,e)},t.prototype.removeReference=function(t,e){return qn(t,e)},t.prototype.removeTargets=function(t,e,n){return this.db.getQueryCache().removeTargets(t,e,n)},t.prototype.removeMutationReference=function(t,e){return qn(t,e)},t.prototype.isPinned=function(t,e){return this.inMemoryPins.containsKey(e)?Bt.resolve(!0):function(t,e){var n=!1;return Yt(t).iterateSerial(function(r){return Ht(t,r,e).next(function(t){return t&&(n=!0),Bt.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.forEachOrphanedDocument(t,function(a,l){if(l<=e){var u=n.isPinned(t,a).next(function(e){if(!e)return o++,r.getEntry(t,a).next(function(){return r.removeEntry(a),he(t).delete([0,yt(a.path)])})});i.push(u)}}).next(function(){return Bt.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getQueryCache().updateQueryData(t,n)},t.prototype.updateLimboDocument=function(t,e){return qn(t,e)},t.prototype.forEachOrphanedDocument=function(t,e){var n,r=he(t),i=it.INVALID;return r.iterate({index:fn.documentTargetsIndex},function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==it.INVALID&&e(new st(wt(n)),i),i=a,n=o):i=it.INVALID}).next(function(){i!==it.INVALID&&e(new st(wt(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function qn(t,e){return he(t).put(function(t,e){return new fn(0,yt(t.path),e)}(e,t.currentSequenceNumber))}var Bn=function(){function t(t,e,n){this.remoteDocumentCache=t,this.mutationQueue=e,this.indexManager=n}return t.prototype.getDocument=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.getDocumentInternal(t,e,r)})},t.prototype.getDocumentInternal=function(t,e,n){return this.remoteDocumentCache.getEntry(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].applyToLocalView(e,t);return t})},t.prototype.applyLocalMutationsToDocuments=function(t,e,n){var r=Nt();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].applyToLocalView(t,e);r=r.insert(t,e)}),r},t.prototype.getDocuments=function(t,e){var n=this;return this.remoteDocumentCache.getEntries(t,e).next(function(e){return n.getLocalViewOfDocuments(t,e)})},t.prototype.getLocalViewOfDocuments=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var i=n.applyLocalMutationsToDocuments(t,e,r),o=At();return i.forEach(function(t,e){e||(e=new Be(t,Ct.forDeletedDoc())),o=o.insert(t,e)}),o})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return e.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(t,e.path):e.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(t,e,n):this.getDocumentsMatchingCollectionQuery(t,e,n)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new st(e)).next(function(t){var e=Pt();return t instanceof qe&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionGroupQuery=function(t,e,n){var r=this;v(e.path.isEmpty(),"Currently we only support collection group queries at the root.");var i=e.collectionGroup,o=Pt();return this.indexManager.getCollectionParents(t,i).next(function(a){return Bt.forEach(a,function(a){var l=e.asCollectionQueryAtPath(a.child(i));return r.getDocumentsMatchingCollectionQuery(t,l,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e,n){var r,i,o=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.addMissingBaseDocuments(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,l=o.mutations;a<l.length;a++){var u=l[a],s=u.key,c=r.get(s),h=u.applyToLocalView(c,c,o.localWriteTime);r=h instanceof qe?r.insert(s,h):r.remove(s)}})}).next(function(){return r.forEach(function(t,n){e.matches(n)||(r=r.remove(t))}),r})},t.prototype.addMissingBaseDocuments=function(t,e,n){for(var r=Lt(),i=0,o=e;i<o.length;i++)for(var a=0,l=o[i].mutations;a<l.length;a++){var u=l[a];u instanceof be&&null===n.get(u.key)&&(r=r.add(u.key))}var s=n;return this.remoteDocumentCache.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof qe&&(s=s.insert(t,e))}),s})},t}(),zn=function(){function t(){this.refsByKey=new kt(Hn.compareByKey),this.refsByTarget=new kt(Hn.compareByTargetId)}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new Hn(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new Hn(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=st.EMPTY,r=new Hn(n,t),i=new Hn(n,t+1),o=[];return this.refsByTarget.forEachInRange([r,i],function(t){e.removeRef(t),o.push(t.key)}),o},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t)},t.prototype.referencesForId=function(t){var e=st.EMPTY,n=new Hn(e,t),r=new Hn(e,t+1),i=Lt();return this.refsByTarget.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Hn(t,0),n=this.refsByKey.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Hn=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return st.comparator(t.key,e.key)||W(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return W(t.targetOrBatchId,e.targetOrBatchId)||st.comparator(t.key,e.key)},t}(),Kn=function(){function t(t,e,n){this.persistence=t,this.queryEngine=e,this.localViewReferences=new zn,this.queryDataByTarget=new Et(W),this.targetIdByQuery=new He(function(t){return t.canonicalId()}),this.lastDocumentChangeReadTime=Ct.MIN,v(t.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=t.getMutationQueue(n),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new Bn(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager()),this.queryEngine.setLocalDocumentsView(this.localDocuments)}return t.prototype.start=function(){return this.synchronizeLastDocumentChangeReadTime()},t.prototype.handleUserChange=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n,r,i=this;return o.__generator(this,function(o){switch(o.label){case 0:return e=this.mutationQueue,n=this.localDocuments,[4,this.persistence.runTransaction("Handle user change","readonly-idempotent",function(r){var o;return i.mutationQueue.getAllMutationBatches(r).next(function(a){return o=a,e=i.persistence.getMutationQueue(t),n=new Bn(i.remoteDocuments,e,i.persistence.getIndexManager()),e.getAllMutationBatches(r)}).next(function(t){for(var e=[],i=[],a=Lt(),l=0,u=o;l<u.length;l++){e.push((p=u[l]).batchId);for(var s=0,c=p.mutations;s<c.length;s++)a=a.add(c[s].key)}for(var h=0,f=t;h<f.length;h++){var p;i.push((p=f[h]).batchId);for(var d=0,m=p.mutations;d<m.length;d++)a=a.add(m[d].key)}return n.getDocuments(r,a).next(function(t){return{affectedDocuments:t,removedBatchIds:e,addedBatchIds:i}})})})];case 1:return r=o.sent(),this.mutationQueue=e,this.localDocuments=n,this.queryEngine.setLocalDocumentsView(this.localDocuments),[2,r]}})})},t.prototype.localWrite=function(t){var e,n=this,r=_t.now(),i=t.reduce(function(t,e){return t.add(e.key)},Lt());return this.persistence.runTransaction("Locally write mutations","readwrite-idempotent",function(o){return n.localDocuments.getDocuments(o,i).next(function(i){e=i;for(var a=[],l=0,u=t;l<u.length;l++){var s=u[l],c=s.extractBaseValue(e.get(s.key));null!=c&&a.push(new be(s.key,c,c.fieldMask(),ge.exists(!0)))}return n.mutationQueue.addMutationBatch(o,r,a,t)})}).then(function(t){var n=t.applyToLocalDocumentSet(e);return{batchId:t.batchId,changes:n}})},t.prototype.lookupMutationDocuments=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly-idempotent",function(n){return e.mutationQueue.lookupMutationKeys(n,t).next(function(t){return t?e.localDocuments.getDocuments(n,t):Bt.resolve(null)})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary-idempotent",function(n){var r=t.batch.keys(),i=e.remoteDocuments.newChangeBuffer({trackRemovals:!0});return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){return e.applyWriteToRemoteDocuments(n,t,i)}).next(function(){return i.apply(n)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary-idempotent",function(n){var r;return e.mutationQueue.lookupMutationBatch(n,t).next(function(t){return v(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.mutationQueue.removeMutationBatch(n,t)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.getHighestUnacknowledgedBatchId=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly-idempotent",function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly-idempotent",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary-idempotent",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly-idempotent",function(e){return t.queryCache.getLastRemoteSnapshotVersion(e)})},t.prototype.applyRemoteEvent=function(e){var n=this,r=e.snapshotVersion,i=this.queryDataByTarget;return this.persistence.runTransaction("Apply remote event","readwrite-primary-idempotent",function(o){var a=n.remoteDocuments.newChangeBuffer({trackRemovals:!0});i=n.queryDataByTarget;var l=[];I(e.targetChanges,function(e,a){var u=i.get(e);if(u){l.push(n.queryCache.removeMatchingKeys(o,a.removedDocuments,e).next(function(){return n.queryCache.addMatchingKeys(o,a.addedDocuments,e)}));var s=a.resumeToken;if(s.length>0){var c=u.withResumeToken(s,r).withSequenceNumber(o.currentSequenceNumber);i=i.insert(e,c),t.shouldPersistQueryData(u,c,a)&&l.push(n.queryCache.updateQueryData(o,c))}}});var u=At(),s=Lt();if(e.documentUpdates.forEach(function(t,e){s=s.add(t)}),l.push(a.getEntries(o,s).next(function(t){e.documentUpdates.forEach(function(i,s){var c=t.get(i);s instanceof Be&&s.version.isEqual(Ct.MIN)?(a.removeEntry(i,r),u=u.insert(i,s)):null==c||s.version.compareTo(c.version)>0||0===s.version.compareTo(c.version)&&c.hasPendingWrites?(Ct.MIN.isEqual(r)&&m("LocalStore","Cannot add a document when the remote version is zero"),a.addEntry(s,r),u=u.insert(i,s)):d("LocalStore","Ignoring outdated watch update for ",i,". Current version:",c.version," Watch version:",s.version),e.resolvedLimboDocuments.has(i)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,i))})})),!r.isEqual(Ct.MIN)){var c=n.queryCache.getLastRemoteSnapshotVersion(o).next(function(t){return v(r.compareTo(t)>=0,"Watch stream reverted to previous snapshot?? "+r+" < "+t),n.queryCache.setTargetsMetadata(o,o.currentSequenceNumber,r)});l.push(c)}return Bt.waitFor(l).next(function(){return a.apply(o)}).next(function(){return n.localDocuments.getLocalViewOfDocuments(o,u)})}).then(function(t){return n.queryDataByTarget=i,t})},t.shouldPersistQueryData=function(t,e,n){return v(e.resumeToken.length>0,"Attempted to persist query data with no resume token"),0===t.resumeToken.length||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0},t.prototype.notifyLocalViewChanges=function(t){for(var e=this,n=0,r=t;n<r.length;n++){var i=r[n],o=i.targetId;if(this.localViewReferences.addReferences(i.addedKeys,o),this.localViewReferences.removeReferences(i.removedKeys,o),!i.fromCache){var a=this.queryDataByTarget.get(o);v(null!==a,"Can't set limbo-free snapshot version for unknown target: "+o);var l=a.withLastLimboFreeSnapshotVersion(a.snapshotVersion);this.queryDataByTarget=this.queryDataByTarget.insert(o,l)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite-idempotent",function(n){return Bt.forEach(t,function(t){return Bt.forEach(t.removedKeys,function(t){return e.persistence.referenceDelegate.removeReference(n,t)})})})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly-idempotent",function(n){return void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document","readonly-idempotent",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query","readwrite-idempotent",function(n){var r;return e.queryCache.getQueryData(n,t).next(function(i){return i?Bt.resolve(r=i):e.queryCache.allocateTargetId(n).next(function(i){return r=new En(t,i,Cn.Listen,n.currentSequenceNumber),e.queryCache.addQueryData(n,r).next(function(){return r})})})}).then(function(n){return v(null===e.queryDataByTarget.get(n.targetId),"Tried to allocate an already allocated query: "+t),e.queryDataByTarget=e.queryDataByTarget.insert(n.targetId,n),e.targetIdByQuery.set(t,n.targetId),n})},t.prototype.getQueryData=function(t,e){var n=this.targetIdByQuery.get(e);return void 0!==n?Bt.resolve(this.queryDataByTarget.get(n)):this.queryCache.getQueryData(t,e)},t.prototype.releaseQuery=function(t,e){var n,r=this;return this.persistence.runTransaction("Release query",e?"readwrite-idempotent":"readwrite-primary-idempotent",function(i){var o=r.targetIdByQuery.get(t);v(void 0!==o,"Tried to release nonexistent query: "+t);var a=r.queryDataByTarget.get(n=o),l=r.localViewReferences.removeReferencesForId(n);return e?Bt.resolve():Bt.forEach(l,function(t){return r.persistence.referenceDelegate.removeReference(i,t)}).next(function(){r.persistence.referenceDelegate.removeTarget(i,a)})}).then(function(){r.queryDataByTarget=r.queryDataByTarget.remove(n),r.targetIdByQuery.delete(t)})},t.prototype.executeQuery=function(t,e){var n=this,r=Ct.MIN,i=Lt();return this.persistence.runTransaction("Execute query","readonly-idempotent",function(o){return n.getQueryData(o,t).next(function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n.queryCache.getMatchingKeysForTargetId(o,t.targetId).next(function(t){i=t})}).next(function(){return n.queryEngine.getDocumentsMatchingQuery(o,t,e?r:Ct.MIN,e?i:Lt())}).next(function(t){return{documents:t,remoteKeys:i}})})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly-idempotent",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},t.prototype.removeCachedMutationBatchMetadata=function(t){this.mutationQueue.removeCachedMutationKeys(t)},t.prototype.setNetworkEnabled=function(t){this.persistence.setNetworkEnabled(t)},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=this,i=e.batch,o=i.keys(),a=Bt.resolve();return o.forEach(function(r){a=a.next(function(){return n.getEntry(t,r)}).next(function(t){var o=t,a=e.docVersions.get(r);v(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=i.applyToRemoteDocument(r,o,e))?n.addEntry(o,e.commitVersion):v(!t,"Mutation batch "+i+" applied to document "+t+" resulted in null"))})}),a.next(function(){return r.mutationQueue.removeMutationBatch(t,i)})},t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary-idempotent",function(n){return t.collect(n,e.queryDataByTarget)})},t.prototype.getQueryForTarget=function(t){var e=this,n=this.queryDataByTarget.get(t);return n?Promise.resolve(n.query):this.persistence.runTransaction("Get query data","readonly-idempotent",function(n){return e.queryCache.getQueryDataForTarget(n,t).next(function(t){return t?t.query:null})})},t.prototype.getNewDocumentChanges=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly-idempotent",function(e){return t.remoteDocuments.getNewDocumentChanges(e,t.lastDocumentChangeReadTime)}).then(function(e){var n=e.changedDocs;return t.lastDocumentChangeReadTime=e.readTime,n})},t.prototype.synchronizeLastDocumentChangeReadTime=function(){return o.__awaiter(this,void 0,void 0,function(){var t,e=this;return o.__generator(this,function(n){return this.remoteDocuments instanceof Ge?(t=this.remoteDocuments,[2,this.persistence.runTransaction("Synchronize last document change read time","readonly-idempotent",function(e){return t.getLastDocumentChange(e)}).then(function(t){e.lastDocumentChangeReadTime=t.readTime})]):[2]})})},t.RESUME_TOKEN_MAX_AGE_MICROS=3e8,t}(),Gn=function(){function t(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=w(),this.batchesByDocumentKey=new kt(Hn.compareByKey)}return t.prototype.checkEmpty=function(t){return Bt.resolve(0===this.mutationQueue.length)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");v(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[i];return v(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,Bt.resolve()},t.prototype.getLastStreamToken=function(t){return Bt.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,Bt.resolve()},t.prototype.addMutationBatch=function(t,e,n,r){v(0!==r.length,"Mutation batches should not be empty");var i=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&v(this.mutationQueue[this.mutationQueue.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var o=new Ut(i,e,n,r);this.mutationQueue.push(o);for(var a=0,l=r;a<l.length;a++){var u=l[a];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Hn(u.key,i)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast())}return Bt.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Bt.resolve(this.findMutationBatch(e))},t.prototype.lookupMutationKeys=function(t,e){var n=this.findMutationBatch(e);return v(null!=n,"Failed to find local mutation batch."),Bt.resolve(n.keys())},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.indexOfBatchId(e+1),r=n<0?0:n;return Bt.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Bt.resolve(0===this.mutationQueue.length?-1:this.nextBatchId-1)},t.prototype.getAllMutationBatches=function(t){return Bt.resolve(this.mutationQueue.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Hn(e,0),i=new Hn(e,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(t){v(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);v(null!==r,"Batches in the index must exist in the main table"),o.push(r)}),Bt.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new kt(W);return e.forEach(function(t){var e=new Hn(t,0),i=new Hn(t,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([e,i],function(e){v(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.targetOrBatchId)})}),Bt.resolve(this.findMutationBatches(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){v(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,r=n.length+1,i=n;st.isDocumentKey(i)||(i=i.child(""));var o=new Hn(new st(i),0),a=new kt(W);return this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.targetOrBatchId)),!0)},o),Bt.resolve(this.findMutationBatches(a))},t.prototype.findMutationBatches=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.findMutationBatch(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;v(0===this.indexOfExistingBatchId(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return Bt.forEach(e.mutations,function(i){var o=new Hn(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.removeMutationReference(t,i.key)}).next(function(){n.batchesByDocumentKey=r})},t.prototype.removeCachedMutationKeys=function(t){},t.prototype.containsKey=function(t,e){var n=new Hn(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return Bt.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&v(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),Bt.resolve()},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return v(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return v(n.batchId===t,"If found batch must match"),n},t}(),Wn=function(){function t(t){this.persistence=t,this.queries=new He(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=Ct.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new zn,this.targetCount=0,this.targetIdGenerator=Zt.forQueryCache()}return t.prototype.getTargetCount=function(t){return Bt.resolve(this.targetCount)},t.prototype.forEachTarget=function(t,e){return this.queries.forEach(function(t,n){return e(n)}),Bt.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Bt.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Bt.resolve(this.highestSequenceNumber)},t.prototype.allocateTargetId=function(t){var e=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=e,Bt.resolve(e)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.highestSequenceNumber&&(this.highestSequenceNumber=e),Bt.resolve()},t.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=t.sequenceNumber)},t.prototype.addQueryData=function(t,e){return v(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,Bt.resolve()},t.prototype.updateQueryData=function(t,e){return v(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),Bt.resolve()},t.prototype.removeQueryData=function(t,e){return v(this.targetCount>0,"Removing a target from an empty cache"),v(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,Bt.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.queries.forEach(function(a,l){l.sequenceNumber<=e&&null===n.get(l.targetId)&&(r.queries.delete(a),o.push(r.removeMatchingKeysForTargetId(t,l.targetId)),i++)}),Bt.waitFor(o).next(function(){return i})},t.prototype.getQueryCount=function(t){return Bt.resolve(this.targetCount)},t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return Bt.resolve(n)},t.prototype.getQueryDataForTarget=function(t,e){return y("Not yet implemented.")},t.prototype.addMatchingKeys=function(t,e,n){this.references.addReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.addReference(t,e))}),Bt.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){this.references.removeReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.removeReference(t,e))}),Bt.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),Bt.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return Bt.resolve(n)},t.prototype.containsKey=function(t,e){return Bt.resolve(this.references.containsKey(e))},t}(),Qn=function(){function t(t,e){this.indexManager=t,this.sizer=e,this.docs=new Et(st.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){v(!n.isEqual(Ct.MIN),"Cannot add a document with a read time of zero");var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.sizer(e);return this.docs=this.docs.insert(r,{maybeDocument:e,size:a,readTime:n}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Bt.resolve(n?n.maybeDocument:null)},t.prototype.getEntries=function(t,e){var n=this,r=Nt();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)}),Bt.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){v(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var r=Pt(),i=new st(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),l=a.value,u=l.maybeDocument,s=l.readTime;if(!e.path.isPrefixOf(a.key.path))break;s.compareTo(n)<=0||u instanceof qe&&e.matches(u)&&(r=r.insert(u.key,u))}return Bt.resolve(r)},t.prototype.forEachDocumentKey=function(t,e){return Bt.forEach(this.docs,function(t){return e(t)})},t.prototype.getNewDocumentChanges=function(t,e){throw new Error("getNewDocumentChanges() is not supported with MemoryPersistence")},t.prototype.newChangeBuffer=function(e){return new t.RemoteDocumentChangeBuffer(this)},t.prototype.getSize=function(t){return Bt.resolve(this.size)},t.RemoteDocumentChangeBuffer=function(t){function e(e){var n=t.call(this)||this;return n.documentCache=e,n}return o.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i?n.push(e.documentCache.addEntry(t,i,e.readTime)):e.documentCache.removeEntry(r)}),Bt.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.documentCache.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getEntries(t,e)},e}(Ke),t}(),Yn=function(){function t(t,e){var n=this;this.clientId=t,this.mutationQueues={},this.listenSequence=new it(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.queryCache=new Wn(this),this.indexManager=new Je,this.remoteDocumentCache=new Qn(this.indexManager,function(t){return n.referenceDelegate.documentSize(t)})}return t.createLruPersistence=function(e,n,r){return new t(e,function(t){return new Zn(t,new Sn(n),r)})},t.createEagerPersistence=function(e){return new t(e,function(t){return new Jn(t)})},t.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getActiveClients=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){return[2,[this.clientId]]})})},t.prototype.setPrimaryStateListener=function(t){return t(!0)},t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(t){},t.prototype.getIndexManager=function(){return this.indexManager},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new Gn(this.indexManager,this.referenceDelegate),this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var r=this;d("MemoryPersistence","Starting transaction:",t);var i=new Xn(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next(function(t){return r.referenceDelegate.onTransactionCommitted(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.mutationQueuesContainKey=function(t,e){return Bt.or((n=this.mutationQueues,r=[],k(n,function(t,e){return r.push(e)}),r).map(function(n){return function(){return n.containsKey(t,e)}}));var n,r},t}(),Xn=function(t){function e(e){var n=t.call(this)||this;return n.currentSequenceNumber=e,n}return o.__extends(e,t),e}(Nn),Jn=function(){function t(t){this.persistence=t,this.inMemoryPins=null,this._orphanedDocuments=null}return Object.defineProperty(t.prototype,"orphanedDocuments",{get:function(){if(this._orphanedDocuments)return this._orphanedDocuments;throw y("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return this.orphanedDocuments.delete(e),Bt.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedDocuments.add(e),Bt.resolve()},t.prototype.removeMutationReference=function(t,e){return this.orphanedDocuments.add(e),Bt.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.orphanedDocuments.add(t)})}).next(function(){return r.removeQueryData(t,e)})},t.prototype.onTransactionStarted=function(){this._orphanedDocuments=new Set},t.prototype.onTransactionCommitted=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Bt.forEach(this.orphanedDocuments,function(r){return e.isReferenced(t,r).next(function(t){t||n.removeEntry(r)})}).next(function(){return e._orphanedDocuments=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.isReferenced(t,e).next(function(t){t?n.orphanedDocuments.delete(e):n.orphanedDocuments.add(e)})},t.prototype.documentSize=function(t){return 0},t.prototype.isReferenced=function(t,e){var n=this;return Bt.or([function(){return n.persistence.getQueryCache().containsKey(t,e)},function(){return n.persistence.mutationQueuesContainKey(t,e)},function(){return Bt.resolve(n.inMemoryPins.containsKey(e))}])},t}(),Zn=function(){function t(t,e,n){this.persistence=t,this.serializer=e,this.inMemoryPins=null,this.orphanedSequenceNumbers=new He(function(t){return yt(t.path)}),this.garbageCollector=new An(this,n)}return t.prototype.onTransactionStarted=function(){},t.prototype.onTransactionCommitted=function(t){return Bt.resolve()},t.prototype.forEachTarget=function(t,e){return this.persistence.getQueryCache().forEachTarget(t,e)},t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocumentCount(t);return this.persistence.getQueryCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocumentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){var n=this;return Bt.forEach(this.orphanedSequenceNumbers,function(r,i){return n.isPinned(t,r,i).next(function(t){return t?Bt.resolve():e(i)})})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.removeTargets=function(t,e,n){return this.persistence.getQueryCache().removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.forEachDocumentKey(t,function(i){return n.isPinned(t,i,e).next(function(t){t||(r++,o.removeEntry(i))})}).next(function(){return o.apply(t)}).next(function(){return r})},t.prototype.removeMutationReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Bt.resolve()},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getQueryCache().updateQueryData(t,n)},t.prototype.addReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Bt.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Bt.resolve()},t.prototype.updateLimboDocument=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Bt.resolve()},t.prototype.documentSize=function(t){var e,n=this.serializer.toDbRemoteDocument(t,t.version);if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw y("Unknown remote document type");e=n.noDocument}return JSON.stringify(e).length},t.prototype.isPinned=function(t,e,n){var r=this;return Bt.or([function(){return r.persistence.mutationQueuesContainKey(t,e)},function(){return Bt.resolve(r.inMemoryPins.containsKey(e))},function(){return r.persistence.getQueryCache().containsKey(t,e)},function(){var t=r.orphanedSequenceNumbers.get(e);return Bt.resolve(void 0!==t&&t>n)}])},t.prototype.getCacheSize=function(t){return this.persistence.getRemoteDocumentCache().getSize(t)},t}(),$n=function(){function t(){}return t.prototype.setLocalDocumentsView=function(t){this.localDocumentsView=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){return v(void 0!==this.localDocumentsView,"setLocalDocumentsView() not called"),this.localDocumentsView.getDocumentsMatchingQuery(t,e,Ct.MIN)},t}(),tr=Number,er=tr.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),nr=tr.MAX_SAFE_INTEGER||Math.pow(2,53)-1,rr=tr.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function ir(t){return null==t}function or(t){return rr(t)&&t<=nr&&t>=er}var ar=1e3,lr=1.5,ur=6e4,sr=function(){function t(t,e,n,r,i){void 0===n&&(n=ar),void 0===r&&(r=lr),void 0===i&&(i=ur),this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){var e=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);this.currentBaseMs>0&&d("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,function(){return e.lastAttemptTime=Date.now(),t()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}(),cr=function(t){return t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff",t}({}),hr=function(){function t(t,e,n,r,i,o){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=cr.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new sr(t,e)}return t.prototype.isStarted=function(){return this.state===cr.Starting||this.state===cr.Open||this.state===cr.Backoff},t.prototype.isOpen=function(){return this.state===cr.Open},t.prototype.start=function(){this.state!==cr.Error?(v(this.state===cr.Initial,"Already started"),this.auth()):this.performBackoff()},t.prototype.stop=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return this.isStarted()?[4,this.close(cr.Initial)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.inhibitBackoff=function(){v(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=cr.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return t.handleIdleCloseTimer()}))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){return this.isOpen()?[2,this.close(cr.Initial)]:[2]})})},t.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},t.prototype.close=function(t,e){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(n){switch(n.label){case 0:return v(this.isStarted(),"Only started streams should be closed."),v(t===cr.Error||ir(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,t!==cr.Error?this.backoff.reset():e&&e.code===_.RESOURCE_EXHAUSTED?(m(e.toString()),m("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===_.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.onClose(e)];case 1:return n.sent(),[2]}})})},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;v(this.state===cr.Initial,"Must be in initial state to auth"),this.state=cr.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then(function(e){t.closeCount===n&&t.startStream(e)},function(n){e(function(){var e=new C(_.UNKNOWN,"Fetching auth token failed: "+n.message);return t.handleStreamClose(e)})})},t.prototype.startStream=function(t){var e=this;v(this.state===cr.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen(function(){n(function(){return v(e.state===cr.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=cr.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.performBackoff=function(){var t=this;v(this.state===cr.Error,"Should only perform backoff when in Error state"),this.state=cr.Backoff,this.backoff.backoffAndRun(function(){return o.__awaiter(t,void 0,void 0,function(){return o.__generator(this,function(t){return v(this.state===cr.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=cr.Initial,this.start(),v(this.isStarted(),"PersistentStream should have started"),[2]})})})},t.prototype.handleStreamClose=function(t){return v(this.isStarted(),"Can't handle server close on non-started stream"),d("PersistentStream","close with error: "+t),this.stream=null,this.close(cr.Error,t)},t.prototype.getCloseGuardedDispatcher=function(t){var e=this;return function(n){e.queue.enqueueAndForget(function(){return e.closeCount===t?n():(d("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),fr=function(t){function e(e,n,r,i,o){var a=t.call(this,e,Z.ListenStreamConnectionBackoff,Z.ListenStreamIdle,n,r,o)||this;return a.serializer=i,a}return o.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(hr),pr=function(t){function e(e,n,r,i,o){var a=t.call(this,e,Z.WriteStreamConnectionBackoff,Z.WriteStreamIdle,n,r,o)||this;return a.serializer=i,a.handshakeComplete_=!1,a.lastStreamToken=w(),a}return o.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,t.prototype.start.call(this)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(v(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return v(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){v(this.isOpen(),"Writing handshake requires an opened stream"),v(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;v(this.isOpen(),"Writing mutations requires an opened stream"),v(this.handshakeComplete_,"Handshake must be complete before writing mutations"),v(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},e}(hr),dr=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.newPersistentWriteStream=function(t){return new pr(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.newPersistentWatchStream=function(t){return new fr(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("Commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults,t.commitTime)})},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=At();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)});var i=[];return t.forEach(function(t){var e=r.get(t);v(!!e,"Missing entity in write response for "+t),i.push(e)}),i})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeRPC(t,e,r)}).catch(function(t){throw t.code===_.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeStreamingRPC(t,e,r)}).catch(function(t){throw t.code===_.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t}(),mr=function(){function t(t){this.datastore=t,this.readVersions=Mt(),this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n=this;return o.__generator(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new C(_.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.datastore.lookup(t)];case 1:return(e=r.sent()).forEach(function(t){t instanceof Be||t instanceof qe?n.recordVersion(t):y("Document in a transaction was a "+t.constructor.name)}),[2,e]}})})},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t))),this.writtenDocs.add(t)},t.prototype.update=function(t,e){try{this.write(e.toMutations(t,this.preconditionForUpdate(t)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(t)},t.prototype.delete=function(t){this.write([new _e(t,this.precondition(t))]),this.writtenDocs.add(t)},t.prototype.commit=function(){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(e){switch(e.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;if(t=this.readVersions,this.mutations.forEach(function(e){t=t.remove(e.key)}),!t.isEmpty())throw new C(_.INVALID_ARGUMENT,"Every document read in a transaction must also be written.");return[4,this.datastore.commit(this.mutations)];case 1:return e.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t instanceof qe)e=t.version;else{if(!(t instanceof Be))throw y("Document in a transaction was a "+t.constructor.name);e=Ct.forDeletedDoc()}var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new C(_.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return!this.writtenDocs.has(t)&&e?ge.updateTime(e):ge.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(!this.writtenDocs.has(t)&&e){if(e.isEqual(Ct.forDeletedDoc()))throw new C(_.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ge.updateTime(e)}return ge.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations=this.mutations.concat(t)},t.prototype.ensureCommitNotCalled=function(){v(!this.committed,"A transaction object cannot be used after its update callback has been invoked.")},t}(),gr=function(t){return t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline",t}({}),yr=function(t){return t[t.RemoteStore=0]="RemoteStore",t[t.SharedClientState=1]="SharedClientState",t}({}),vr=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=gr.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(gr.Unknown),v(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(Z.OnlineStateTimeout,1e4,function(){return t.onlineStateTimer=null,v(t.state===gr.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast(gr.Offline),Promise.resolve()}))},t.prototype.handleWatchStreamFailure=function(t){this.state===gr.Online?(this.setAndBroadcast(gr.Unknown),v(0===this.watchStreamFailures,"watchStreamFailures must be 0"),v(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+t.toString()),this.setAndBroadcast(gr.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===gr.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(m(e),this.shouldWarnClientIsOffline=!1):d("OnlineStateTracker",e)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}(),br=function(t){return t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS",t}({});function wr(t){switch(t){case _.OK:return y("Treated status OK as error");case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0;default:return y("Unknown status code: "+t)}}function _r(t){if(void 0===t)return m("GRPC error has no .code"),_.UNKNOWN;switch(t){case br.OK:return _.OK;case br.CANCELLED:return _.CANCELLED;case br.UNKNOWN:return _.UNKNOWN;case br.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case br.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case br.INTERNAL:return _.INTERNAL;case br.UNAVAILABLE:return _.UNAVAILABLE;case br.UNAUTHENTICATED:return _.UNAUTHENTICATED;case br.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case br.NOT_FOUND:return _.NOT_FOUND;case br.ALREADY_EXISTS:return _.ALREADY_EXISTS;case br.PERMISSION_DENIED:return _.PERMISSION_DENIED;case br.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case br.ABORTED:return _.ABORTED;case br.OUT_OF_RANGE:return _.OUT_OF_RANGE;case br.UNIMPLEMENTED:return _.UNIMPLEMENTED;case br.DATA_LOSS:return _.DATA_LOSS;default:return y("Unknown status code: "+t)}}var Cr=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||st.comparator(e.key,n.key)}:function(t,e){return st.comparator(t.key,e.key)},this.keyedMap=Pt(),this.sortedSet=new Et(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Er=function(t){return t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata",t}({}),Sr=function(t){return t[t.Local=0]="Local",t[t.Synced=1]="Synced",t}({}),Tr=function(){function t(){this.changeMap=new Et(st.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==Er.Added&&n.type===Er.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===Er.Metadata&&n.type!==Er.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===Er.Modified&&n.type===Er.Modified?this.changeMap=this.changeMap.insert(e,{type:Er.Modified,doc:t.doc}):t.type===Er.Modified&&n.type===Er.Added?this.changeMap=this.changeMap.insert(e,{type:Er.Added,doc:t.doc}):t.type===Er.Removed&&n.type===Er.Added?this.changeMap=this.changeMap.remove(e):t.type===Er.Removed&&n.type===Er.Modified?this.changeMap=this.changeMap.insert(e,{type:Er.Removed,doc:n.doc}):t.type===Er.Added&&n.type===Er.Removed?this.changeMap=this.changeMap.insert(e,{type:Er.Modified,doc:t.doc}):y("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Ir=function(){function t(t,e,n,r,i,o,a,l){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:Er.Added,doc:t})}),new t(e,n,Cr.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),kr=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r,i=((r={})[e]=Or.createSynthesizedTargetChangeForCurrentChange(e,n),r);return new t(Ct.MIN,i,Ft(),At(),Lt())},t}(),Or=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(w(),n,Lt(),Lt(),Lt())},t}(),xr=function(){return function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r}}(),Ar=function(){return function(t,e){this.targetId=t,this.existenceFilter=e}}(),Nr=function(t){return t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset",t}({}),Dr=function(){return function(t,e,n,r){void 0===n&&(n=w()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}(),Pr=function(){function t(){this.pendingResponses=0,this.documentChanges=jr(),this._resumeToken=w(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),t.prototype.updateResumeToken=function(t){t.length>0&&(this._hasPendingChanges=!0,this._resumeToken=t)},t.prototype.toTargetChange=function(){var t=Lt(),e=Lt(),n=Lt();return this.documentChanges.forEach(function(r,i){switch(i){case Er.Added:t=t.add(r);break;case Er.Modified:e=e.add(r);break;case Er.Removed:n=n.add(r);break;default:y("Encountered invalid change type: "+i)}}),new Or(this._resumeToken,this._current,t,e,n)},t.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=jr()},t.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},t.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},t.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},t.prototype.recordTargetResponse=function(){this.pendingResponses-=1},t.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},t}(),Rr=function(){function t(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=At(),this.pendingDocumentTargetMapping=Mr(),this.pendingTargetResets=new kt(W)}return t.prototype.handleDocumentChange=function(t){for(var e=0,n=t.updatedTargetIds;e<n.length;e++){var r=n[e];t.newDoc instanceof qe?this.addDocumentToTarget(r,t.newDoc):t.newDoc instanceof Be&&this.removeDocumentFromTarget(r,t.key,t.newDoc)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.removeDocumentFromTarget(r=o[i],t.key,t.newDoc)},t.prototype.handleTargetChange=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ensureTargetState(n);switch(t.state){case Nr.NoChange:e.isActiveTarget(n)&&r.updateResumeToken(t.resumeToken);break;case Nr.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(t.resumeToken);break;case Nr.Removed:r.recordTargetResponse(),r.isPending||e.removeTarget(n),v(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case Nr.Current:e.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(t.resumeToken));break;case Nr.Reset:e.isActiveTarget(n)&&(e.resetTarget(n),r.updateResumeToken(t.resumeToken));break;default:y("Unknown target watch change state: "+t.state)}})},t.prototype.forEachTarget=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):I(this.targetStates,e)},t.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,r=this.queryDataForActiveTarget(e);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var o=new st(i.path);this.removeDocumentFromTarget(e,o,new Be(o,Ct.forDeletedDoc()))}else v(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(e)!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},t.prototype.createRemoteEvent=function(t){var e=this,n={};I(this.targetStates,function(r,i){var o=e.queryDataForActiveTarget(r);if(o){if(i.current&&o.query.isDocumentQuery()){var a=new st(o.query.path);null!==e.pendingDocumentUpdates.get(a)||e.targetContainsDocument(r,a)||e.removeDocumentFromTarget(r,a,new Be(a,t))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}});var r=Lt();this.pendingDocumentTargetMapping.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.queryDataForActiveTarget(t);return!n||n.purpose===Cn.LimboResolution||(i=!1,!1)}),i&&(r=r.add(t))});var i=new kr(t,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=At(),this.pendingDocumentTargetMapping=Mr(),this.pendingTargetResets=new kt(W),i},t.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?Er.Modified:Er.Added;this.ensureTargetState(t).addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},t.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var r=this.ensureTargetState(t);this.targetContainsDocument(t,e)?r.addDocumentChange(e,Er.Removed):r.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},t.prototype.removeTarget=function(t){delete this.targetStates[t]},t.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},t.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new Pr),this.targetStates[t]},t.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new kt(W),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},t.prototype.isActiveTarget=function(t){var e=null!==this.queryDataForActiveTarget(t);return e||d("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.queryDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getQueryDataForTarget(t)},t.prototype.resetTarget=function(t){var e=this;v(!this.targetStates[t].isPending,"Should only reset active targets"),this.targetStates[t]=new Pr,this.metadataProvider.getRemoteKeysForTarget(t).forEach(function(n){e.removeDocumentFromTarget(t,n,null)})},t.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},t}();function Mr(){return new Et(st.comparator)}function jr(){return new Et(st.comparator)}var Lr="RemoteStore",Vr=function(){function t(t,e,n,r,i){var a=this;this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=i,this.connectivityMonitor.addCallback(function(t){n.enqueueAndForget(function(){return o.__awaiter(a,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(d(Lr,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.onlineStateTracker=new vr(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(t=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(gr.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype.disableNetwork=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(gr.Offline),[2]}})})},t.prototype.disableNetworkInternal=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return[4,this.writeStream.stop()];case 1:return t.sent(),[4,this.watchStream.stop()];case 2:return t.sent(),this.writePipeline.length>0&&(d(Lr,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},t.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return d(Lr,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(gr.Unknown),[2]}})})},t.prototype.listen=function(t){v(!S(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){v(S(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.watchStream.isOpen()&&this.sendUnwatchRequest(t),O(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(gr.Unknown))},t.prototype.getQueryDataForTarget=function(t){return this.listenTargets[t]||null},t.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},t.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.startWatchStream=function(){v(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Rr(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!O(this.listenTargets)},t.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},t.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},t.prototype.onWatchStreamOpen=function(){return o.__awaiter(this,void 0,void 0,function(){var t=this;return o.__generator(this,function(e){return I(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),[2]})})},t.prototype.onWatchStreamClose=function(t){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){return void 0===t&&v(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(gr.Unknown),[2]})})},t.prototype.onWatchStreamChange=function(t,e){return o.__awaiter(this,void 0,void 0,function(){var n;return o.__generator(this,function(r){switch(r.label){case 0:return this.onlineStateTracker.set(gr.Online),t instanceof Dr&&t.state===Nr.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof xr?this.watchChangeAggregator.handleDocumentChange(t):t instanceof Ar?this.watchChangeAggregator.handleExistenceFilter(t):(v(t instanceof Dr,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(t)),e.isEqual(Ct.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),e.compareTo(n)>=0?[4,this.raiseWatchSnapshot(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.raiseWatchSnapshot=function(t){var e=this;v(!t.isEqual(Ct.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(t);return I(n.targetChanges,function(n,r){if(r.resumeToken.length>0){var i=e.listenTargets[n];i&&(e.listenTargets[n]=i.withResumeToken(r.resumeToken,t))}}),n.targetMismatches.forEach(function(t){var n=e.listenTargets[t];if(n){e.listenTargets[t]=n.withResumeToken(w(),n.snapshotVersion),e.sendUnwatchRequest(t);var r=new En(n.query,t,Cn.ExistenceFilterMismatch,n.sequenceNumber);e.sendWatchRequest(r)}}),this.syncEngine.applyRemoteEvent(n)},t.prototype.handleTargetError=function(t){var e=this;v(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return o.__awaiter(e,void 0,void 0,function(){return o.__generator(this,function(e){return S(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,n)]):[2]})})})}),r},t.prototype.fillWritePipeline=function(){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(e){switch(e.label){case 0:return this.canAddToWritePipeline()?[4,this.localStore.nextMutationBatch(this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1)]:[3,4];case 1:return null!==(t=e.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:e.sent(),e.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},t.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},t.prototype.outstandingWrites=function(){return this.writePipeline.length},t.prototype.addToWritePipeline=function(t){v(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},t.prototype.startWriteStream=function(){v(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){return this.writeStream.writeHandshake(),[2]})})},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.writePipeline;e<n.length;e++)t.writeStream.writeMutations(n[e].mutations)}).catch(Ln)},t.prototype.onMutationResult=function(t,e){var n=this;v(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=qt.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){return o.__awaiter(this,void 0,void 0,function(){var e=this;return o.__generator(this,function(n){return void 0===t&&v(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),t&&this.writePipeline.length>0?[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})]:[2]})})},t.prototype.handleHandshakeError=function(t){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){return wr(t.code)?(d(Lr,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=w(),[2,this.localStore.setLastStreamToken(w()).catch(Ln)]):[2]})})},t.prototype.handleWriteError=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n=this;return o.__generator(this,function(r){return wr(i=t.code)&&i!==_.ABORTED?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then(function(){return n.fillWritePipeline()})]):[2];var i})})},t.prototype.createTransaction=function(){return new mr(this.datastore)},t.prototype.restartNetwork=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(gr.Unknown),[4,this.enableNetwork()];case 2:return t.sent(),[2]}})})},t.prototype.handleCredentialChange=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(d(Lr,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.applyPrimaryState=function(t){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.disableNetworkInternal()];case 3:e.sent(),this.onlineStateTracker.set(gr.Unknown),e.label=4;case 4:return[2]}})})},t}(),Fr=function(){function t(t,e){if(A("GeoPoint",arguments,2),P("GeoPoint","number",1,t),P("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new C(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new C(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return W(this._lat,t._lat)||W(this._long,t._long)},t}(),Ur=function(){function t(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)this.memoizedOrderBy=t.isKeyField()?[Zr]:[new Jr(t),Zr];else{v(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}n||this.memoizedOrderBy.push((this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:Yr.ASCENDING)===Yr.ASCENDING?Zr:$r)}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){v(null==this.getInequalityFilterField()||!(e instanceof zr)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),v(!this.isDocumentQuery(),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){v(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.asCollectionQueryAtPath=function(e){return new t(e,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.matchesAllDocuments=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.explicitOrderBy.length||1===this.explicitOrderBy.length&&this.explicitOrderBy[0].field.isKeyField())},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();this.isCollectionGroupQuery()&&(t+="|cg:"+this.collectionGroup),t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)t+=i[r].canonicalId(),t+=",";ir(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),ir(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(t,e);if(0!==a)return a;n=n||o.field.isKeyField()}return v(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesPathAndCollectionGroup(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!ir(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof zr&&n.isInequality())return n.field}return null},t.prototype.findFilterOperator=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof zr&&t.indexOf(r.op)>=0)return r.op}return null},t.prototype.isDocumentQuery=function(){return st.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},t.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},t.prototype.matchesPathAndCollectionGroup=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(e):st.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isImmediateParentOf(e)},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&null===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){v(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),qr=function(){return function(){}}(),Br=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;case"in":return t.IN;case"array-contains-any":return t.ARRAY_CONTAINS_ANY;default:return y("Unknown FieldFilter operator: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t.IN=new t("in"),t.ARRAY_CONTAINS_ANY=new t("array-contains-any"),t}(),zr=function(t){function e(e,n,r){var i=t.call(this)||this;return i.field=e,i.op=n,i.value=r,i}return o.__extends(e,t),e.create=function(t,n,r){if(t.isKeyField())return n===Br.IN?(v(r instanceof Fe,"Comparing on key with IN, but filter value not an ArrayValue"),v(r.internalValue.every(function(t){return t instanceof je}),"Comparing on key with IN, but an array value was not a RefValue"),new Kr(t,r)):(v(r instanceof je,"Comparing on key, but filter value not a RefValue"),v(n!==Br.ARRAY_CONTAINS&&n!==Br.ARRAY_CONTAINS_ANY,"'"+n.toString()+"' queries don't make sense on document keys."),new Hr(t,n,r));if(r.isEqual(Ie.INSTANCE)){if(n!==Br.EQUAL)throw new C(_.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(r.isEqual(Ne.NAN)){if(n!==Br.EQUAL)throw new C(_.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return n===Br.ARRAY_CONTAINS?new Gr(t,r):n===Br.IN?(v(r instanceof Fe,"IN filter has invalid value: "+r.toString()),new Wr(t,r)):n===Br.ARRAY_CONTAINS_ANY?(v(r instanceof Fe,"ARRAY_CONTAINS_ANY filter has invalid value: "+r.toString()),new Qr(t,r)):new e(t,n,r)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&this.value.typeOrder===e.typeOrder&&this.matchesComparison(e.compareTo(this.value))},e.prototype.matchesComparison=function(t){switch(this.op){case Br.LESS_THAN:return t<0;case Br.LESS_THAN_OR_EQUAL:return t<=0;case Br.EQUAL:return 0===t;case Br.GREATER_THAN:return t>0;case Br.GREATER_THAN_OR_EQUAL:return t>=0;default:return y("Unknown FieldFilter operator: "+this.op)}},e.prototype.isInequality=function(){return[Br.LESS_THAN,Br.LESS_THAN_OR_EQUAL,Br.GREATER_THAN,Br.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value)},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}(qr),Hr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.matches=function(t){var e=st.comparator(t.key,this.value.key);return this.matchesComparison(e)},e}(zr),Kr=function(t){function e(e,n){var r=t.call(this,e,Br.IN,n)||this;return r.value=n,r}return o.__extends(e,t),e.prototype.matches=function(t){return this.value.internalValue.some(function(e){return t.key.isEqual(e.key)})},e}(zr),Gr=function(t){function e(e,n){return t.call(this,e,Br.ARRAY_CONTAINS,n)||this}return o.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return e instanceof Fe&&e.contains(this.value)},e}(zr),Wr=function(t){function e(e,n){var r=t.call(this,e,Br.IN,n)||this;return r.value=n,r}return o.__extends(e,t),e.prototype.matches=function(t){var e=this.value,n=t.field(this.field);return null!==n&&e.contains(n)},e}(zr),Qr=function(t){function e(e,n){var r=t.call(this,e,Br.ARRAY_CONTAINS_ANY,n)||this;return r.value=n,r}return o.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return n instanceof Fe&&n.internalValue.some(function(t){return e.value.contains(t)})},e}(zr),Yr=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),Xr=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},t.prototype.sortsBeforeDocument=function(t,e){v(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.isKeyField())v(o instanceof je,"Bound has a non-key value where the key path is being used."),n=st.comparator(o.key,e.key);else{var a=e.field(i.field);v(null!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===Yr.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)if(!this.position[e].isEqual(t.position[e]))return!1;return!0},t}(),Jr=function(){function t(t,e){this.field=t,void 0===e&&(e=Yr.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?qe.compareByKey(t,e):qe.compareByField(this.field,t,e);switch(this.dir){case Yr.ASCENDING:return n;case Yr.DESCENDING:return-1*n;default:return y("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Zr=new Jr(ut.keyField(),Yr.ASCENDING),$r=new Jr(ut.keyField(),Yr.DESCENDING),ti=function(){function t(){}return t.prototype.applyToLocalView=function(t,e){return new Re(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),ei=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=ii(t),n=function(t){e.find(function(e){return e.isEqual(t)})||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Fe(e)},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&Q(e.elements,this.elements)},t}(),ni=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=ii(t),n=function(t){e=e.filter(function(e){return!e.isEqual(t)})},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Fe(e)},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&Q(e.elements,this.elements)},t}(),ri=function(){function t(t){this.operand=t}return t.prototype.applyToLocalView=function(t,e){var n=this.computeBaseValue(t);return n instanceof Ae&&this.operand instanceof Ae?new Ae(n.internalValue+this.operand.internalValue):new Ne(n.internalValue+this.operand.internalValue)},t.prototype.applyToRemoteDocument=function(t,e){return v(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},t.prototype.computeBaseValue=function(t){return t instanceof Oe?t:new Ae(0)},t.prototype.isEqual=function(e){return e instanceof t&&this.operand.isEqual(e.operand)},t}();function ii(t){return t instanceof Fe?t.internalValue.slice():[]}var oi,ai,li=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}(),ui=((oi={})[Yr.ASCENDING.name]="ASCENDING",oi[Yr.DESCENDING.name]="DESCENDING",oi),si=((ai={})[Br.LESS_THAN.name]="LESS_THAN",ai[Br.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",ai[Br.GREATER_THAN.name]="GREATER_THAN",ai[Br.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",ai[Br.EQUAL.name]="EQUAL",ai[Br.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",ai[Br.IN.name]="IN",ai[Br.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",ai),ci=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hi(t,e){v(!ir(t),e+" is missing")}function fi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):y("can't parse "+t)}var pi=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?_.UNKNOWN:_r(t.code);return new C(e,t.message||"")},t.prototype.toInt32Value=function(t){return this.options.useProto3Json||ir(t)?t:{value:t}},t.prototype.fromInt32Value=function(t){var e;return ir(e="object"==typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return this.options.useProto3Json?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return this.fromIso8601String(t);v(!!t,"Cannot deserialize null or undefined timestamp.");var e=fi(t.seconds||"0");return new _t(e,t.nanos||0)},t.prototype.fromIso8601String=function(t){var e=0,n=ci.exec(t);if(v(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t),o=Math.floor(i.getTime()/1e3);return new _t(o,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(v(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),$.fromBase64String(t)):(v(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),$.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return v(!!t,"Trying to deserialize version that isn't set"),Ct.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=at.fromString(t);return v(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return v(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),v(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new st(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?at.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new at(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new at(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return v(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof Ie)return{nullValue:"NULL_VALUE"};if(t instanceof ke)return{booleanValue:t.value()};if(t instanceof Ae)return{integerValue:""+t.value()};if(t instanceof Ne){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof De?{stringValue:t.value()}:t instanceof Ve?{mapValue:this.toMapValue(t)}:t instanceof Fe?{arrayValue:this.toArrayValue(t)}:t instanceof Pe?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof Le?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof Me?{bytesValue:this.toBytes(t.value())}:t instanceof je?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:y("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this;if("nullValue"in t)return Ie.INSTANCE;if("booleanValue"in t)return ke.of(t.booleanValue);if("integerValue"in t)return new Ae(fi(t.integerValue));if("doubleValue"in t){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return Ne.NAN;if("Infinity"===t.doubleValue)return Ne.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return Ne.NEGATIVE_INFINITY}return new Ne(t.doubleValue)}if("stringValue"in t)return new De(t.stringValue);if("mapValue"in t)return this.fromFields(t.mapValue.fields||{});if("arrayValue"in t)return hi(t.arrayValue,"arrayValue"),new Fe((t.arrayValue.values||[]).map(function(t){return e.fromValue(t)}));if("timestampValue"in t)return hi(t.timestampValue,"timestampValue"),new Pe(this.fromTimestamp(t.timestampValue));if("geoPointValue"in t)return hi(t.geoPointValue,"geoPointValue"),new Le(new Fr(t.geoPointValue.latitude||0,t.geoPointValue.longitude||0));if("bytesValue"in t){hi(t.bytesValue,"bytesValue");var n=this.fromBlob(t.bytesValue);return new Me(n)}if("referenceValue"in t){hi(t.referenceValue,"referenceValue");var r=this.fromResourceName(t.referenceValue),i=new rt(r.get(1),r.get(3)),o=new st(this.extractLocalPathFromResourceName(r));return new je(i,o)}return y("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return v(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data()),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t,e){var n=this,r=this.fromName(t.name),i=this.fromVersion(t.updateTime);return new qe(r,i,{hasCommittedMutations:!!e},void 0,t,function(t){return n.fromValue(t)})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(t){var e=this,n=Ve.EMPTY;return k(t,function(t,r){n=n.set(new ut([t]),e.fromValue(r))}),n},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){var e=this;v(!!t.found,"Tried to deserialize a found document from a missing document."),hi(t.found.name,"doc.found.name"),hi(t.found.updateTime,"doc.found.updateTime");var n=this.fromName(t.found.name),r=this.fromVersion(t.found.updateTime);return new qe(n,r,{},void 0,t.found,function(t){return e.fromValue(t)})},t.prototype.fromMissing=function(t){v(!!t.missing,"Tried to deserialize a missing document from a found document."),v(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new Be(e,n)},t.prototype.fromMaybeDocument=function(t){return"found"in t?this.fromFound(t):"missing"in t?this.fromMissing(t):y("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case Nr.Added:return"ADD";case Nr.Current:return"CURRENT";case Nr.NoChange:return"NO_CHANGE";case Nr.Removed:return"REMOVE";case Nr.Reset:return"RESET";default:return y("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof Ar)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof xr){var e;if(t.newDoc instanceof qe)return{documentChange:{document:{name:this.toName((e=t.newDoc).key),fields:this.toFields(e.data()),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}};if(t.newDoc instanceof Be)return{documentDelete:{document:this.toName((e=t.newDoc).key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Dr){var n=void 0;return t.cause&&(n={code:function(t){if(void 0===t)return br.OK;switch(t){case _.OK:return br.OK;case _.CANCELLED:return br.CANCELLED;case _.UNKNOWN:return br.UNKNOWN;case _.DEADLINE_EXCEEDED:return br.DEADLINE_EXCEEDED;case _.RESOURCE_EXHAUSTED:return br.RESOURCE_EXHAUSTED;case _.INTERNAL:return br.INTERNAL;case _.UNAVAILABLE:return br.UNAVAILABLE;case _.UNAUTHENTICATED:return br.UNAUTHENTICATED;case _.INVALID_ARGUMENT:return br.INVALID_ARGUMENT;case _.NOT_FOUND:return br.NOT_FOUND;case _.ALREADY_EXISTS:return br.ALREADY_EXISTS;case _.PERMISSION_DENIED:return br.PERMISSION_DENIED;case _.FAILED_PRECONDITION:return br.FAILED_PRECONDITION;case _.ABORTED:return br.ABORTED;case _.OUT_OF_RANGE:return br.OUT_OF_RANGE;case _.UNIMPLEMENTED:return br.UNIMPLEMENTED;case _.DATA_LOSS:return br.DATA_LOSS;default:return y("Unknown status code: "+t)}}(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return y("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=this;if("targetChange"in t){hi(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=t.targetChange.resumeToken||this.emptyByteString(),a=t.targetChange.cause,l=a&&this.fromRpcStatus(a);e=new Dr(r,i,o,l||null)}else if("documentChange"in t){hi(t.documentChange,"documentChange"),hi(t.documentChange.document,"documentChange.name"),hi(t.documentChange.document.name,"documentChange.document.name"),hi(t.documentChange.document.updateTime,"documentChange.document.updateTime");var u=t.documentChange,s=this.fromName(u.document.name),c=this.fromVersion(u.document.updateTime),h=new qe(s,c,{},void 0,u.document,function(t){return n.fromValue(t)});e=new xr(u.targetIds||[],u.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){hi(t.documentDelete,"documentDelete"),hi(t.documentDelete.document,"documentDelete.document");var f=t.documentDelete;s=this.fromName(f.document),c=f.readTime?this.fromVersion(f.readTime):Ct.forDeletedDoc(),h=new Be(s,c),e=new xr([],f.removedTargetIds||[],h.key,h)}else if("documentRemove"in t){hi(t.documentRemove,"documentRemove"),hi(t.documentRemove.document,"documentRemove");var p=t.documentRemove;s=this.fromName(p.document),e=new xr([],p.removedTargetIds||[],s,null)}else{if(!("filter"in t))return y("Unknown change type "+JSON.stringify(t));hi(t.filter,"filter"),hi(t.filter.targetId,"filter.targetId");var d=t.filter,m=new li(d.count||0);e=new Ar(d.targetId,m)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?Nr.NoChange:"ADD"===t?Nr.Added:"REMOVE"===t?Nr.Removed:"CURRENT"===t?Nr.Current:"RESET"===t?Nr.Reset:y("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!("targetChange"in t))return Ct.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?Ct.MIN:e.readTime?this.fromVersion(e.readTime):Ct.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof ve)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof _e)e={delete:this.toName(t.key)};else if(t instanceof be)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof we))return y("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):ge.NONE;if(t.update){hi(t.update.name,"name");var r=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var o=this.fromDocumentMask(t.updateMask);return new be(r,i,o,n)}return new ve(r,i,n)}if(t.delete)return r=this.fromName(t.delete),new _e(r,n);if(t.transform){r=this.fromName(t.transform.document);var a=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return v(!0===n.exists,'Transforms only support precondition "exists == true"'),new we(r,a)}return y("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return v(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:y("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?ge.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?ge.exists(t.exists):ge.NONE},t.prototype.fromWriteResult=function(t,e){var n=this,r=this.fromVersion(t.updateTime?t.updateTime:e);r.isEqual(Ct.MIN)&&(r=this.fromVersion(e));var i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults.map(function(t){return n.fromValue(t)})),new de(r,i)},t.prototype.fromWriteResults=function(t,e){var n=this;return t&&t.length>0?(v(void 0!==e,"Received a write result without a commit time"),t.map(function(t){return n.fromWriteResult(t,e)})):[]},t.prototype.toFieldTransform=function(t){var e=this,n=t.transform;if(n instanceof ti)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ei)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof ni)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof ri)return{fieldPath:t.field.canonicalString(),increment:this.toValue(n.operand)};throw y("Unknown transform: "+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,n=null;if("setToServerValue"in t)v("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),n=ti.instance;else if("appendMissingElements"in t)n=new ei((t.appendMissingElements.values||[]).map(function(t){return e.fromValue(t)}));else if("removeAllFromArray"in t)n=new ni((t.removeAllFromArray.values||[]).map(function(t){return e.fromValue(t)}));else if("increment"in t){var r=this.fromValue(t.increment);v(r instanceof Oe,"NUMERIC_ADD transform requires a NumberValue"),n=new ri(r)}else y("Unknown transform proto: "+JSON.stringify(t));var i=ut.fromServerFormat(t.fieldPath);return new pe(i,n)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;return v(1===e,"DocumentsTarget contained other than 1 document: "+e),Ur.atPath(this.fromQueryPath(t.documents[0]))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(v(n.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.toQueryPath(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(v(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var i=this.toOrder(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.toInt32Value(t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){v(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=this.fromFilter(n.where));var l=[];n.orderBy&&(l=this.fromOrder(n.orderBy));var u=null;n.limit&&(u=this.fromInt32Value(n.limit));var s=null;n.startAt&&(s=this.fromCursor(n.startAt));var c=null;return n.endAt&&(c=this.fromCursor(n.endAt)),new Ur(e,i,l,a,u,s,c)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case Cn.Listen:return null;case Cn.ExistenceFilterMismatch:return"existence-filter-mismatch";case Cn.LimboResolution:return"limbo-document";default:return y("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof zr?e.toUnaryOrFieldFilter(t):y("Unrecognized filter: "+JSON.stringify(t))});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromFieldFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):y("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map(function(t){return e.fromValue(t)});return new Xr(r,n)},t.prototype.toDirection=function(t){return ui[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return Yr.ASCENDING;case"DESCENDING":return Yr.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return si[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return Br.EQUAL;case"GREATER_THAN":return Br.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Br.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Br.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Br.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Br.ARRAY_CONTAINS;case"IN":return Br.IN;case"ARRAY_CONTAINS_ANY":return Br.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return y("Unspecified operator");default:return y("Unknown operator")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return ut.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new Jr(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.fromFieldFilter=function(t){return zr.create(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryOrFieldFilter=function(t){if(t.op===Br.EQUAL){if(t.value.isEqual(Ne.NAN))return{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}};if(t.value.isEqual(Ie.INSTANCE))return{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return zr.create(e,Br.EQUAL,Ne.NAN);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return zr.create(n,Br.EQUAL,Ie.INSTANCE);case"OPERATOR_UNSPECIFIED":return y("Unspecified filter");default:return y("Unknown filter")}},t.prototype.toDocumentMask=function(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map(function(t){return ut.fromServerFormat(t)});return fe.fromArray(e)},t}(),di=function(){return function(){this.viewSnap=null,this.targetId=0,this.listeners=[]}}(),mi=function(){function t(t){this.syncEngine=t,this.queries=new He(function(t){return t.canonicalId()}),this.onlineState=gr.Unknown,this.snapshotsInSyncListeners=new Set,this.syncEngine.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new di,this.queries.set(e,r)),r.listeners.push(t),v(!t.applyOnlineStateChange(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),r.viewSnap&&t.onViewSnapshot(r.viewSnap)&&this.raiseSnapshotsInSyncEvent(),n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return o.__generator(this,function(o){return n=!1,(r=this.queries.get(e=t.query))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},t.prototype.onWatchChange=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=this.queries.get(i.query);if(o){for(var a=0,l=o.listeners;a<l.length;a++)l[a].onViewSnapshot(i)&&(e=!0);o.viewSnap=i}}e&&this.raiseSnapshotsInSyncEvent()},t.prototype.onWatchError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.queries.delete(t)},t.prototype.onOnlineStateChange=function(t){this.onlineState=t;var e=!1;this.queries.forEach(function(n,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].applyOnlineStateChange(t)&&(e=!0)}),e&&this.raiseSnapshotsInSyncEvent()},t.prototype.addSnapshotsInSyncListener=function(t){this.snapshotsInSyncListeners.add(t),t.next()},t.prototype.removeSnapshotsInSyncListener=function(t){this.snapshotsInSyncListeners.delete(t)},t.prototype.raiseSnapshotsInSyncEvent=function(){this.snapshotsInSyncListeners.forEach(function(t){t.next()})},t}(),gi=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.snap=null,this.onlineState=gr.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(v(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==Er.Metadata&&e.push(i)}t=new Ir(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(t)&&(this.queryObserver.next(t),o=!0):this.shouldRaiseInitialEvent(t,this.onlineState)&&(this.raiseInitialEvent(t),o=!0),this.snap=t,o},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t;var e=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&(this.raiseInitialEvent(this.snap),e=!0),e},t.prototype.shouldRaiseInitialEvent=function(t,e){return v(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache||(this.options.waitForSyncWhenOnline&&e!==gr.Offline?(v(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===gr.Offline)},t.prototype.shouldRaiseEvent=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(t){v(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t=Ir.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(t)},t}(),yi=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.addedKeys=n,this.removedKeys=r}return t.fromSnapshot=function(e,n){for(var r=Lt(),i=Lt(),o=0,a=n.docChanges;o<a.length;o++){var l=a[o];switch(l.type){case Er.Added:r=r.add(l.doc.key);break;case Er.Removed:i=i.add(l.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),vi=function(){return function(t){this.key=t}}(),bi=function(){return function(t){this.key=t}}(),wi=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=Lt(),this.mutatedKeys=Lt(),this.documentSet=new Cr(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new Tr,i=e?e.documentSet:this.documentSet,o=e?e.mutatedKeys:this.mutatedKeys,a=i,l=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(t.inorderTraversal(function(t,e){var s=i.get(t),c=e instanceof qe?e:null;c&&(v(t.isEqual(c.key),"Mismatching keys found in document changes: "+t+" != "+c.key),c=n.query.matches(c)?c:null);var h=!!s&&n.mutatedKeys.has(s.key),f=!!c&&(c.hasLocalMutations||n.mutatedKeys.has(c.key)&&c.hasCommittedMutations),p=!1;s&&c?s.data().isEqual(c.data())?h!==f&&(r.track({type:Er.Metadata,doc:c}),p=!0):n.shouldWaitForSyncedDocument(s,c)||(r.track({type:Er.Modified,doc:c}),p=!0,u&&n.query.docComparator(c,u)>0&&(l=!0)):!s&&c?(r.track({type:Er.Added,doc:c}),p=!0):s&&!c&&(r.track({type:Er.Removed,doc:s}),p=!0,u&&(l=!0)),p&&(c?(a=a.add(c),o=f?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),this.query.hasLimit())for(;a.size>this.query.limit;){var s=a.last();a=a.delete(s.key),o=o.delete(s.key),r.track({type:Er.Removed,doc:s})}return v(!l||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:l,mutatedKeys:o}},t.prototype.shouldWaitForSyncedDocument=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this;v(!t.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var o=t.changeSet.getChanges();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case Er.Added:return 1;case Er.Modified:case Er.Metadata:return 2;case Er.Removed:return 0;default:return y("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||r.query.docComparator(t.doc,e.doc)}),this.applyTargetChange(n);var a=e?this.updateLimboDocuments():[],l=0===this.limboDocuments.size&&this.current?Sr.Synced:Sr.Local,u=l!==this.syncState;return this.syncState=l,0!==o.length||u?{snapshot:new Ir(this.query,t.documentSet,i,o,t.mutatedKeys,l===Sr.Local,u,!1),limboChanges:a}:{limboChanges:a}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===gr.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Tr,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations},t.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.add(t)}),t.modifiedDocuments.forEach(function(t){return v(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")}),t.removedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)}),this.current=t.current)},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=Lt(),this.documentSet.forEach(function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))});var n=[];return e.forEach(function(e){t.limboDocuments.has(e)||n.push(new bi(e))}),this.limboDocuments.forEach(function(t){e.has(t)||n.push(new vi(t))}),n},t.prototype.synchronizeWithPersistedState=function(t){this._syncedDocuments=t.remoteKeys,this.limboDocuments=Lt();var e=this.computeDocChanges(t.documents);return this.applyChanges(e,!0)},t.prototype.computeInitialSnapshot=function(){return Ir.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Sr.Local)},t}(),_i=5,Ci=function(){function t(t,e,n,r){this.asyncQueue=t,this.remoteStore=e,this.updateFunction=n,this.deferred=r,this.retries=_i,this.backoff=new sr(this.asyncQueue,Z.RetryTransaction)}return t.prototype.run=function(){this.runWithBackOff()},t.prototype.runWithBackOff=function(){var t=this;this.backoff.backoffAndRun(function(){return o.__awaiter(t,void 0,void 0,function(){var t,e,n=this;return o.__generator(this,function(r){return t=this.remoteStore.createTransaction(),(e=this.tryRunUpdateFunction(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.handleTransactionError(t)})})}).catch(function(t){n.handleTransactionError(t)}),[2]})})})},t.prototype.tryRunUpdateFunction=function(t){try{var e=this.updateFunction(t);return!ir(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(m){return this.deferred.reject(m),null}},t.prototype.handleTransactionError=function(t){var e=this;this.retries>0&&this.isRetryableTransactionError(t)?(this.retries-=1,this.asyncQueue.enqueueAndForget(function(){return e.runWithBackOff(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.isRetryableTransactionError=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!wr(e)}return!1},t}(),Ei=function(){return function(t,e,n){this.query=t,this.targetId=e,this.view=n}}(),Si=function(){return function(t){this.key=t,this.receivedDocument=!1}}(),Ti=function(){function t(t,e,n,r){this.localStore=t,this.remoteStore=e,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new He(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new Et(st.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new zn,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=Zt.forSyncEngine(),this.isPrimary=void 0,this.onlineState=gr.Unknown}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){v(null!==t,"SyncEngine listener cannot be null"),v(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=t},t.prototype.listen=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n,r,i,a;return o.__generator(this,function(o){switch(o.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(t))?(this.sharedClientState.addLocalQueryTarget(e=r.targetId),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(t)];case 2:return i=o.sent(),a=this.sharedClientState.addLocalQueryTarget(i.targetId),e=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===a)];case 3:n=o.sent(),this.isPrimary&&this.remoteStore.listen(i),o.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,e]}})})},t.prototype.initializeViewAndComputeSnapshot=function(t,e){return o.__awaiter(this,void 0,void 0,function(){var n,r,i,a,l,u,s;return o.__generator(this,function(o){switch(o.label){case 0:return[4,this.localStore.executeQuery(n=t.query,!0)];case 1:return r=o.sent(),i=new wi(n,r.remoteKeys),a=i.computeDocChanges(r.documents),l=Or.createSynthesizedTargetChangeForCurrentChange(t.targetId,e&&this.onlineState!==gr.Offline),v(0===(u=i.applyChanges(a,!0===this.isPrimary,l)).limboChanges.length,"View returned limbo docs before target ack from the server."),v(!!u.snapshot,"applyChanges for new view should always return a snapshot"),s=new Ei(n,t.targetId,i),this.queryViewsByQuery.set(n,s),this.queryViewsByTarget[t.targetId]=s,[2,u.snapshot]}})})},t.prototype.synchronizeViewAndComputeSnapshot=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n;return o.__generator(this,function(r){switch(r.label){case 0:return[4,this.localStore.executeQuery(t.query,!0)];case 1:return e=r.sent(),n=t.view.synchronizeWithPersistedState(e),this.isPrimary&&this.updateTrackedLimbos(t.targetId,n.limboChanges),[2,n]}})})},t.prototype.unlisten=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n=this;return o.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),v(!!(e=this.queryViewsByQuery.get(t)),"Trying to unlisten on query not found:"+t),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.sharedClientState.isActiveQueryTarget(e.targetId)?[3,2]:[4,this.localStore.releaseQuery(t,!1).then(function(){n.sharedClientState.clearQueryState(e.targetId),n.remoteStore.unlisten(e.targetId),n.removeAndCleanupQuery(e)}).catch(Ln)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(e),[4,this.localStore.releaseQuery(t,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}})})},t.prototype.write=function(t,e){return o.__awaiter(this,void 0,void 0,function(){var n;return o.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed("write()"),[4,this.localStore.localWrite(t)];case 1:return n=r.sent(),this.sharedClientState.addPendingMutation(n.batchId),this.addMutationCallback(n.batchId,e),[4,this.emitNewSnapsAndNotifyLocalStore(n.changes)];case 2:return r.sent(),[4,this.remoteStore.fillWritePipeline()];case 3:return r.sent(),[2]}})})},t.prototype.runTransaction=function(t,e,n){new Ci(t,this.remoteStore,e,n).run()},t.prototype.applyRemoteEvent=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n=this;return o.__generator(this,function(r){switch(r.label){case 0:this.assertSubscribed("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.applyRemoteEvent(t)];case 2:return e=r.sent(),k(t.targetChanges,function(t,e){var r=n.limboResolutionsByTarget[Number(t)];r&&(v(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),e.addedDocuments.size>0?r.receivedDocument=!0:e.modifiedDocuments.size>0?v(r.receivedDocument,"Received change for limbo target document without add."):e.removedDocuments.size>0&&(v(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))}),[4,this.emitNewSnapsAndNotifyLocalStore(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,Ln(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},t.prototype.applyOnlineStateChange=function(t,e){if(this.isPrimary&&e===yr.RemoteStore||!this.isPrimary&&e===yr.SharedClientState){this.assertSubscribed("applyOnlineStateChange()");var n=[];this.queryViewsByQuery.forEach(function(e,r){var i=r.view.applyOnlineStateChange(t);v(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)}),this.syncEngineListener.onOnlineStateChange(t),this.syncEngineListener.onWatchChange(n),this.onlineState=t,this.isPrimary&&this.sharedClientState.setOnlineState(t)}},t.prototype.rejectListen=function(t,e){return o.__awaiter(this,void 0,void 0,function(){var n,r,i,a,l,u,s=this;return o.__generator(this,function(o){switch(o.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(t,"rejected",e),(r=(n=this.limboResolutionsByTarget[t])&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[t],i=(i=new Et(st.comparator)).insert(r,new Be(r,Ct.forDeletedDoc())),a=Lt().add(r),l=new kr(Ct.MIN,{},new kt(W),i,a),[2,this.applyRemoteEvent(l)]):[3,1];case 1:return v(!!(u=this.queryViewsByTarget[t]),"Unknown targetId: "+t),[4,this.localStore.releaseQuery(u.query,!1).then(function(){return s.removeAndCleanupQuery(u)}).catch(Ln)];case 2:o.sent(),this.syncEngineListener.onWatchError(u.query,e),o.label=3;case 3:return[2]}})})},t.prototype.applyBatchState=function(t,e,n){return o.__awaiter(this,void 0,void 0,function(){var r;return o.__generator(this,function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(t)];case 1:return null===(r=i.sent())?(d("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.processUserCallback(t,n||null),this.localStore.removeCachedMutationBatchMetadata(t)):y("Unknown batchState: "+e),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}})})},t.prototype.applySuccessfulWrite=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n;return o.__generator(this,function(r){switch(r.label){case 0:this.assertSubscribed("applySuccessfulWrite()"),this.processUserCallback(e=t.batch.batchId,null),this.triggerPendingWritesCallbacks(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.acknowledgeBatch(t)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(e,"acknowledged"),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,Ln(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},t.prototype.rejectFailedWrite=function(t,e){return o.__awaiter(this,void 0,void 0,function(){var n;return o.__generator(this,function(r){switch(r.label){case 0:this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.triggerPendingWritesCallbacks(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.rejectBatch(t)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(t,"rejected",e),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,Ln(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},t.prototype.registerPendingWritesCallback=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n;return o.__generator(this,function(r){switch(r.label){case 0:return this.remoteStore.canUseNetwork()||d("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.localStore.getHighestUnacknowledgedBatchId()];case 1:return-1===(e=r.sent())?(t.resolve(),[2]):((n=this.pendingWritesCallbacks.get(e)||[]).push(t),this.pendingWritesCallbacks.set(e,n),[2])}})})},t.prototype.triggerPendingWritesCallbacks=function(t){(this.pendingWritesCallbacks.get(t)||[]).forEach(function(t){t.resolve()}),this.pendingWritesCallbacks.delete(t)},t.prototype.rejectOutstandingPendingWritesCallbacks=function(t){this.pendingWritesCallbacks.forEach(function(e){e.forEach(function(e){e.reject(new C(_.CANCELLED,t))})}),this.pendingWritesCallbacks.clear()},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new Et(W)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(v(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){var e=this;if(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(t.targetId);this.limboDocumentRefs.removeReferencesForId(t.targetId),n.forEach(function(t){e.limboDocumentRefs.containsKey(t)||e.removeLimboTarget(t)})}},t.prototype.removeLimboTarget=function(t){var e=this.limboTargetsByKey.get(t);null!==e&&(this.remoteStore.unlisten(e),this.limboTargetsByKey=this.limboTargetsByKey.remove(t),delete this.limboResolutionsByTarget[e])},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof vi?(this.limboDocumentRefs.addReference(i.key,t),this.trackLimboChange(i)):i instanceof bi?(d("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,t),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)):y("Unknown limbo change: "+JSON.stringify(i))}},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){d("SyncEngine","New document in limbo: "+e);var n=this.limboTargetIdGenerator.next(),r=Ur.atPath(e.path);this.limboResolutionsByTarget[n]=new Si(e),this.remoteStore.listen(new En(r,n,Cn.LimboResolution,it.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){return o.__awaiter(this,void 0,void 0,function(){var n,r,i,a=this;return o.__generator(this,function(o){switch(o.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach(function(o,l){i.push(Promise.resolve().then(function(){var e=l.view.computeDocChanges(t);return e.needsRefill?a.localStore.executeQuery(l.query,!1).then(function(t){return l.view.computeDocChanges(t.documents,e)}):e}).then(function(t){var i=l.view.applyChanges(t,!0===a.isPrimary,e&&e.targetChanges[l.targetId]);if(a.updateTrackedLimbos(l.targetId,i.limboChanges),i.snapshot){a.isPrimary&&a.sharedClientState.updateQueryState(l.targetId,i.snapshot.fromCache?"not-current":"current"),n.push(i.snapshot);var o=yi.fromSnapshot(l.targetId,i.snapshot);r.push(o)}}))}),[4,Promise.all(i)];case 1:return o.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return o.sent(),[2]}})})},t.prototype.assertSubscribed=function(t){v(null!==this.syncEngineListener,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleCredentialChange=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n;return o.__generator(this,function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.rejectOutstandingPendingWritesCallbacks("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.localStore.handleUserChange(t)]):[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}})})},t.prototype.applyPrimaryState=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n,r,i,a,l,u=this;return o.__generator(this,function(o){switch(o.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return o.sent(),e=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e.toArray())];case 2:for(n=o.sent(),r=0,i=n;r<i.length;r++)this.remoteStore.listen(i[r]);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,a=[],l=Promise.resolve(),I(this.queryViewsByTarget,function(t,e){u.sharedClientState.isLocalQueryTarget(t)?a.push(t):l=l.then(function(){return u.unlisten(e.query)}),u.remoteStore.unlisten(e.targetId)}),[4,l]);case 4:return o.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)];case 5:return o.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:o.sent(),o.label=7;case 7:return[2]}})})},t.prototype.resetLimboDocuments=function(){var t=this;I(this.limboResolutionsByTarget,function(e){t.remoteStore.unlisten(e)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new Et(st.comparator)},t.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n,r,i,a,l,u,s,c;return o.__generator(this,function(o){switch(o.label){case 0:e=[],n=[],r=0,i=t,o.label=1;case 1:return r<i.length?(l=void 0,(u=this.queryViewsByTarget[a=i[r]])?[4,this.localStore.releaseQuery(u.query,!0)]:[3,5]):[3,11];case 2:return o.sent(),[4,this.localStore.allocateQuery(u.query)];case 3:return l=o.sent(),[4,this.synchronizeViewAndComputeSnapshot(u)];case 4:return(s=o.sent()).snapshot&&n.push(s.snapshot),[3,9];case 5:return v(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(a)];case 6:return v(!!(c=o.sent()),"Query data for target "+a+" not found"),[4,this.localStore.allocateQuery(c)];case 7:return l=o.sent(),[4,this.initializeViewAndComputeSnapshot(l,!1)];case 8:o.sent(),o.label=9;case 9:e.push(l),o.label=10;case 10:return r++,[3,1];case 11:return this.syncEngineListener.onWatchChange(n),[2,e]}})})},t.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},t.prototype.applyTargetState=function(t,e,n){return o.__awaiter(this,void 0,void 0,function(){var r,i,a;return o.__generator(this,function(o){switch(o.label){case 0:if(this.isPrimary)return d("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[t])return[3,7];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,4]}return[3,6];case 1:return[4,this.localStore.getNewDocumentChanges()];case 2:return r=o.sent(),i=kr.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,this.emitNewSnapsAndNotifyLocalStore(r,i)];case 3:return o.sent(),[3,7];case 4:return this.removeAndCleanupQuery(a=this.queryViewsByTarget[t]),[4,this.localStore.releaseQuery(a.query,!0)];case 5:return o.sent(),this.syncEngineListener.onWatchError(a.query,n),[3,7];case 6:y("Unexpected target state: "+e),o.label=7;case 7:return[2]}})})},t.prototype.applyActiveTargetsChange=function(t,e){return o.__awaiter(this,void 0,void 0,function(){var n,r,i,a,l,u,s,c,h,f=this;return o.__generator(this,function(p){switch(p.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,p.label=1;case 1:return n<r.length?(v(!this.queryViewsByTarget[h=r[n]],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(h)]):[3,6];case 2:return v(!!(i=p.sent()),"Query data for active target "+h+" not found"),[4,this.localStore.allocateQuery(i)];case 3:return a=p.sent(),[4,this.initializeViewAndComputeSnapshot(a,!1)];case 4:p.sent(),this.remoteStore.listen(a),p.label=5;case 5:return n++,[3,1];case 6:l=function(t){var e;return o.__generator(this,function(n){switch(n.label){case 0:return(e=u.queryViewsByTarget[t])?[4,u.localStore.releaseQuery(e.query,!1).then(function(){f.remoteStore.unlisten(t),f.removeAndCleanupQuery(e)}).catch(Ln)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})},u=this,s=0,c=e,p.label=7;case 7:return s<c.length?[5,l(h=c[s])]:[3,10];case 8:p.sent(),p.label=9;case 9:return s++,[3,7];case 10:return[2]}})})},t.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},t.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},t.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];return e&&e.receivedDocument?Lt().add(e.key):this.queryViewsByTarget[t]?this.queryViewsByTarget[t].view.syncedDocuments:Lt()},t}(),Ii=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),ki="SharedClientState",Oi="firestore_clients",xi="firestore_mutations",Ai="firestore_targets",Ni="firestore_online_state",Di="firestore_sequence_number",Pi=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,v(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new C(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(m(ki,"Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ri=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,v(void 0!==n==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new C(r.error.code,r.error.message)),i?new t(e,r.state,o):(m(ki,"Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Mi=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.fromWebStorageEntry=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ft(),a=0;i&&a<r.activeTargetIds.length;++a)i=or(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(m(ki,"Failed to parse client data for instance '"+e+"': "+n),null)},t}(),ji=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.fromWebStorageEntry=function(e){var n=JSON.parse(e);return"object"==typeof n&&n.onlineState in gr&&"string"==typeof n.clientId?new t(n.clientId,gr[n.onlineState]):(m(ki,"Failed to parse online state: "+e),null)},t}(),Li=function(){function t(){this.activeTargetIds=Ft()}return t.prototype.addQueryTarget=function(t){v(!this.activeTargetIds.has(t),"Target with ID '"+t+"' already active."),this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.removeQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.toWebStorageJSON=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Vi=function(){function t(e,n,r,i,o){if(this.queue=e,this.platform=n,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!t.isAvailable(this.platform))throw new C(_.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=Di+"_"+r,this.activeClients[this.localClientId]=new Li,this.clientStateKeyRe=new RegExp("^"+Oi+"_"+a+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+xi+"_"+a+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+Ai+"_"+a+"_(\\d+)$"),this.onlineStateKey=Ni+"_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return t.isAvailable=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return o.__awaiter(this,void 0,void 0,function(){var t,e,n,r,i,a,l,u,s,c,h=this;return o.__generator(this,function(o){switch(o.label){case 0:return v(!this.started,"WebStorageSharedClientState already started"),v(null!==this.syncEngine,"syncEngine property must be set before calling start()"),v(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(t=o.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)))&&(a=Mi.fromWebStorageEntry(r,i))&&(this.activeClients[a.clientId]=a);for(this.persistClientState(),(l=this.storage.getItem(this.onlineStateKey))&&(u=this.fromWebStorageOnlineState(l))&&this.handleOnlineStateEvent(u),s=0,c=this.earlyEvents;s<c.length;s++)this.handleWebStorageEvent(c[s]);return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return h.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.sequenceNumberKey,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){var t=Ft();return k(this.activeClients,function(e,n){t=t.unionWith(n.activeTargetIds)}),t},t.prototype.isActiveQueryTarget=function(t){for(var e in this.activeClients)if(this.activeClients.hasOwnProperty(e)&&this.activeClients[e].activeTargetIds.has(t))return!0;return!1},t.prototype.addPendingMutation=function(t){this.persistMutationState(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.persistMutationState(t,e,n),this.removeMutationState(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(t));if(n){var r=Ri.fromWebStorageEntry(t,n);r&&(e=r.state)}}return this.localClientState.addQueryTarget(t),this.persistClientState(),e},t.prototype.removeLocalQueryTarget=function(t){this.localClientState.removeQueryTarget(t),this.persistClientState()},t.prototype.isLocalQueryTarget=function(t){return this.localClientState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(this.toWebStorageQueryTargetMetadataKey(t))},t.prototype.updateQueryState=function(t,e,n){this.persistQueryTargetState(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.removeMutationState(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.persistOnlineState(t)},t.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return d(ki,"READ",t,e),e},t.prototype.setItem=function(t,e){d(ki,"SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){d(ki,"REMOVE",t),this.storage.removeItem(t)},t.prototype.handleWebStorageEvent=function(t){var e=this;if(t.storageArea===this.storage){if(d(ki,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey)return void m("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return o.__awaiter(e,void 0,void 0,function(){var e,n,r,i,a,l;return o.__generator(this,function(o){if(!this.started)return this.earlyEvents.push(t),[2];if(null===t.key)return[2];if(this.clientStateKeyRe.test(t.key)){if(null==t.newValue)return n=this.fromWebStorageClientStateKey(t.key),[2,this.handleClientStateEvent(n,null)];if(e=this.fromWebStorageClientState(t.key,t.newValue))return[2,this.handleClientStateEvent(e.clientId,e)]}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue&&(r=this.fromWebStorageMutationMetadata(t.key,t.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue&&(i=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(t.key===this.onlineStateKey){if(null!==t.newValue&&(a=this.fromWebStorageOnlineState(t.newValue)))return[2,this.handleOnlineStateEvent(a)]}else t.key===this.sequenceNumberKey&&(v(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(l=function(t){var e=it.INVALID;if(null!=t)try{var n=JSON.parse(t);v("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(r){m(ki,"Failed to read sequence number from WebStorage",r)}return e}(t.newValue))!==it.INVALID&&this.sequenceNumberHandler(l));return[2]})})})}},Object.defineProperty(t.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),t.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},t.prototype.persistMutationState=function(t,e,n){var r=new Pi(this.currentUser,t,e,n),i=this.toWebStorageMutationBatchKey(t);this.setItem(i,r.toWebStorageJSON())},t.prototype.removeMutationState=function(t){var e=this.toWebStorageMutationBatchKey(t);this.removeItem(e)},t.prototype.persistOnlineState=function(t){this.storage.setItem(this.onlineStateKey,JSON.stringify({clientId:this.localClientId,onlineState:gr[t]}))},t.prototype.persistQueryTargetState=function(t,e,n){var r=this.toWebStorageQueryTargetMetadataKey(t),i=new Ri(t,e,n);this.setItem(r,i.toWebStorageJSON())},t.prototype.toWebStorageClientStateKey=function(t){return v(-1===t.indexOf("_"),"Client key cannot contain '_', but was '"+t+"'"),Oi+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageQueryTargetMetadataKey=function(t){return Ai+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageMutationBatchKey=function(t){var e=xi+"_"+this.persistenceKey+"_"+t;return this.currentUser.isAuthenticated()&&(e+="_"+this.currentUser.uid),e},t.prototype.fromWebStorageClientStateKey=function(t){var e=this.clientStateKeyRe.exec(t);return e?e[1]:null},t.prototype.fromWebStorageClientState=function(t,e){var n=this.fromWebStorageClientStateKey(t);return v(null!==n,"Cannot parse client state key '"+t+"'"),Mi.fromWebStorageEntry(n,e)},t.prototype.fromWebStorageMutationMetadata=function(t,e){var n=this.mutationBatchKeyRe.exec(t);v(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]);return Pi.fromWebStorageEntry(new Ii(void 0!==n[2]?n[2]:null),r,e)},t.prototype.fromWebStorageQueryTargetMetadata=function(t,e){var n=this.queryTargetKeyRe.exec(t);v(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return Ri.fromWebStorageEntry(r,e)},t.prototype.fromWebStorageOnlineState=function(t){return ji.fromWebStorageEntry(t)},t.prototype.handleMutationBatchEvent=function(t){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(e){return t.user.uid!==this.currentUser.uid?(d(ki,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.syncEngine.applyBatchState(t.batchId,t.state,t.error)]})})},t.prototype.handleQueryTargetEvent=function(t){return this.syncEngine.applyTargetState(t.targetId,t.state,t.error)},t.prototype.handleClientStateEvent=function(t,e){var n=this,r=this.getAllActiveQueryTargets();e?this.activeClients[t]=e:delete this.activeClients[t];var i=this.getAllActiveQueryTargets(),a=[],l=[];return i.forEach(function(t){return o.__awaiter(n,void 0,void 0,function(){return o.__generator(this,function(e){return r.has(t)||a.push(t),[2]})})}),r.forEach(function(t){return o.__awaiter(n,void 0,void 0,function(){return o.__generator(this,function(e){return i.has(t)||l.push(t),[2]})})}),this.syncEngine.applyActiveTargetsChange(a,l)},t.prototype.handleOnlineStateEvent=function(t){this.activeClients[t.clientId]&&this.onlineStateHandler(t.onlineState)},t}(),Fi=function(){function t(){this.localState=new Li,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.localState.addQueryTarget(t),this.queryState[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.queryState[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.localState.removeQueryTarget(t)},t.prototype.isLocalQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.queryState[t]},t.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.start=function(){return this.localState=new Li,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t}(),Ui=function(){function t(t,e){this.cacheSizeBytes=t,this.synchronizeTabs=e}return t.prototype.lruParams=function(){return On.withCacheSize(this.cacheSizeBytes)},t}(),qi=function(){return function(){}}(),Bi=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r,this.clientId=G.newId()}return t.prototype.start=function(t){var e=this;this.verifyNotTerminated();var n=new ct,r=new ct,i=!1;return this.credentials.setChangeListener(function(o){i?e.asyncQueue.enqueueAndForget(function(){return e.handleCredentialChange(o)}):(i=!0,e.initializePersistence(t,r,o).then(function(t){return e.initializeRest(o,t)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueueAndForget(function(){return n.promise}),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return t.syncEngine.enableNetwork()})},t.prototype.initializePersistence=function(t,e,n){var r=this;return t instanceof Ui?this.startIndexedDbPersistence(n,t).then(function(t){return e.resolve(),t}).catch(function(t){if(e.reject(t),!r.canFallback(t))throw t;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+t),r.startMemoryPersistence()}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof C?t.code===_.FAILED_PRECONDITION||t.code===_.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new C(_.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.startIndexedDbPersistence=function(t,e){var n=this,r=jn.buildStoragePrefix(this.databaseInfo),i=new pi(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return o.__awaiter(n,void 0,void 0,function(){var n,a;return o.__generator(this,function(o){switch(o.label){case 0:if(e.synchronizeTabs&&!Vi.isAvailable(this.platform))throw new C(_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return n=e.lruParams(),this.sharedClientState=e.synchronizeTabs?new Vi(this.asyncQueue,this.platform,r,this.clientId,t):new Fi,[4,jn.createIndexedDbPersistence({allowTabSynchronization:e.synchronizeTabs,persistenceKey:r,clientId:this.clientId,platform:this.platform,queue:this.asyncQueue,serializer:i,lruParams:n,sequenceNumberSyncer:this.sharedClientState})];case 1:return a=o.sent(),this.persistence=a,[2,a.referenceDelegate.garbageCollector]}})})})},t.prototype.startMemoryPersistence=function(){return this.persistence=Yn.createEagerPersistence(this.clientId),this.sharedClientState=new Fi,Promise.resolve(null)},t.prototype.initializeRest=function(t,e){var n=this;return d("FirestoreClient","Initializing. user=",t.uid),this.platform.loadConnection(this.databaseInfo).then(function(r){return o.__awaiter(n,void 0,void 0,function(){var n,i,a,l,u,s=this;return o.__generator(this,function(c){switch(c.label){case 0:return n=new $n,this.localStore=new Kn(this.persistence,n,t),[4,this.localStore.start()];case 1:return c.sent(),e&&(this.lruScheduler=new xn(e,this.asyncQueue,this.localStore)),i=this.platform.newConnectivityMonitor(),a=this.platform.newSerializer(this.databaseInfo.databaseId),l=new dr(this.asyncQueue,r,this.credentials,a),u=function(t){return s.syncEngine.applyOnlineStateChange(t,yr.SharedClientState)},this.remoteStore=new Vr(this.localStore,l,this.asyncQueue,function(t){return s.syncEngine.applyOnlineStateChange(t,yr.RemoteStore)},i),this.syncEngine=new Ti(this.localStore,this.remoteStore,this.sharedClientState,t),this.sharedClientState.onlineStateHandler=u,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new mi(this.syncEngine),[4,this.sharedClientState.start()];case 2:return c.sent(),[4,this.remoteStore.start()];case 3:return c.sent(),[4,this.persistence.setPrimaryStateListener(function(t){return o.__awaiter(s,void 0,void 0,function(){return o.__generator(this,function(e){switch(e.label){case 0:return[4,this.syncEngine.applyPrimaryState(t)];case 1:return e.sent(),this.lruScheduler&&(t&&!this.lruScheduler.started?this.lruScheduler.start():t||this.lruScheduler.stop()),[2]}})})})];case 4:return c.sent(),[4,this.persistence.setDatabaseDeletedListener(function(){return o.__awaiter(s,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}})})})];case 5:return c.sent(),[2]}})})})},t.prototype.handleCredentialChange=function(t){return this.asyncQueue.verifyOperationInProgress(),d("FirestoreClient","Credential Changed. Current user: "+t.uid),this.syncEngine.handleCredentialChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return t.syncEngine.disableNetwork()})},t.prototype.terminate=function(){var t=this;return this.asyncQueue.enqueueAndInitiateShutdown(function(){return o.__awaiter(t,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return t.sent(),[4,this.sharedClientState.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:return t.sent(),this.credentials.removeChangeListener(),[2]}})})})},t.prototype.waitForPendingWrites=function(){var t=this;this.verifyNotTerminated();var e=new ct;return this.asyncQueue.enqueueAndForget(function(){return t.syncEngine.registerPendingWritesCallback(e)}),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.verifyNotTerminated();var i=new gi(t,e,n);return this.asyncQueue.enqueueAndForget(function(){return r.eventMgr.listen(i)}),i},t.prototype.unlisten=function(t){var e=this;this.clientTerminated||this.asyncQueue.enqueueAndForget(function(){return e.eventMgr.unlisten(t)})},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return e.localStore.readDocument(t)}).then(function(t){if(t instanceof qe)return t;if(t instanceof Be)return null;throw new C(_.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return o.__awaiter(e,void 0,void 0,function(){var e,n,r;return o.__generator(this,function(i){switch(i.label){case 0:return[4,this.localStore.executeQuery(t,!0)];case 1:return e=i.sent(),n=new wi(t,e.remoteKeys),r=n.computeDocChanges(e.documents),[2,n.applyChanges(r,!1).snapshot]}})})})},t.prototype.write=function(t){var e=this;this.verifyNotTerminated();var n=new ct;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.addSnapshotsInSyncListener=function(t){var e=this;this.verifyNotTerminated(),this.asyncQueue.enqueueAndForget(function(){return e.eventMgr.addSnapshotsInSyncListener(t),Promise.resolve()})},t.prototype.removeSnapshotsInSyncListener=function(t){this.clientTerminated||this.eventMgr.removeSnapshotsInSyncListener(t)},Object.defineProperty(t.prototype,"clientTerminated",{get:function(){return this.asyncQueue.isShuttingDown},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.verifyNotTerminated();var n=new ct;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.runTransaction(e.asyncQueue,t,n),Promise.resolve()}),n.promise},t}(),zi=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Hi=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(e,n,r,i){if(!(t instanceof Array)||t.length<1)throw new C(_.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+K(1,"element")+".")}();for(var n=0;n<t.length;++n)if(P("FieldPath","string",n,t[n]),0===t[n].length)throw new C(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(ut.keyField().canonicalString()),t}(),Ki=new RegExp("[~\\*/\\[\\]]"),Gi=function(){return function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}}}(),Wi=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){v(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,t(Ii.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){v(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},t}(),Qi=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.currentUser=Ii.UNAUTHENTICATED,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){e.tokenCounter++,e.currentUser=e.getUser(),e.changeListener&&e.changeListener(e.currentUser)},this.currentUser=this.getUser(),this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(){var t=this;v(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then(function(n){if(t.tokenCounter!==e)throw new C(_.ABORTED,"getToken aborted due to token change.");return n?(v("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Gi(n.accessToken,t.currentUser)):null})},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){v(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,t(this.currentUser)},t.prototype.removeChangeListener=function(){v(null!=this.tokenListener,"removeChangeListener() called twice"),v(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},t.prototype.getUser=function(){var t=this.app.INTERNAL.getUid();return v(null===t||"string"==typeof t,"Received invalid UID: "+t),new Ii(t)},t}(),Yi=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=Ii.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.sessionIndex},e=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),Xi=function(){function t(t,e){this.gapi=t,this.sessionIndex=e}return t.prototype.getToken=function(){return Promise.resolve(new Yi(this.gapi,this.sessionIndex))},t.prototype.setChangeListener=function(t){t(Ii.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Ji(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Zi=function(){function t(t){this._methodName=t}return t.delete=function(){return x("FieldValue.delete",arguments),$i.instance},t.serverTimestamp=function(){return x("FieldValue.serverTimestamp",arguments),to.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return N("FieldValue.arrayUnion",arguments,1),new eo(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return N("FieldValue.arrayRemove",arguments,1),new no(t)},t.increment=function(t){return P("FieldValue.increment","number",1,t),A("FieldValue.increment",arguments,1),new ro(t)},t.prototype.isEqual=function(t){return this===t},t}(),$i=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return o.__extends(e,t),e.instance=new e,e}(Zi),to=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return o.__extends(e,t),e.instance=new e,e}(Zi),eo=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n._elements=e,n}return o.__extends(e,t),e}(Zi),no=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n._elements=e,n}return o.__extends(e,t),e}(Zi),ro=function(t){function e(e){var n=t.call(this,"FieldValue.increment")||this;return n._operand=e,n}return o.__extends(e,t),e}(Zi),io=E(Zi,"Use FieldValue.<field>() instead."),oo=/^__.*__$/,ao=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return n.push(null!==this.fieldMask?new be(t,this.data,this.fieldMask,e):new ve(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new we(t,this.fieldTransforms)),n},t}(),lo=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new be(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new we(t,this.fieldTransforms)),n},t}(),uo=function(t){return t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.Argument=3]="Argument",t}({});function so(t){switch(t){case uo.Set:case uo.MergeSet:case uo.Update:return!0;case uo.Argument:return!1;default:throw y("Unexpected case for UserDataSource: "+t)}}var co=function(){function t(t,e,n,r,i,o){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new C(_.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(so(this.dataSource)&&oo.test(t))throw this.createError("Document fields cannot begin and end with __")},t}(),ho=function(){return function(t,e){this.databaseId=t,this.key=e}}(),fo=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new co(uo.Set,t,ut.EMPTY_PATH);mo("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new ao(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e,n){var r=new co(uo.MergeSet,t,ut.EMPTY_PATH);mo("Data must be an object, but it was:",r,e);var i,o,a=this.parseData(e,r);if(n){for(var l=new kt(ut.comparator),u=0,s=n;u<s.length;u++){var c=s[u],h=void 0;if(c instanceof Hi)h=c._internalPath;else{if("string"!=typeof c)throw y("Expected stringOrFieldPath to be a string or a FieldPath");h=yo(t,c)}if(!r.contains(h))throw new C(_.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");l=l.add(h)}i=fe.fromSet(l),o=r.fieldTransforms.filter(function(t){return i.covers(t.field)})}else i=fe.fromArray(r.fieldMask),o=r.fieldTransforms;return new ao(a,i,o)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new co(uo.Update,t,ut.EMPTY_PATH);mo("Data must be an object, but it was:",r,e);var i=new kt(ut.comparator),o=Ve.EMPTY;k(e,function(e,a){var l=yo(t,e),u=r.childContextForFieldPath(l);if((a=n.runPreConverter(a,u))instanceof $i)i=i.add(l);else{var s=n.parseData(a,u);null!=s&&(i=i.add(l),o=o.set(l,s))}});var a=fe.fromSet(i);return new lo(o,a,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var i=new co(uo.Update,t,ut.EMPTY_PATH),o=[go(t,e)],a=[n];if(r.length%2!=0)throw new C(_.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<r.length;l+=2)o.push(go(t,r[l])),a.push(r[l+1]);var u=new kt(ut.comparator),s=Ve.EMPTY;for(l=0;l<o.length;++l){var c=o[l],h=i.childContextForFieldPath(c),f=this.runPreConverter(a[l],h);if(f instanceof $i)u=u.add(c);else{var p=this.parseData(f,h);null!=p&&(u=u.add(c),s=s.set(c,p))}}var d=fe.fromSet(u);return new lo(s,d,i.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new co(uo.Argument,t,ut.EMPTY_PATH),r=this.parseData(e,n);return v(null!=r,"Parsed data should not be null."),v(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(r){var n=vo(r);throw e.createError(n)}},t.prototype.parseData=function(t,e){if(po(t=this.runPreConverter(t,e)))return mo("Unsupported field value:",e,t),this.parseObject(t,e);if(t instanceof Zi)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},t.prototype.parseObject=function(t,e){var n=this,r=new Et(W);return O(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):k(t,function(t,i){var o=n.parseData(i,e.childContextForField(t));null!=o&&(r=r.insert(t,o))}),new Ve(r)},t.prototype.parseArray=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=this.parseData(o[i],e.childContextForArray(r));null==a&&(a=Ie.INSTANCE),n.push(a),r++}return new Fe(n)},t.prototype.parseSentinelFieldValue=function(t,e){if(!so(e.dataSource))throw e.createError(t._methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t._methodName+"() is not currently supported inside arrays");if(t instanceof $i){if(e.dataSource!==uo.MergeSet)throw e.dataSource===uo.Update?(v(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof to)e.fieldTransforms.push(new pe(e.path,ti.instance));else if(t instanceof eo){var n=this.parseArrayTransformElements(t._methodName,t._elements),r=new ei(n);e.fieldTransforms.push(new pe(e.path,r))}else if(t instanceof no){n=this.parseArrayTransformElements(t._methodName,t._elements);var i=new ni(n);e.fieldTransforms.push(new pe(e.path,i))}else if(t instanceof ro){var o=this.parseQueryValue("FieldValue.increment",t._operand),a=new ri(o);e.fieldTransforms.push(new pe(e.path,a))}else y("Unknown FieldValue type: "+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return Ie.INSTANCE;if("number"==typeof t)return or(t)?new Ae(t):new Ne(t);if("boolean"==typeof t)return ke.of(t);if("string"==typeof t)return new De(t);if(t instanceof Date)return new Pe(_t.fromDate(t));if(t instanceof _t)return new Pe(new _t(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof Fr)return new Le(t);if(t instanceof $)return new Me(t);if(t instanceof ho)return new je(t.databaseId,t.key);throw e.createError("Unsupported field value: "+U(t))},t.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map(function(e,r){var i=new co(uo.Argument,t,ut.EMPTY_PATH);return n.parseData(e,i.childContextForArray(r))})},t}();function po(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof Fr||t instanceof $||t instanceof ho||t instanceof Zi)}function mo(t,e,n){if(!po(n)||!F(n)){var r=U(n);throw e.createError("an object"===r?t+" a custom object":t+" "+r)}}function go(t,e){if(e instanceof Hi)return e._internalPath;if("string"==typeof e)return yo(t,e);throw new C(_.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function yo(t,e){try{return function(t){if(t.search(Ki)>=0)throw new C(_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Hi.bind.apply(Hi,o.__spreadArrays([void 0],t.split("."))))}catch(e){throw new C(_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(r){var n=vo(r);throw new C(_.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function vo(t){return t instanceof Error?t.message:t.toString()}var bo="firestore.googleapis.com",wo=!0,_o=!0,Co=!1,Eo=On.COLLECTION_DISABLED,So=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new C(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bo,this.ssl=wo}else M("settings","non-empty string","host",t.host),this.host=t.host,j("settings","boolean","ssl",t.ssl),this.ssl=T(t.ssl,wo);if(B("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),j("settings","object","credentials",t.credentials),this.credentials=t.credentials,j("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?m("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&m("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=T(t.timestampsInSnapshots,_o),j("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=On.DEFAULT_CACHE_SIZE_BYTES;else{if(t.cacheSizeBytes!==Eo&&t.cacheSizeBytes<On.MINIMUM_CACHE_SIZE_BYTES)throw new C(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+On.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=t.cacheSizeBytes}j("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0===t.experimentalForceLongPolling?Co:t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),To=function(){function t(e){var n=this;if(this._firebaseApp=null,this._queue=new ft,this.INTERNAL={delete:function(){return o.__awaiter(n,void 0,void 0,function(){return o.__generator(this,function(t){switch(t.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.terminate()];case 1:return t.sent(),[2]}})})}},"object"==typeof e.options){var r=e;this._firebaseApp=r,this._databaseId=t.databaseIdFromApp(r),this._persistenceKey=r.name,this._credentials=new Qi(r)}else{var i=e;if(!i.projectId)throw new C(_.INVALID_ARGUMENT,"Must provide projectId");this._databaseId=new rt(i.projectId,i.database),this._persistenceKey="[DEFAULT]",this._credentials=new Wi}this._settings=new So({}),this._dataConverter=this.createDataConverter(this._databaseId)}return t.prototype.settings=function(t){if(A("Firestore.settings",arguments,1),P("Firestore.settings","object",1,t),S(t,"persistence"))throw new C(_.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new So(t);if(this._firestoreClient&&!this._settings.isEqual(e))throw new C(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._settings=e,void 0!==e.credentials&&(this._credentials=function(t){if(!t)return new Wi;switch(t.type){case"gapi":var e=t.client;return v(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new Xi(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new C(_.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(t){if(this._firestoreClient)throw new C(_.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1;return t&&(void 0!==t.experimentalTabSynchronization&&m("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),e=T(void 0!==t.synchronizeTabs?t.synchronizeTabs:t.experimentalTabSynchronization,!1)),this.configureClient(new Ui(this._settings.cacheSizeBytes,e))},t.prototype.clearPersistence=function(){var t=this,e=jn.buildStoragePrefix(this.makeDatabaseInfo()),n=new ct;return this._queue.enqueueAndForgetEvenAfterShutdown(function(){return o.__awaiter(t,void 0,void 0,function(){var t;return o.__generator(this,function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientTerminated)throw new C(_.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,jn.clearPersistence(e)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}})})}),n.promise},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"_isTerminated",{get:function(){return this.ensureClientConfigured(),this._firestoreClient.clientTerminated},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.ensureClientConfigured(),this._firestoreClient.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.ensureClientConfigured(),Ji(t)?this.onSnapshotsInSyncInternal(t):(P("Firestore.onSnapshotsInSync","function",1,t),this.onSnapshotsInSyncInternal({next:t}))},t.prototype.onSnapshotsInSyncInternal=function(t){var e=this,n=new zi({next:function(){t.next&&t.next()},error:function(t){throw y("Uncaught Error in onSnapshotsInSync")}});return this._firestoreClient.addSnapshotsInSyncListener(n),function(){n.mute(),e._firestoreClient.removeSnapshotsInSyncListener(n)}},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new qi),this._firestoreClient},t.prototype.makeDatabaseInfo=function(){return new et(this._databaseId,this._persistenceKey,this._settings.host,this._settings.ssl,this._settings.forceLongPolling)},t.prototype.configureClient=function(t){v(!!this._settings.host,"FirestoreSettings.host is not set"),v(!this._firestoreClient,"configureClient() called multiple times");var e=this.makeDatabaseInfo();return this._firestoreClient=new Bi(b.getPlatform(),e,this._credentials,this._queue),this._firestoreClient.start(t)},t.prototype.createDataConverter=function(t){return new fo(function(e){if(e instanceof Oo){var n=t,r=e.firestore._databaseId;if(!r.isEqual(n))throw new C(_.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new ho(t,e._key)}return e})},t.databaseIdFromApp=function(t){var e=t.options;if(!S(e,"projectId"))throw new C(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!=typeof n)throw new C(_.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new rt(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._firebaseApp)throw new C(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return A("Firestore.collection",arguments,1),P("Firestore.collection","non-empty string",1,t),this.ensureClientConfigured(),new Ro(at.fromString(t),this)},t.prototype.doc=function(t){return A("Firestore.doc",arguments,1),P("Firestore.doc","non-empty string",1,t),this.ensureClientConfigured(),Oo.forPath(at.fromString(t),this)},t.prototype.collectionGroup=function(t){if(A("Firestore.collectionGroup",arguments,1),P("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new C(_.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new Do(new Ur(at.EMPTY_PATH,t),this)},t.prototype.runTransaction=function(t){var e=this;return A("Firestore.runTransaction",arguments,1),P("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new Io(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new ko(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(f()){case h.DEBUG:return"debug";case h.ERROR:return"error";case h.SILENT:return"silent";default:return y("Unknown log level: "+f())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(A("Firestore.setLogLevel",arguments,1),P("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":p(h.DEBUG);break;case"error":p(h.ERROR);break;case"silent":p(h.SILENT);break;default:throw new C(_.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._settings.timestampsInSnapshots},t}(),Io=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;A("Transaction.get",arguments,1);var n=Vo("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return y("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof Be)return new Ao(e._firestore,n._key,null,!1,!1);if(r instanceof qe)return new Ao(e._firestore,n._key,r,!1,!1);throw y("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)})},t.prototype.set=function(t,e,n){D("Transaction.set",arguments,2,3);var r=Vo("Transaction.set",t,this._firestore),i=(n=Mo("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,i),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof e||e instanceof Hi?(N("Transaction.update",arguments,3),r=Vo("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,o)):(A("Transaction.update",arguments,2),r=Vo("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(r._key,i),this},t.prototype.delete=function(t){A("Transaction.delete",arguments,1);var e=Vo("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),ko=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){D("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=Vo("WriteBatch.set",t,this._firestore),i=(n=Mo("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(i.toMutations(r._key,ge.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),"string"==typeof e||e instanceof Hi?(N("WriteBatch.update",arguments,3),r=Vo("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,o)):(A("WriteBatch.update",arguments,2),r=Vo("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(i.toMutations(r._key,ge.exists(!0))),this},t.prototype.delete=function(t){A("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=Vo("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new _e(e._key,ge.NONE)),this},t.prototype.commit=function(){return o.__awaiter(this,void 0,void 0,function(){return o.__generator(this,function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new C(_.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Oo=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!=0)throw new C(_.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new st(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ro(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(A("DocumentReference.collection",arguments,1),P("DocumentReference.collection","non-empty string",1,t),!t)throw new C(_.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=at.fromString(t);return new Ro(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){D("DocumentReference.set",arguments,1,2);var n=(e=Mo("DocumentReference.set",e)).merge||e.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t,e.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,ge.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof Hi?(N("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,r)):(A("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,ge.exists(!0)))},t.prototype.delete=function(){return A("DocumentReference.delete",arguments,0),this._firestoreClient.write([new _e(this._key,ge.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];D("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||Ji(t[i])||(B("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),j("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return Ji(t[i])?n=t[i]:(P("DocumentReference.onSnapshot","function",i,t[i]),R("DocumentReference.onSnapshot","function",i+1,t[i+1]),R("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(o,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new zi({next:function(t){if(e.next){v(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new Ao(n.firestore,n._key,r,t.fromCache,t.hasPendingWrites))}},error:r}),o=this._firestoreClient.listen(Ur.atPath(this._key.path),i,t);return function(){i.mute(),n._firestoreClient.unlisten(o)}},t.prototype.get=function(t){var e=this;return D("DocumentReference.get",arguments,0,1),Lo("DocumentReference.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then(function(t){n(new Ao(e.firestore,e._key,t,!0,t instanceof qe&&t.hasLocalMutations))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new C(_.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new C(_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t}(),xo=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Ao=function(){function t(t,e,n,r,i){this._firestore=t,this._key=e,this._document=n,this._fromCache=r,this._hasPendingWrites=i}return t.prototype.data=function(t){return D("DocumentSnapshot.data",arguments,0,1),t=jo("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data(),Se.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},t.prototype.get=function(t,e){if(D("DocumentSnapshot.get",arguments,1,2),e=jo("DocumentSnapshot.get",e),this._document){var n=this._document.data().field(go("DocumentSnapshot.get",t));if(null!==n)return this.convertValue(n,Se.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Oo(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new xo(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(t,e){var n=this,r={};return t.forEach(function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertValue=function(t,e){if(t instanceof Ve)return this.convertObject(t,e);if(t instanceof Fe)return this.convertArray(t,e);if(t instanceof je){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||m("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new Oo(n,this._firestore)}return t.value(e)},t.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map(function(t){return n.convertValue(t,e)})},t}(),No=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return v("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},e}(Ao),Do=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){A("Query.where",arguments,3),q("Query.where",3,r),"in"!==n&&"array-contains-any"!==n&&function(t,e,n,r){if(!e.some(function(t){return t===r}))throw new C(_.INVALID_ARGUMENT,"Invalid value "+U(r)+" provided to function Query.where() for its "+H(2)+" argument. Acceptable values: "+e.join(", "))}(0,["<","<=","==",">=",">","array-contains"],0,n);var i,o=go("Query.where",e),a=Br.fromString(n);if(o.isKeyField()){if(a===Br.ARRAY_CONTAINS||a===Br.ARRAY_CONTAINS_ANY)throw new C(_.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+a.toString()+"' queries on FieldPath.documentId().");if(a===Br.IN){this.validateDisjunctiveFilterElements(r,a);for(var l=[],u=0,s=r;u<s.length;u++)l.push(this.parseDocumentIdValue(s[u]));i=new Fe(l)}else i=this.parseDocumentIdValue(r)}else a!==Br.IN&&a!==Br.ARRAY_CONTAINS_ANY||this.validateDisjunctiveFilterElements(r,a),i=this.firestore._dataConverter.parseQueryValue("Query.where",r);var c=zr.create(o,a,i);return this.validateNewFilter(c),new t(this._query.addFilter(c),this.firestore)},t.prototype.orderBy=function(e,n){var r;if(D("Query.orderBy",arguments,1,2),R("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=Yr.ASCENDING;else{if("desc"!==n)throw new C(_.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=Yr.DESCENDING}if(null!==this._query.startAt)throw new C(_.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new C(_.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=go("Query.orderBy",e),o=new Jr(i,r);return this.validateNewOrderBy(o),new t(this._query.addOrderBy(o),this.firestore)},t.prototype.limit=function(e){if(A("Query.limit",arguments,1),P("Query.limit","number",1,e),e<=0)throw new C(_.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];N("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(q(t,1,e),e instanceof Ao){if(n.length>0)throw new C(_.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new C(_.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,i._document,r)}var o=[e].concat(n);return this.boundFromFields(t,o,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new je(this.firestore._databaseId,e.key));else{var l=e.field(a.field);if(l instanceof Re)throw new C(_.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var u=a.field.canonicalString();throw new C(_.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(l)}}return new Xr(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new C(_.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var a=e[o];if(r[o].field.isKeyField()){if("string"!=typeof a)throw new C(_.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(!this._query.isCollectionGroupQuery()&&-1!==a.indexOf("/"))throw new C(_.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+a+"' contains a slash.");var l=this._query.path.child(at.fromString(a));if(!st.isDocumentKey(l))throw new C(_.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var u=new st(l);i.push(new je(this.firestore._databaseId,u))}else{var s=this.firestore._dataConverter.parseQueryValue(t,a);i.push(s)}}return new Xr(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];D("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||Ji(t[i])||(B("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),j("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),Ji(t[i])?n=t[i]:(P("Query.onSnapshot","function",i,t[i]),R("Query.onSnapshot","function",i+1,t[i+1]),R("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new zi({next:function(t){e.next&&e.next(new Po(n.firestore,n._query,t))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,t);return function(){i.mute(),o.unlisten(a)}},t.prototype.get=function(t){var e=this;return D("Query.get",arguments,0,1),Lo("Query.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then(function(t){n(new Po(e.firestore,e._query,t))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new C(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.parseDocumentIdValue=function(t){if("string"==typeof t){if(""===t)throw new C(_.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==t.indexOf("/"))throw new C(_.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this._query.path.child(at.fromString(t));if(!st.isDocumentKey(e))throw new C(_.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return new je(this.firestore._databaseId,new st(e))}if(t instanceof Oo)return new je(this.firestore._databaseId,t._key);throw new C(_.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+U(t)+".")},t.prototype.validateDisjunctiveFilterElements=function(t,e){if(!Array.isArray(t)||0===t.length)throw new C(_.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new C(_.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new C(_.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter(function(t){return Number.isNaN(t)}).length>0)throw new C(_.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.validateNewFilter=function(t){if(t instanceof zr){var e=[Br.ARRAY_CONTAINS,Br.ARRAY_CONTAINS_ANY],n=[Br.IN,Br.ARRAY_CONTAINS_ANY],r=e.indexOf(t.op)>=0,i=n.indexOf(t.op)>=0;if(t.isInequality()){var o=this._query.getInequalityFilterField();if(null!==o&&!o.isEqual(t.field))throw new C(_.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var a=this._query.getFirstOrderByField();null!==a&&this.validateOrderByAndInequalityMatch(t.field,a)}else if(i||r){var l=null;if(i&&(l=this._query.findFilterOperator(n)),null===l&&r&&(l=this._query.findFilterOperator(e)),null!=l)throw new C(_.INVALID_ARGUMENT,l===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+l.toString()+"' filters.")}}},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new C(_.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),Po=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new xo(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;D("QuerySnapshot.forEach",arguments,1,2),P("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,"query",{get:function(){return new Do(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(B("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),j("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this._snapshot.excludesMetadataChanges)throw new C(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map(function(e){var o=new No(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key));return v(e.type===Er.Added,"Invalid event type for first snapshot"),v(!r||n.query.docComparator(r,e.doc)<0,"Got added events in wrong order"),r=e.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}})}var o=n.oldDocs;return n.docChanges.filter(function(t){return e||t.type!==Er.Metadata}).map(function(e){var r=new No(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key)),i=-1,a=-1;return e.type!==Er.Added&&(v((i=o.indexOf(e.doc.key))>=0,"Index for document not found"),o=o.delete(e.doc.key)),e.type!==Er.Removed&&(a=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:function(t){switch(t){case Er.Added:return"added";case Er.Modified:case Er.Metadata:return"modified";case Er.Removed:return"removed";default:return y("Unknown change type: "+t)}}(e.type),doc:r,oldIndex:i,newIndex:a}})}(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new No(this._firestore,t.key,t,this.metadata.fromCache,this._snapshot.mutatedKeys.has(t.key))},t}();o.__spreadArrays(["length","forEach","map"],"undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach(function(t){try{Object.defineProperty(Po.prototype.docChanges,t,{get:function(){return function(){throw new C(_.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(e){}});var Ro=function(t){function e(e,n){var r=t.call(this,Ur.atPath(e),n)||this;if(e.length%2!=1)throw new C(_.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return r}return o.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new Oo(new st(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(D("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=G.newId()),P("CollectionReference.doc","non-empty string",1,t),""===t)throw new C(_.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=at.fromString(t);return Oo.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){A("CollectionReference.add",arguments,1),P("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(Do);function Mo(t,e){if(void 0===e)return{merge:!1};if(B(t,e,["merge","mergeFields"]),j(t,"boolean","merge",e.merge),"mergeFields","a string or a FieldPath",void 0!==(n=e.mergeFields)&&function(t,e,n,r,i){if(!(r instanceof Array))throw new C(_.INVALID_ARGUMENT,"Function "+t+"() requires its mergeFields option to be an array, but it was: "+U(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new C(_.INVALID_ARGUMENT,"Function "+t+"() requires all mergeFields elements to be a string or a FieldPath, but the value at index "+o+" was: "+U(r[o]))}(t,0,0,n,function(t){return"string"==typeof t||t instanceof Hi}),void 0!==e.mergeFields&&void 0!==e.merge)throw new C(_.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');var n;return e}function jo(t,e){return void 0===e?{}:(B(t,e,["serverTimestamps"]),L(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Lo(t,e){R(t,"object",1,e),e&&(B(t,e,["source"]),L(t,0,"source",e.source,["default","server","cache"]))}function Vo(t,e,n){if(e instanceof Oo){if(e.firestore!==n)throw new C(_.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw z(t,"DocumentReference",1,e)}var Fo=E(To,"Use firebase.firestore() instead."),Uo=E(Io,"Use firebase.firestore().runTransaction() instead."),qo=E(ko,"Use firebase.firestore().batch() instead."),Bo=E(Oo,"Use firebase.firestore().doc() instead."),zo=E(Ao),Ho=E(No),Ko=E(Do),Go=E(Po),Wo=E(Ro,"Use firebase.firestore().collection() instead."),Qo={Firestore:Fo,GeoPoint:Fr,Timestamp:_t,Blob:tt,Transaction:Uo,WriteBatch:qo,DocumentReference:Bo,DocumentSnapshot:zo,Query:Ko,QueryDocumentSnapshot:Ho,QuerySnapshot:Go,CollectionReference:Wo,FieldPath:Hi,FieldValue:io,setLogLevel:To.setLogLevel,CACHE_SIZE_UNLIMITED:Eo},Yo=function(){function t(){}return t.prototype.addCallback=function(t){},t.prototype.shutdown=function(){},t}(),Xo=function(){function t(){var t=this;this.networkAvailableListener=function(){return t.onNetworkAvailable()},this.networkUnavailableListener=function(){return t.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}return t.prototype.addCallback=function(t){this.callbacks.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},t.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},t.prototype.onNetworkAvailable=function(){d("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.callbacks;t<e.length;t++)(0,e[t])(0)},t.prototype.onNetworkUnavailable=function(){d("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.callbacks;t<e.length;t++)(0,e[t])(1)},t.isAvailable=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Jo=function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){v(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){v(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){v(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){v(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){v(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){v(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}(),Zo="Connection",$o={BatchGetDocuments:"batchGet",Commit:"commit"},ta="gl-js/ fire/"+s,ea=function(){function t(t){this.databaseId=t.databaseId,this.baseUrl=(t.ssl?"https":"http")+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=ta},t.prototype.invokeRPC=function(t,e,n){var r=this,i=this.makeUrl(t);return new Promise(function(a,l){var s=new u.XhrIo;s.listenOnce(u.EventType.COMPLETE,function(){try{switch(s.getLastErrorCode()){case u.ErrorCode.NO_ERROR:var e=s.getResponseJson();d(Zo,"XHR received:",JSON.stringify(e)),a(e);break;case u.ErrorCode.TIMEOUT:d(Zo,'RPC "'+t+'" timed out'),l(new C(_.DEADLINE_EXCEEDED,"Request time out"));break;case u.ErrorCode.HTTP_ERROR:var n=s.getStatus();if(d(Zo,'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var i=(o=r.status.toLowerCase().replace("_","-"),Object.values(_).indexOf(o)>=0?o:_.UNKNOWN);l(new C(i,r.message))}else l(new C(_.UNKNOWN,"Server responded with status "+s.getStatus()))}else d(Zo,'RPC "'+t+'" failed'),l(new C(_.UNAVAILABLE,"Connection failed."));break;default:y('RPC "'+t+'" failed with unanticipated webchannel error '+s.getLastErrorCode()+": "+s.getLastError()+", giving up.")}}finally{d(Zo,'RPC "'+t+'" completed.')}var o});var c=o.__assign({},e);delete c.database;var h=JSON.stringify(c);d(Zo,"XHR sending: ",i+" "+h);var f={"Content-Type":"text/plain"};r.modifyHeadersForRequest(f,n),s.send(i,"POST",h,f,15)})},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=u.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(i.initMessageHeaders,e),l.isReactNative()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");d(Zo,"Creating WebChannel: "+o+" "+i);var a=r.createWebChannel(o,i),s=!1,c=!1,h=new Jo({sendFn:function(t){c?d(Zo,"Not sending because WebChannel is closed:",t):(s||(d(Zo,"Opening WebChannel transport."),a.open(),s=!0),d(Zo,"WebChannel sending:",t),a.send(t))},closeFn:function(){return a.close()}}),f=function(t,e){a.listen(t,function(t){try{e(t)}catch(n){setTimeout(function(){throw n},0)}})};return f(u.WebChannel.EventType.OPEN,function(){c||d(Zo,"WebChannel transport opened.")}),f(u.WebChannel.EventType.CLOSE,function(){c||(c=!0,d(Zo,"WebChannel transport closed"),h.callOnClose())}),f(u.WebChannel.EventType.ERROR,function(t){c||(c=!0,d(Zo,"WebChannel transport errored:",t),h.callOnClose(new C(_.UNAVAILABLE,"The operation could not be completed")))}),f(u.WebChannel.EventType.MESSAGE,function(t){if(!c){var e=t.data[0];v(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){d(Zo,"WebChannel received error:",n);var r=n.status,i=function(t){var e=br[r];if(void 0!==e)return _r(e)}(),o=n.message;void 0===i&&(i=_.INTERNAL,o="Unknown error status: "+r+" with message "+n.message),c=!0,h.callOnClose(new C(i,o)),a.close()}else d(Zo,"WebChannel received:",e),h.callOnMessage(e)}}),setTimeout(function(){h.callOnOpen()},0),h},t.prototype.makeUrl=function(t){var e=$o[t];v(void 0!==e,"Unknown REST mapping for: "+t);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(e),n.join("")},t}();function na(t){t.INTERNAL.registerService("firestore",function(t){return new To(t)},function(t){v(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(Qo))}b.setPlatform(new(function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.loadConnection=function(t){return Promise.resolve(new ea(t))},t.prototype.newConnectivityMonitor=function(){return Xo.isAvailable()?new Xo:new Yo},t.prototype.newSerializer=function(t){return new pi(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}())),na(i),e.registerFirestore=na},"6ahw":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("iLxQ"),i=n("DKTb"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},"6blF":function(t,e,n){"use strict";var r=n("FFOo"),i=n("L/V9"),o=n("6ahw"),a=n("xTla"),l=n("y3By"),u=n("iLxQ");n.d(e,"a",function(){return s});var s=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var a=this.operator,l=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a?a.call(l,this.source):l.add(this.source||u.a.useDeprecatedSynchronousErrorHandling&&!l.syncErrorThrowable?this._subscribe(l):this._trySubscribe(l)),u.a.useDeprecatedSynchronousErrorHandling&&l.syncErrorThrowable&&(l.syncErrorThrowable=!1,l.syncErrorThrown))throw l.syncErrorValue;return l},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof r.a?e:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=c(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[a.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Object(l.b)(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=c(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function c(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},"83ve":function(t,e,n){"use strict";n.d(e,"c",function(){return a}),n.d(e,"d",function(){return l}),n.d(e,"b",function(){return u}),n.d(e,"a",function(){return s});var r=n("htu+"),i=n("67Y/"),o=n("dC0D");function a(t){return Object(r.a)(t).pipe(Object(i.a)(function(t){return t.payload.docChanges().map(function(t){return{type:t.type,payload:t}})}))}function l(t,e){return Object(r.a)(t).pipe(Object(i.a)(function(t){return t.payload.docChanges()}),Object(o.a)(function(t,n){return u(t,n,e)},[]),Object(i.a)(function(t){return t.map(function(t){return{type:t.type,payload:t}})}))}function u(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=s(t,e))}),t}function s(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}},"8g8A":function(t,e,n){"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(e,"a",function(){return i}),r.prototype=Object.create(Error.prototype);var i=r},"9V49":function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("0/uQ"),i=n("htu+"),o=n("67Y/"),a=n("VnD/"),l=n("dC0D"),u=n("UdJG"),s=n("83ve"),c=n("NKHs"),h=function(){function t(t,e){this.query=t,this.afs=e}return t.prototype.stateChanges=function(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Object(s.c)(this.query))).pipe(Object(o.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),Object(a.a)(function(t){return t.length>0})):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Object(s.c)(this.query)))},t.prototype.auditTrail=function(t){return this.stateChanges(t).pipe(Object(l.a)(function(t,e){return t.concat(e)},[]))},t.prototype.snapshotChanges=function(t){var e=Object(u.b)(t),n=Object(s.d)(this.query,e),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)},t.prototype.valueChanges=function(){var t=Object(i.a)(this.query),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e).pipe(Object(o.a)(function(t){return t.payload.docs.map(function(t){return t.data()})}))},t.prototype.get=function(t){return Object(r.a)(this.query.get(t)).pipe(Object(c.b)(this.afs.scheduler.zone))},t}()},CB3U:function(t,e,n){"use strict";n.r(e);var r=n("ZBkt"),i=n("MGeu");n.d(e,"AngularFireAuth",function(){return r.a}),n.d(e,"AngularFireAuthModule",function(){return i.a})},CcnG:function(t,e,n){"use strict";var r=n("mrSG"),i=n("pugT"),o=n("K9Ia"),a=n("6blF"),l=n("nkY7"),u=n("Zn8D"),s=n("IUTb"),c=n("S1nX");function h(t){for(var e in t)if(t[e]===h)return e;throw Error("Could not find renamed property on target object.")}function f(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}n.d(e,"ib",function(){return xo}),n.d(e,"jb",function(){return Ao}),n.d(e,"kb",function(){return No}),n.d(e,"hb",function(){return fi}),n.d(e,"g",function(){return Gi}),n.d(e,"R",function(){return Bi}),n.d(e,"y",function(){return qi}),n.d(e,"T",function(){return wr}),n.d(e,"X",function(){return br}),n.d(e,"c",function(){return hi}),n.d(e,"C",function(){return di}),n.d(e,"B",function(){return mi}),n.d(e,"b",function(){return gi}),n.d(e,"d",function(){return si}),n.d(e,"e",function(){return ci}),n.d(e,"V",function(){return so}),n.d(e,"M",function(){return Mi}),n.d(e,"Z",function(){return Li}),n.d(e,"u",function(){return Oo}),n.d(e,"f",function(){return Do}),n.d(e,"m",function(){return Hr}),n.d(e,"l",function(){return ai}),n.d(e,"G",function(){return Qr}),n.d(e,"H",function(){return Wr}),n.d(e,"a",function(){return O}),n.d(e,"n",function(){return $r}),n.d(e,"r",function(){return Zr}),n.d(e,"P",function(){return x}),n.d(e,"N",function(){return lr}),n.d(e,"S",function(){return b}),n.d(e,"U",function(){return Ae}),n.d(e,"q",function(){return Le}),n.d(e,"W",function(){return Q}),n.d(e,"p",function(){return C}),n.d(e,"o",function(){return U}),n.d(e,"A",function(){return q}),n.d(e,"I",function(){return z}),n.d(e,"z",function(){return Oi}),n.d(e,"D",function(){return or}),n.d(e,"E",function(){return rr}),n.d(e,"F",function(){return ir}),n.d(e,"i",function(){return _i}),n.d(e,"j",function(){return Jn}),n.d(e,"k",function(){return tr}),n.d(e,"v",function(){return Ze}),n.d(e,"x",function(){return Je}),n.d(e,"w",function(){return Qi}),n.d(e,"J",function(){return Zi}),n.d(e,"K",function(){return Xi}),n.d(e,"L",function(){return Kr}),n.d(e,"O",function(){return eo}),n.d(e,"h",function(){return ro}),n.d(e,"s",function(){return Co}),n.d(e,"t",function(){return Eo}),n.d(e,"Q",function(){return Tt}),n.d(e,"Y",function(){return ko}),n.d(e,"sb",function(){return kt}),n.d(e,"cb",function(){return yi}),n.d(e,"ab",function(){return Rn}),n.d(e,"bb",function(){return Zn}),n.d(e,"db",function(){return Ur}),n.d(e,"eb",function(){return Jr}),n.d(e,"fb",function(){return Sr}),n.d(e,"qb",function(){return D}),n.d(e,"vb",function(){return L}),n.d(e,"Db",function(){return V}),n.d(e,"tb",function(){return ui}),n.d(e,"ub",function(){return li}),n.d(e,"gb",function(){return Sa}),n.d(e,"lb",function(){return Ha}),n.d(e,"mb",function(){return Yu}),n.d(e,"nb",function(){return Yo}),n.d(e,"ob",function(){return dl}),n.d(e,"pb",function(){return Ta}),n.d(e,"rb",function(){return Ca}),n.d(e,"wb",function(){return Ma}),n.d(e,"xb",function(){return Ra}),n.d(e,"yb",function(){return el}),n.d(e,"Bb",function(){return ml}),n.d(e,"zb",function(){return jl}),n.d(e,"Ab",function(){return Ll}),n.d(e,"Cb",function(){return Al}),n.d(e,"Eb",function(){return Fl}),n.d(e,"Fb",function(){return Bl});var p=h({ngComponentDef:h}),d=h({ngInjectableDef:h}),m=h({ngInjectorDef:h}),g=h({ngModuleDef:h}),y=h({ngBaseDef:h}),v=h({__NG_ELEMENT_ID__:h});function b(t){return{providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function w(t){return t.hasOwnProperty(d)?t[d]:null}function _(t){return t.hasOwnProperty(m)?t[m]:null}var C=function(){function t(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0!==e?b({providedIn:e.providedIn||"root",factory:e.factory}):void 0}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),E="__parameters__",S="__prop__metadata__";function T(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var i=t.apply(void 0,Object(r.g)(e));for(var o in i)this[o]=i[o]}}}function I(t,e,n){var i=T(e);function o(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof o)return i.apply(this,e),this;var a=new((t=o).bind.apply(t,Object(r.g)([void 0],e)));return l.annotation=a,l;function l(t,e,n){for(var r=t.hasOwnProperty(E)?t[E]:Object.defineProperty(t,E,{value:[]})[E];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(a),t}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o}function k(t,e,n,i){var o=T(e);function a(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof a)return o.apply(this,e),this;var l=new((t=a).bind.apply(t,Object(r.g)([void 0],e)));return function(t,n){var o=t.constructor,a=o.hasOwnProperty(S)?o[S]:Object.defineProperty(o,S,{value:{}})[S];a[n]=a.hasOwnProperty(n)&&a[n]||[],a[n].unshift(l),i&&i.apply(void 0,Object(r.g)([t,n],e))}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=t,a.annotationCls=a,a}var O=new C("AnalyzeForEntryComponents"),x=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),A="undefined"!=typeof window&&window,N="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,D="undefined"!=typeof global&&global||A||N,P=Promise.resolve(0),R=null;function M(){if(!R){var t=D.Symbol;if(t&&t.iterator)R=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(R=r)}}return R}function j(t){"undefined"==typeof Zone?P.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function L(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function V(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(V).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}var F,U=I("Inject",function(t){return{token:t}}),q=I("Optional"),B=I("Self"),z=I("SkipSelf"),H=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({}),K=void 0;function G(t){var e=K;return K=t,e}function W(t){var e=F;return F=t,e}function Q(t,e){return void 0===e&&(e=H.Default),(F||function(t,e){if(void 0===e&&(e=H.Default),void 0===K)throw new Error("inject() must be called from an injection context");return null===K?Y(t,void 0,e):K.get(t,e&H.Optional?null:void 0,e)})(t,e)}function Y(t,e,n){var r=w(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&H.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND ["+V(t)+"]")}function X(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=H.Default,a=0;a<r.length;a++){var l=r[a];l instanceof q||"Optional"===l.ngMetadataName?o|=H.Optional:l instanceof z||"SkipSelf"===l.ngMetadataName?o|=H.SkipSelf:l instanceof B||"Self"===l.ngMetadataName?o|=H.Self:i=l instanceof U?l.token:l}e.push(Q(i,o))}else e.push(Q(r))}return e}var J=8,Z=8,$=9,tt=-1,et=function(){return function(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}(),nt=et.prototype,rt=17,it=0,ot=1,at=2,lt=3,ut=4,st=5,ct=6,ht=7,ft=8,pt=9,dt=10,mt=11,gt=12,yt=14,vt=16;function bt(t,e,n){t.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(n,t.afterContentInit),t.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,t.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,t.afterContentChecked))}function wt(t,e,n){t.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(n,t.afterViewInit),t.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,t.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,t.afterViewChecked))}function _t(t,e,n){null!=t.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,t.onDestroy)}function Ct(t,e,n,r){var i=r?e:n;i&&Et(t,i)}function Et(t,e){for(var n=0;n<e.length;n+=2)e[n+1].call(t[e[n]])}function St(t,e){var n=kt(t),r=kt(e);return n&&r?function(t,e,n){for(var r=t[M()](),i=e[M()]();;){var o=r.next(),a=i.next();if(o.done&&a.done)return!0;if(o.done||a.done)return!1;if(!n(o.value,a.value))return!1}}(t,e,St):!(n||!t||"object"!=typeof t&&"function"!=typeof t||r||!e||"object"!=typeof e&&"function"!=typeof e)||L(t,e)}var Tt=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}(),It=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}();function kt(t){return!!Ot(t)&&(Array.isArray(t)||!(t instanceof Map)&&M()in t)}function Ot(t){return null!==t&&("function"==typeof t||"object"==typeof t)}var xt=0,At=1,Nt=6,Dt="__ngContext__";function Pt(t){return"function"==typeof t?t.name||t:"string"==typeof t?t:null==t?"":""+t}function Rt(t){for(;Array.isArray(t);)t=t[st];return t}function Mt(t,e){return Rt(e[t.index])}function jt(t,e){var n=e[t];return n.length>=rt?n:n[st]}function Lt(t){return t[Dt]}function Vt(t){var e=Lt(t);return e?Array.isArray(e)?e:e.lViewData:null}function Ft(t){return 32767&t}function Ut(t,e){for(var n=t>>16,r=e;n>0;)r=r[vt],n--;return r}var qt,Bt,zt,Ht,Kt,Gt,Wt,Qt,Yt=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(D);function Xt(){return qt}function Jt(){return Bt}function Zt(){return zt}function $t(t){zt=t}function te(t,e){zt=t,Qt=e}function ee(){return Ht}function ne(t){Ht=t}function re(){return Kt}function ie(){return Wt}function oe(){return Qt}var ae=!1;function le(){return ae}function ue(t){ae=t}var se=!0;function ce(t){se=t}function he(t,e){var n=Qt;return Kt=t&&t[it],Wt=t&&1==(1&t[ot]),se=t&&Kt.firstTemplatePass,qt=t&&t[mt],zt=e,Ht=!0,Qt=t,n&&(n[ut]=Gt),Gt=t&&t[ut],n}function fe(t,e){e||(ae||Ct(Qt,Kt.viewHooks,Kt.viewCheckHooks,Wt),Qt[ot]&=-6),Qt[ot]|=16,Qt[ht]=Kt.bindingStartIndex,he(t,null)}var pe=!1;function de(t){var e=pe;return pe=t,e}var me=255,ge=0;function ye(t,e){var n=be(t,e);if(-1!==n)return n;var r=e[it];r.firstTemplatePass&&(t.injectorIndex=e.length,ve(r.data,t),ve(e,null),ve(r.blueprint,null));var i=we(t,e),o=Ft(i),a=Ut(i,e),l=t.injectorIndex;if(i!==tt)for(var u=a[it].data,s=0;s<8;s++)e[l+s]=a[o+s]|u[o+s];return e[l+Z]=i,l}function ve(t,e){t.push(0,0,0,0,0,0,0,0,e)}function be(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+Z]?-1:t.injectorIndex}function we(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=e[ct],r=1;n&&-1===n.injectorIndex;)n=(e=e[vt])[ct],r++;return n?n.injectorIndex|r<<16|(n&&3===n.type?32768:0):-1}var _e={};function Ce(t,e,n,r){var i=e[it],o=i.data[t+J],a=o.flags,l=o.providerIndexes,u=i.data,s=!1;(null==r&&function(t){return 4096==(4096&t.flags)}(o)&&pe||null!=r&&r!=i&&(null==i.node||3===i.node.type))&&(s=!0);for(var c=65535&l,h=a>>16,f=4095&a,p=s?c:c+(l>>16);p<h+f;p++){var d=u[p];if(p<h&&n===d||p>=h&&d.type===n)return Ee(u,e,p,o)}return _e}function Ee(t,e,n,r){var i,o=e[n];if(null!=(i=o)&&"object"==typeof i&&Object.getPrototypeOf(i)==nt){var a=o;if(a.resolving)throw new Error("Circular dep for "+Pt(t[n]));var l=de(a.canSeeViewProviders);a.resolving=!0;var u=void 0;a.injectImpl&&(u=W(a.injectImpl));var s=Zt(),c=oe();te(r,e);try{o=e[n]=a.factory(null,t,e,r)}finally{a.injectImpl&&W(u),de(l),a.resolving=!1,te(s,c)}}return o}function Se(t,e,n){var r=64&t,i=32&t;return!!((128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e])&1<<t)}function Te(t,e){return!(t&H.Self||t&H.Host&&32768&e)}var Ie=function(){function t(t,e){this._tNode=t,this._hostView=e,this._injectorIndex=ye(t,e)}return t.prototype.get=function(t){return te(this._tNode,this._hostView),function(t,e,n,r,i){void 0===r&&(r=H.Default);var o=function(t){var e=t[v];return"number"==typeof e?e&me:e}(n);if("function"==typeof o){var a=Zt(),l=oe();te(t,e);try{var u=o();if(null!=u||r&H.Optional)return u;throw new Error("No provider for "+Pt(n))}finally{te(a,l)}}else if("number"==typeof o){var s=null,c=be(t,e),h=tt;for((-1===c||r&H.SkipSelf)&&(Te(r,h=-1===c?we(t,e):e[c+Z])?(s=e[it],c=Ft(h),e=Ut(h,e)):c=-1);-1!==c;){h=e[c+Z];var f=e[it];if(Se(o,c,f.data)){var p=Ce(c,e,n,s);if(p!==_e)return p}Te(r,h)&&Se(o,c,e)?(s=f,c=Ft(h),e=Ut(h,e)):c=-1}}if(r&H.Optional&&void 0===i&&(i=null),0==(r&(H.Self|H.Host))){var d=e[dt];return d?d.get(n,i,r&H.Optional):Y(n,i,r&H.Optional)}if(r&H.Optional)return i;throw new Error("NodeInjector: NOT_FOUND ["+Pt(n)+"]")}(this._tNode,this._hostView,t)},t}();function ke(t,e){t[Dt]=e}function Oe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}var xe=h({__forward_ref__:h});function Ae(t){return t.__forward_ref__=Ae,t.toString=function(){return V(this())},t}function Ne(t){var e=t;return"function"==typeof e&&e.hasOwnProperty(xe)&&e.__forward_ref__===Ae?e():t}var De="__source",Pe=new Object,Re=Pe,Me=new C("INJECTOR"),je=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=Pe),e===Pe)throw new Error("NullInjectorError: No provider for "+V(t)+"!");return e},t}(),Le=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?new We(t,e):new We(t.providers,t.parent,t.name||null)},t.THROW_IF_NOT_FOUND=Pe,t.NULL=new je,t.ngInjectableDef=b({providedIn:"any",factory:function(){return Q(Me)}}),t.__NG_ELEMENT_ID__=function(){return Ve()},t}(),Ve=Oe,Fe=function(t){return t},Ue=[],qe=Fe,Be=function(){return Array.prototype.slice.call(arguments)},ze=h({provide:String,useValue:h}),He=Le.NULL,Ke=/\n/gm,Ge="\u0275",We=function(){function t(t,e,n){void 0===e&&(e=He),void 0===n&&(n=null),this.parent=e,this.source=n;var r=this._records=new Map;r.set(Le,{token:Le,fn:Fe,deps:Ue,value:this,useNew:!1}),r.set(Me,{token:Me,fn:Fe,deps:Ue,value:this,useNew:!1}),function t(e,n){if(n)if((n=Ne(n))instanceof Array)for(var r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw Xe("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Xe("Unexpected provider",n);var i=Ne(n.provide),o=function(t){var e=function(t){var e=Ue,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var i=6;if((u=Ne(n[r]))instanceof Array)for(var o=0,a=u;o<a.length;o++){var l=a[o];l instanceof q||l==q?i|=1:l instanceof z||l==z?i&=-3:l instanceof B||l==B?i&=-5:u=l instanceof U?l.token:Ne(l)}e.push({token:u,options:i})}}else if(t.useExisting){var u;e=[{token:u=Ne(t.useExisting),options:6}]}else if(!(n||ze in t))throw Xe("'deps' required",t);return e}(t),n=Fe,r=Ue,i=!1,o=Ne(t.provide);if(ze in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=Ne(t.useClass);else{if("function"!=typeof o)throw Xe("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var a=e.get(i);if(a){if(a.fn!==Be)throw Qe(i)}else e.set(i,a={token:n.provide,deps:[],useNew:!1,fn:Be,value:Ue});a.deps.push({token:i=n,options:6})}var l=e.get(i);if(l&&l.fn==Be)throw Qe(i);e.set(i,o)}}(r,t)}return t.prototype.get=function(t,e,n){void 0===n&&(n=H.Default);var i=this._records.get(t);try{return function t(e,n,i,o,a,l){try{return function(e,n,i,o,a,l){var u,s;if(!n||l&H.SkipSelf)l&H.Self||(s=o.get(e,a,H.Default));else{if((s=n.value)==qe)throw Error(Ge+"Circular dependency");if(s===Ue){n.value=qe;var c=n.useNew,h=n.fn,f=n.deps,p=Ue;if(f.length){p=[];for(var d=0;d<f.length;d++){var m=f[d],g=m.options,y=2&g?i.get(m.token):void 0;p.push(t(m.token,y,i,y||4&g?o:He,1&g?null:Le.THROW_IF_NOT_FOUND,H.Default))}}n.value=s=c?new((u=h).bind.apply(u,Object(r.g)([void 0],p))):h.apply(void 0,p)}}return s}(e,n,i,o,a,l)}catch(u){throw u instanceof Error||(u=new Error(u)),(u.ngTempTokenPath=u.ngTempTokenPath||[]).unshift(e),n&&n.value==qe&&(n.value=Ue),u}}(t,i,this._records,this.parent,e,n)}catch(a){var o=a.ngTempTokenPath;throw t[De]&&o.unshift(t[De]),a.message=Ye("\n"+a.message,o,this.source),a.ngTokenPath=o,a.ngTempTokenPath=null,a}},t.prototype.toString=function(){var t=[];return this._records.forEach(function(e,n){return t.push(V(n))}),"StaticInjector["+t.join(", ")+"]"},t}();function Qe(t){return Xe("Cannot mix multi providers and regular providers",t)}function Ye(t,e,n){void 0===n&&(n=null),t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Ge?t.substr(2):t;var r=V(e);if(e instanceof Array)r=e.map(V).join(" -> ");else if("object"==typeof e){var i=[];for(var o in e)if(e.hasOwnProperty(o)){var a=e[o];i.push(o+":"+("string"==typeof a?JSON.stringify(a):V(a)))}r="{"+i.join(", ")+"}"}return"StaticInjectorError"+(n?"("+n+")":"")+"["+r+"]: "+t.replace(Ke,"\n  ")}function Xe(t,e){return new Error(Ye(t,e))}var Je=function(){return function(){}}(),Ze=function(){return function(){}}(),$e="ngProjectAs";function tn(t){return!!t.listen}var en={createRenderer:function(t,e){return document}},nn=[];function rn(t){for(var e=t[ct];e&&2===e.type;)e=(t=t[at])[ct];return t}function on(t,e,n,r,i){0===t?tn(e)?e.insertBefore(n,r,i):n.insertBefore(r,i,!0):1===t?tn(e)?e.removeChild(n,r):n.removeChild(r):2===t&&e.destroyNode(r)}function an(t){var e=t[it].childIndex;return-1===e?null:t[e]}function ln(t,e){var n;return t.length>=rt&&(n=t[ct])&&2===n.type?function(e,n){if(-1===e.index){var r=t[yt];return r>-1?t[at][r]:null}return t[at][e.parent.index]}(n):t[at]===e?null:t[at]}function un(t){if(t.length>=rt){var e=t;!function(t){var e=t[it].cleanup;if(null!=e){for(var n=0;n<e.length-1;n+=2)"string"==typeof e[n]?(Rt(t[e[n+1]]).removeEventListener(e[n],t[ft][e[n+2]],e[n+3]),n+=2):"number"==typeof e[n]?(0,t[ft][e[n]])():e[n].call(t[ft][e[n+1]]);t[ft]=null}}(e),function(t){var e,n=t[it];null!=n&&null!=(e=n.destroyHooks)&&Et(t,e)}(e),(r=(n=e)[it]&&n[it].pipeDestroyHooks)&&Et(n,r),-1===e[it].id&&tn(e[mt])&&e[mt].destroy()}var n,r}var sn={},cn=Promise.resolve(null);function hn(t,e){var n=re(),r=se;if(n.firstTemplatePass=!1,ce(!1),1!==e){var i=ie(),o=le();o||function(t,e,n){16&t[ot]&&(Ct(t,e.initHooks,e.checkHooks,n),t[ot]&=-17)}(t,n,i),function(e){for(var n=an(t);null!==n;n=n[lt])if(n.length<rt&&-1===n[xt])for(var r=n,i=0;i<r[At].length;i++){var o=r[At][i];dn(o,o[it],o[pt],2)}}(),function(t){if(null!=t.contentQueries)for(var e=0;e<t.contentQueries.length;e+=2){var n=t.contentQueries[e];t.data[n].contentQueriesRefresh(n-rt,t.contentQueries[e+1])}}(n),o||Ct(t,n.contentHooks,n.contentCheckHooks,i),function(t,e){if(t.expandoInstructions)for(var n=e[ht]=t.expandoStartIndex,r=-1,i=-1,o=0;o<t.expandoInstructions.length;o++){var a=t.expandoInstructions[o];if("number"==typeof a)if(a<=0){i=-a;var l=t.expandoInstructions[++o];r=n+=$+l}else n+=a;else e[ht]=n,$t(re().data[i+rt]),a(r-rt,i),r++}}(n,t)}!function(t,e,n){if(null!=t)for(var r=0;r<t.length;r++)Cn(t[r],e,n)}(n.components,r,e)}function fn(t,e,n,r,i,o,a){var l=n.blueprint.slice();return l[ot]=25|i,l[at]=l[vt]=t,l[pt]=r,l[dt]=void 0===a?t?t[dt]:null:a,l[mt]=e,l[gt]=o||null,l}function pn(t,e,n,r,i){var o=oe(),a=re(),l=t+rt;o[l]=n;var u=a.data[l];if(null==u){var s=Zt(),c=ee();u=a.data[l]=_n(o,e,l,r,i,null),s&&(!c||null!=s.child||null===u.parent&&2!==s.type?c||(s.next=u):s.child=u)}return null==a.firstChild&&3===e&&(a.firstChild=u),$t(u),ne(!0),u}function dn(t,e,n,r){var i,o=ee(),a=Zt();if(ne(!0),$t(null),64&t[ot])Sn(function(t){for(var e=Array.isArray(t)?t:Vt(t);e&&!(64&e[ot]);)e=e[at];return e}(t)[pt]);else try{ne(!0),$t(null),i=he(t,t[ct]),vn(),e.template(r,n),2&r?hn(t,null):(t[it].firstTemplatePass=!1,ce(!1))}finally{fe(i,1==(1&r)),ne(o),$t(a)}}function mn(t,e,n,r){var i=Jt(),o=he(t,t[ct]);try{i.begin&&i.begin(),r&&(vn(),r(n||gn(t),e)),hn(t,n)}finally{i.end&&i.end(),fe(o)}}function gn(t){return 1&t[ot]?3:2}var yn=null;function vn(){yn=null}function bn(t,e,n,r,i,o,a){var l=rt+n,u=l+r,s=function(t,e){var n=new Array(e).fill(null,0,t).fill(sn,t);return n[yt]=-1,n[ht]=t,n}(l,u);return s[it]={id:t,blueprint:s,template:e,viewQuery:a,node:null,data:s.slice(),childIndex:-1,bindingStartIndex:l,expandoStartIndex:u,expandoInstructions:null,firstTemplatePass:!0,initHooks:null,checkHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,pipeDestroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof o?o():o,firstChild:null}}function wn(t,e){!function(t){Bt=t}(t);var n=t.createRenderer(null,null);return"string"==typeof e?tn(n)?n.selectRootElement(e):n.querySelector(e):e}function _n(t,e,n,r,i,o){var a=Zt(),l=ee()?a:a&&a.parent,u=l&&t&&l!==t[ct]?l:null;return{type:e,index:n,injectorIndex:u?u.injectorIndex:-1,flags:0,providerIndexes:0,tagName:r,attrs:i,localNames:null,initialInputs:void 0,inputs:void 0,outputs:void 0,tViews:o,next:null,child:null,parent:u,detached:null,stylingTemplate:null,projection:null}}function Cn(t,e,n){var r=jt(t,oe());En(r)&&6&r[ot]&&(e&&function(t){for(var e=t[it],n=t.length;n<e.blueprint.length;n++)t[n]=e.blueprint[n]}(r),kn(r,r[pt],n))}function En(t){return 8==(8&t[ot])}function Sn(t){for(var e=0;e<t.components.length;e++){var n=t.components[e];mn(Vt(n),n,2)}}function Tn(t){kn(function(t){var e,n=Lt(t);if(Array.isArray(n)){var r=function(t,e){var n=t[it].components;if(n)for(var r=0;r<n.length;r++){var i=n[r];if(jt(i,t)[pt]===e)return i}else if(jt(rt,t)[pt]===e)return rt;return-1}(n,t);(i=function(t,e,n){return{lViewData:t,nodeIndex:e,native:n,component:void 0,directives:void 0,localRefs:void 0}}(n,r,(e=jt(r,n))[st])).component=t,ke(t,i),ke(i.native,i)}else{var i;e=jt((i=n).nodeIndex,i.lViewData)}return e}(t),t,null)}function In(t){Sn(t[pt])}function kn(t,e,n){var r=t[it],i=he(t,t[ct]),o=r.template,a=r.viewQuery;try{vn(),function(e,r,i,o){e&&(1===n||null===n&&1&t[ot])&&e(1,o)}(a,0,0,e),o(n||gn(t),e),hn(t,n),function(e,n,r){e&&2&t[ot]&&e(2,r)}(a,0,e)}finally{fe(i,1===n)}}var On,xn=cn,An=function(t){function e(e){var n=t.call(this,e,null,-1)||this;return n._view=e,n}return Object(r.c)(e,t),e.prototype.detectChanges=function(){In(this._view)},e.prototype.checkNoChanges=function(){!function(t){ue(!0);try{In(t)}finally{ue(!1)}}(this._view)},Object.defineProperty(e.prototype,"context",{get:function(){return null},enumerable:!0,configurable:!0}),e}(function(){function t(t,e,n){this._context=e,this._componentIndex=n,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null,this._view=t}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return null==this._view[st]?function t(e,n,r){for(var i=n.child;i;)r.push(Mt(i,e)),4===i.type&&t(e,i,r),i=i.next;return r}(this._view,this._view[ct],[]):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._context?this._context:this._lookUpContext()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 32==(32&this._view[ot])},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){var t,e;this._viewContainerRef&&En(this._view)&&(this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),this._viewContainerRef=null),tn(e=(t=this._view)[mt])&&e.destroyNode&&function(e,n,r,i,o){for(var a=t[it].node,l=-1,u=t,s=a.child;s;){var c=null;if(3===s.type){on(2,r,null,Mt(s,u),o);var h=u[s.index];m=h,Array.isArray(m)&&"number"==typeof m[xt]&&on(2,r,null,h[Nt],o)}else if(0===s.type){var f=u[s.index];on(2,r,null,f[Nt],o),f[At].length&&(c=(u=f[At][0])[it].node,o=f[Nt])}else if(1===s.type){var p=rn(u),d=p[ct].projection[s.projection];nn[++l]=s,nn[++l]=u,d&&(c=(u=p[at])[it].data[d.index])}else c=s.child;if(null===c)for(null===s.next&&8192&s.flags&&(u=nn[l--],s=nn[l--]),c=s.next;!c;){if(null===(s=s.parent||u[it].node)||s===a)return null;0===s.type&&(o=(u=u[at])[s.index][Nt]),c=2===s.type&&u[lt]?(u=u[lt])[it].node:s.next}s=c}var m}(0,0,e),function(t){if(-1===t[it].childIndex)return un(t);for(var e=an(t);e;){var n=null;if(e.length>=rt?e[it].childIndex>-1&&(n=an(e)):e[At].length&&(n=e[At][0]),null==n){for(;e&&!e[lt]&&e!==t;)un(e),e=ln(e,t);un(e||t),n=e&&e[lt]}e=n}}(t),t[ot]|=32},t.prototype.onDestroy=function(t){var e,n;n=t,function(t){return t[ft]||(t[ft]=[])}(e=this._view).push(n),e[it].firstTemplatePass&&function(t){return t[it].cleanup||(t[it].cleanup=[])}(e).push(e[ft].length-1,null)},t.prototype.markForCheck=function(){!function(t){for(var e=t;e&&!(64&e[ot]);)e[ot]|=4,e=e[at];var n,r,i;e[ot]|=4,i=0===(n=e[pt]).flags,n.flags|=1,i&&n.clean==cn&&(n.clean=new Promise(function(t){return r=t}),n.scheduler(function(){if(1&n.flags&&(n.flags&=-2,Sn(n)),2&n.flags){n.flags&=-3;var t=n.playerHandler;t&&t.flushPlayers()}n.clean=cn,r(null)}))}(this._view)},t.prototype.detach=function(){this._view[ot]&=-9},t.prototype.reattach=function(){this._view[ot]|=8},t.prototype.detectChanges=function(){var t=Jt();t.begin&&t.begin(),Tn(this.context),t.end&&t.end()},t.prototype.checkNoChanges=function(){!function(t){ue(!0);try{Tn(t)}finally{ue(!1)}}(this.context)},t.prototype.attachToViewContainerRef=function(t){this._viewContainerRef=t},t.prototype.detachFromAppRef=function(){this._appRef=null},t.prototype.attachToAppRef=function(t){this._appRef=t},t.prototype._lookUpContext=function(){return this._context=this._view[at][this._componentIndex]},t}());function Nn(t,e,n,r,i){var o=n[it],a=function(t,e,n){var r=Zt();t.firstTemplatePass&&(n.providersResolver&&n.providersResolver(n),function(t,e,n){var i=-(r.index-rt),o=t.data.length-(65535&r.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(i,o,1)}(t),function(t,e,n,r){t.data.push(n);var i=new et(r,function(t){return null!==t.template}(n),null);t.blueprint.push(i),e.push(i),function(t,e){t.expandoInstructions.push(e.hostBindings||Oe),e.hostVars&&t.expandoInstructions.push(e.hostVars)}(t,n)}(t,e,n,n.factory));var i=Ee(t.data,e,e.length-1,r);return function(t,e,n,r){var i=Mt(e,t);ke(n,t),i&&ke(i,t),null!=r.attributes&&3==e.type&&function(t,e){for(var n=Xt(),r=tn(n),i=0;i<e.length;){var o=e[i];if(1===o)break;if(o===$e)i+=2;else if(0===o){var a=e[i+1],l=e[i+2],u=e[i+3];r?n.setAttribute(t,l,u,a):t.setAttributeNS(a,l,u),i+=4}else u=e[i+1],r?n.setAttribute(t,o,u):t.setAttribute(o,u),i+=2}}(i,r.attributes)}(e,r,i,n),i}(o,n,e);return r.components.push(a),t[pt]=a,i&&i.forEach(function(t){return t(a,e)}),o.firstTemplatePass&&function(t,e,n){for(var r=0;r<n;r++)e.push(sn),t.blueprint.push(sn),t.data.push(null)}(o,n,e.hostVars),a}function Dn(t,e){return{components:[],scheduler:t||Yt,clean:xn,playerHandler:e||null,flags:0}}function Pn(t,e){var n,r,i,o,a=Vt(t)[it],l=a.data.length-1;n=l,i=e.doCheck,o=a,(r=e.onInit)&&(o.initHooks||(o.initHooks=[])).push(n,r),i&&((o.initHooks||(o.initHooks=[])).push(n,i),(o.checkHooks||(o.checkHooks=[])).push(n,i)),function(t,e){if(e.firstTemplatePass)for(var n=t>>16,r=n+(4095&t),i=n;i<r;i++){var o=e.data[i];bt(o,e,i),wt(o,e,i),_t(o,e,i)}}(l<<16|1,a)}var Rn=new C("The presence of this token marks an injector as being the root injector."),Mn={},jn={},Ln=[],Vn=void 0;function Fn(){return void 0===Vn&&(Vn=new je),Vn}var Un=function(){function t(t,e,n){var r=this;this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this.destroyed=!1;var i=[];zn([t],function(t){return r.processInjectorType(t,[],i)}),e&&zn(e,function(t){return r.processProvider(t)}),this.records.set(Me,Bn(void 0,this)),this.isRootInjector=this.records.has(Rn),this.injectorDefTypes.forEach(function(t){return r.get(t)})}return t.prototype.destroy=function(){this.assertNotDestroyed(),this.destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}},t.prototype.get=function(t,e,n){void 0===e&&(e=Re),void 0===n&&(n=H.Default),this.assertNotDestroyed();var r,i=G(this);try{if(!(n&H.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof C)&&w(t);a&&this.injectableDefInScope(a)&&(o=Bn(qn(t),Mn),this.records.set(t,o))}if(void 0!==o)return this.hydrate(t,o)}return(n&H.Self?Fn():this.parent).get(t,e)}finally{G(i)}},t.prototype.assertNotDestroyed=function(){if(this.destroyed)throw new Error("Injector has already been destroyed.")},t.prototype.processInjectorType=function(t,e,n){var r=this;if(t=Ne(t)){var i=_(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o;if(-1===n.indexOf(a)){var l=void 0!==o&&t.providers||Ln;if(void 0!==o&&(i=_(o)),null!=i){if(this.injectorDefTypes.add(a),this.records.set(a,Bn(i.factory)),null!=i.imports){n.push(a);try{zn(i.imports,function(t){return r.processInjectorType(t,e,n)})}finally{}}null!=i.providers&&zn(i.providers,function(t){return r.processProvider(t)}),zn(l,function(t){return r.processProvider(t)})}}}},t.prototype.processProvider=function(t){var e=Kn(t=Ne(t))?t:Ne(t.provide),n=function(t){var e=function(t){var e=void 0;if(Kn(t))return qn(Ne(t));if(Hn(t))e=function(){return Ne(t.useValue)};else if(t.useExisting)e=function(){return Q(Ne(t.useExisting))};else if(t.useFactory)e=function(){return t.useFactory.apply(t,Object(r.g)(X(t.deps||[])))};else{var n=Ne(t.useClass||t.provide);if(!t.deps)return qn(n);e=function(){return new(n.bind.apply(n,Object(r.g)([void 0],X(t.deps))))}}return e}(t);return Hn(t)?Bn(void 0,t.useValue):Bn(e,Mn)}(t);if(Kn(t)||!0!==t.multi){var i=this.records.get(e);if(i&&void 0!==i.multi)throw new Error("Mixed multi-provider for "+V(e))}else{var o=this.records.get(e);if(o){if(void 0===o.multi)throw new Error("Mixed multi-provider for "+e+".")}else(o=Bn(void 0,Mn,!0)).factory=function(){return X(o.multi)},this.records.set(e,o);e=t,o.multi.push(t)}this.records.set(e,n)},t.prototype.hydrate=function(t,e){if(e.value===jn)throw new Error("Circular dep for "+V(t));var n;return e.value===Mn&&(e.value=jn,e.value=e.factory()),"object"==typeof e.value&&e.value&&"object"==typeof(n=e.value)&&null!=n&&n.ngOnDestroy&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value},t.prototype.injectableDefInScope=function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||"root"===t.providedIn&&this.isRootInjector:this.injectorDefTypes.has(t.providedIn))},t}();function qn(t){var e=w(t);if(null===e){if(t instanceof C)throw new Error("Token "+V(t)+" is missing an ngInjectableDef definition.");return function(){return new t}}return e.factory}function Bn(t,e,n){return void 0===e&&(e=Mn),void 0===n&&(n=!1),{factory:t,value:e,multi:n?[]:void 0}}function zn(t,e){t.forEach(function(t){return Array.isArray(t)?zn(t,e):e(t)})}function Hn(t){return ze in t}function Kn(t){return"function"==typeof t}var Gn=function(){return function(){}}(),Wn=function(){return function(){}}();function Qn(t){var e=Error("No component factory found for "+V(t)+". Did you add it to @NgModule.entryComponents?");return e[Yn]=t,e}var Yn="ngComponent",Xn=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw Qn(t)},t}(),Jn=function(){function t(){}return t.NULL=new Xn,t}(),Zn=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var i=t[r];this._factories.set(i.componentType,i)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw Qn(t);return new $n(e,this._ngModule)},t}(),$n=function(t){function e(e,n){var r=t.call(this)||this;return r.factory=e,r.ngModule=n,r.selector=e.selector,r.componentType=e.componentType,r.ngContentSelectors=e.ngContentSelectors,r.inputs=e.inputs,r.outputs=e.outputs,r}return Object(r.c)(e,t),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}(Wn),tr=function(){function t(t){this.nativeElement=t}return t.__NG_ELEMENT_ID__=function(){return er(t)},t}(),er=Oe,nr=function(){return function(){}}(),rr=function(){return function(){}}(),ir=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({}),or=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return ar()},t}(),ar=Oe,lr=function(){return function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}(),ur=new lr("7.1.1"),sr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.resolveComponentFactory=function(t){return new mr(t[p]||null)},e}(Jn);function cr(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var hr=new C("ROOT_CONTEXT_TOKEN",{providedIn:"root",factory:function(){return Dn(Q(fr))}}),fr=new C("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Yt}}),pr=new C("WRAP_RENDERER_FACTORY2"),dr={},mr=function(t){function e(e){var n=t.call(this)||this;return n.componentDef=e,n.componentType=e.type,n.selector=e.selectors[0][0],n.ngContentSelectors=[],n}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){return cr(this.componentDef.inputs)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return cr(this.componentDef.outputs)},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,i){var o,a=void 0===n;o=i?i.injector.get(pr,function(t){return t})(i.injector.get(rr)):en;var l,u,s=a?(l=this.selector,tn(u=o.createRenderer(null,this.componentDef)||Xt())?u.createElement(l,yn):null===yn?u.createElement(l):u.createElementNS(yn,l)):wn(o,n),c=this.componentDef.onPush?68:66,h=i&&!a?i.injector.get(hr):Dn(),f=o.createRenderer(s,this.componentDef),p=i?function(t,e){return{get:function(n,r){var i=t.get(n,dr);return i!==dr?i:e.get(n,r)}}}(t,i.injector):t;n&&s&&(tn(f)?f.setAttribute(s,"ng-version",ur.full):s.setAttribute("ng-version",ur.full));var d,m,g=fn(null,f,bn(-1,null,1,0,null,null,null),h,c,void 0,p),y=he(g,null);try{o.begin&&o.begin();var b=function(t,e,n,r,i){Ht=!1,zt=null;var o,a,l,u=n[it],s=fn(n,r,(o=e.template).ngPrivateData||(o.ngPrivateData=bn(-1,o,e.consts,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery)),null,e.onPush?4:2,i),c=pn(0,3,t,null,null);return u.firstTemplatePass&&(a=ye(c,n),l=e.type,function(t,e,n){var r=l[v];null==r&&(r=l[v]=ge++);var i=r&me,o=1<<i,a=64&i,u=32&i,s=e.data;128&i?a?u?s[t+7]|=o:s[t+6]|=o:u?s[t+5]|=o:s[t+4]|=o:a?u?s[t+3]|=o:s[t+2]|=o:u?s[t+1]|=o:s[t]|=o}(a,n[it]),c.flags=4096,function(t,e,n){t.flags=e<<16|4096&t.flags|1,t.providerIndexes=e}(c,n.length),function(t){var e=re();(e.components||(e.components=[])).push(t.index)}(c)),s[st]=n[rt],s[ct]=c,n[rt]=s}(s,this.componentDef,g,f);if(m=g[it].data[0+rt],e)for(var w=0,_=g[it],C=m.projection=[],E=0;E<e.length;E++){for(var S=e[E],T=null,I=null,k=0;k<S.length;k++){_.firstTemplatePass&&(_.expandoStartIndex++,_.blueprint.splice(++w+rt,0,null),_.data.splice(w+rt,0,null),g.splice(w+rt,0,null));var O=pn(w,3,S[k],null,null);I?I.next=O:T=O,I=O}C.push(T)}d=Nn(b,this.componentDef,g,h,[Pn]),hn(g,1)}finally{fe(y,!0),o.end&&o.end()}var x=new gr(this.componentType,d,function(t,e,n){return On||(On=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e}(tr)),new On(Mt(e,n))}(0,m,g),g,m);return a&&(x.hostView._tViewNode.child=m),x},e}(Wn),gr=function(t){function e(e,n,r,i,o){var a=t.call(this)||this;return a.location=r,a._rootView=i,a._tNode=o,a.destroyCbs=[],a.instance=n,a.hostView=a.changeDetectorRef=new An(i),a.hostView._tViewNode=function(t,e){null==e[it].node&&(e[it].node=_n(e,2,-1,null,null,null)),ne(!0);var n=e[it].node;return $t(n),e[ct]=n}(0,i),a.componentType=e,a}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"injector",{get:function(){return new Ie(this._tNode,this._rootView)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null},e.prototype.onDestroy=function(t){this.destroyCbs.push(t)},e}(Gn),yr=!0,vr=!1;function br(){return vr=!0,yr}function wr(){if(vr)throw new Error("Cannot enable prod mode after platform setup.");yr=!1}var _r=function(){function t(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return t.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n},t.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling},t}(),Cr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,Er=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Sr(t){return(t=String(t)).match(Cr)||t.match(Er)?t:(br()&&console.warn("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function Tr(t){var e,n,i={};try{for(var o=Object(r.h)(t.split(",")),a=o.next();!a.done;a=o.next())i[a.value]=!0}catch(l){e={error:l}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}function Ir(){for(var t,e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o={};try{for(var a=Object(r.h)(n),l=a.next();!l.done;l=a.next()){var u=l.value;for(var s in u)u.hasOwnProperty(s)&&(o[s]=!0)}}catch(c){t={error:c}}finally{try{l&&!l.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return o}var kr,Or=Tr("area,br,col,hr,img,wbr"),xr=Tr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ar=Tr("rp,rt"),Nr=Ir(Ar,xr),Dr=Ir(Or,Ir(xr,Tr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ir(Ar,Tr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Nr),Pr=Tr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Rr=Tr("srcset"),Mr=Ir(Pr,Rr,Tr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),jr=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")},t.prototype.startElement=function(t){var e,n=t.nodeName.toLowerCase();if(!Dr.hasOwnProperty(n))return this.sanitizedSomething=!0,!1;this.buf.push("<"),this.buf.push(n);for(var r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,l=a.toLowerCase();if(Mr.hasOwnProperty(l)){var u=o.value;Pr[l]&&(u=Sr(u)),Rr[l]&&(e=u,u=(e=String(e)).split(",").map(function(t){return Sr(t.trim())}).join(", ")),this.buf.push(" ",a,'="',Fr(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0},t.prototype.endElement=function(t){var e=t.nodeName.toLowerCase();Dr.hasOwnProperty(e)&&!Or.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(Fr(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e},t}(),Lr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Vr=/([^\#-~ |!])/g;function Fr(t){return t.replace(/&/g,"&amp;").replace(Lr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Vr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ur(t,e){var n=null;try{kr=kr||new _r(t);var r=e?String(e):"";n=kr.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=kr.getInertBodyElement(r)}while(r!==o);var a=new jr,l=a.sanitizeChildren(qr(n)||n);return br()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),l}finally{if(n)for(var u=qr(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function qr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Br={provide:Jn,useFactory:function(){return new sr},deps:[]},zr=function(t){function e(e,n){var r=t.call(this)||this;return r._bootstrapComponents=[],r.destroyCbs=[],r._bootstrapComponents=(e[g]||null).bootstrap,r.injector=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),e=e||Fn(),new Un(t,n,e)}(e,n,[Br,{provide:Je,useValue:r}]),r.instance=r.injector.get(e),r.componentFactoryResolver=new sr,r}return Object(r.c)(e,t),e.prototype.destroy=function(){this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null},e.prototype.onDestroy=function(t){this.destroyCbs.push(t)},e}(Je);!function(t){function e(e){var n=t.call(this)||this;return n.moduleType=e,n}Object(r.c)(e,t),e.prototype.create=function(t){return new zr(this.moduleType,t)}}(Ze);var Hr=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return Object(r.c)(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var o,a=function(t){return null},l=function(){return null};e&&"object"==typeof e?(o=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(a=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(l=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(o=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(a=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(l=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var u=t.prototype.subscribe.call(this,o,a,l);return e instanceof i.a&&e.add(u),u},e}(o.a),Kr=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return Gr(t,tr)},t}(),Gr=Oe,Wr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({}),Qr=function(){return function(){}}(),Yr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Xr=/^url\(([^)]+)\)$/;function Jr(t){if(!(t=String(t).trim()))return"";var e=t.match(Xr);return e&&Sr(e[1])===e[1]||t.match(Yr)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(br()&&console.warn("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}Function;var Zr=k("Input",function(t){return{bindingPropertyName:t}},void 0,function(t){return function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=t.constructor;i.hasOwnProperty(y)||function(t){var e=t.constructor,n=e.ngBaseDef,r=e.ngBaseDef={inputs:{},outputs:{},declaredInputs:{}};n&&(f(r.inputs,n.inputs),f(r.outputs,n.outputs),f(r.declaredInputs,n.declaredInputs))}(t),(function(t){return t.inputs||{}}(i.ngBaseDef))[e]=n[0]}}()),$r=k("HostBinding",function(t){return{hostPropertyName:t}});String,String;var ti="ngDebugContext",ei="ngOriginalError",ni="ngErrorLogger";function ri(t){return t[ti]}function ii(t){return t[ei]}function oi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,Object(r.g)(e))}var ai=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[ni]||oi}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?ri(t)?ri(t):this._findContext(ii(t)):null},t.prototype._findOriginalError=function(t){for(var e=ii(t);e&&ii(e);)e=ii(e);return e},t}();function li(t){return!!t&&"function"==typeof t.then}function ui(t){return!!t&&"function"==typeof t.subscribe}var si=new C("Application Initializer"),ci=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();li(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},t}(),hi=new C("AppId");function fi(){return""+pi()+pi()+pi()}function pi(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var di=new C("Platform Initializer"),mi=new C("Platform ID"),gi=new C("appBootstrapListener"),yi=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t}();function vi(){throw new Error("Runtime compiler is not loaded")}var bi,wi,_i=function(){function t(){}return t.prototype.compileModuleSync=function(t){throw vi()},t.prototype.compileModuleAsync=function(t){throw vi()},t.prototype.compileModuleAndAllComponentsSync=function(t){throw vi()},t.prototype.compileModuleAndAllComponentsAsync=function(t){throw vi()},t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t.prototype.getModuleId=function(t){},t}(),Ci=function(){return function(){}}();function Ei(){var t=D.wtf;return!(!t||!(bi=t.trace)||(wi=bi.events,0))}var Si=Ei();function Ti(t,e){return null}var Ii=Si?function(t,e){return void 0===e&&(e=null),wi.createScope(t,e)}:function(t,e){return Ti},ki=Si?function(t,e){return bi.leaveScope(t,e),e}:function(t,e){return e},Oi=function(){function t(t){var e,n=t.enableLongStackTrace,r=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Hr(!1),this.onMicrotaskEmpty=new Hr(!1),this.onStable=new Hr(!1),this.onError=new Hr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,n,r,i,o,a){try{return Di(e),t.invokeTask(r,i,o,a)}finally{Pi(e)}},onInvoke:function(t,n,r,i,o,a,l){try{return Di(e),t.invoke(r,i,o,a,l)}finally{Pi(e)}},onHasTask:function(t,n,r,i){t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,Ni(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,n,r,i){return t.handleError(r,i),e.runOutsideAngular(function(){return e.onError.emit(i)}),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Ai,xi,xi);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function xi(){}var Ai={};function Ni(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function Di(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Pi(t){t._nesting--,Ni(t)}var Ri=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Hr,this.onMicrotaskEmpty=new Hr,this.onStable=new Hr,this.onError=new Hr}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),Mi=function(){function t(t){var e=this;this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(function(){e.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){Oi.assertNotInAngularZone(),j(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;if(this.isStable())j(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}},t.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]},t.prototype.addCallback=function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})},t.prototype.whenStable=function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t}(),ji=function(){function t(){this._applications=new Map,Fi.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),Fi.findTestabilityInTree(this,t,e)},Object(r.b)([Object(r.d)("design:paramtypes",[])],t)}();function Li(t){Fi=t}var Vi,Fi=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}()),Ui=new C("AllowMultipleToken"),qi=function(){return function(t,e){this.name=t,this.token=e}}();function Bi(t,e,n){void 0===n&&(n=[]);var r="Platform: "+e,i=new C(r);return function(e){void 0===e&&(e=[]);var o=zi();if(!o||o.injector.get(Ui,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(Vi&&!Vi.destroyed&&!Vi.injector.get(Ui,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Vi=t.get(Hi);var e=t.get(di,null);e&&e.forEach(function(t){return t()})}(Le.create({providers:a,name:r}))}return function(t){var e=zi();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function zi(){return Vi&&!Vi.destroyed?Vi:null}var Hi=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n,r=this,i="noop"===(n=e?e.ngZone:void 0)?new Ri:("zone.js"===n?void 0:n)||new Oi({enableLongStackTrace:br()}),o=[{provide:Oi,useValue:i}];return i.run(function(){var e=Le.create({providers:o,parent:r.injector,name:t.moduleType.name}),n=t.create(e),a=n.injector.get(ai,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy(function(){return Wi(r._modules,n)}),i.runOutsideAngular(function(){return i.onError.subscribe({next:function(t){a.handleError(t)}})}),function(t,e,i){try{var o=((a=n.injector.get(ci)).runInitializers(),a.donePromise.then(function(){return r._moduleDoBootstrap(n),n}));return li(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(l){throw e.runOutsideAngular(function(){return t.handleError(l)}),l}var a}(a,i)})},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var r=Ki({},e);return function(t,e,n){return t.get(Ci).createCompiler([e]).compileModuleAsync(n)}(this.injector,r,t).then(function(t){return n.bootstrapModuleFactory(t,r)})},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(Gi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+V(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}();function Ki(t,e){return Array.isArray(e)?e.reduce(Ki,t):Object(r.a)({},t,e)}var Gi=function(){function t(t,e,n,r,i,o){var h=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=br(),this._zone.onMicrotaskEmpty.subscribe({next:function(){h._zone.run(function(){h.tick()})}});var f=new a.a(function(t){h._stable=h._zone.isStable&&!h._zone.hasPendingMacrotasks&&!h._zone.hasPendingMicrotasks,h._zone.runOutsideAngular(function(){t.next(h._stable),t.complete()})}),p=new a.a(function(t){var e;h._zone.runOutsideAngular(function(){e=h._zone.onStable.subscribe(function(){Oi.assertNotInAngularZone(),j(function(){h._stable||h._zone.hasPendingMacrotasks||h._zone.hasPendingMicrotasks||(h._stable=!0,t.next(!0))})})});var n=h._zone.onUnstable.subscribe(function(){Oi.assertInAngularZone(),h._stable&&(h._stable=!1,h._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,i=t[t.length-1];return Object(l.a)(i)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof i&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof a.a?t[0]:Object(u.a)(n)(Object(s.a)(t,r))}(f,p.pipe(Object(c.a)()))}var e;return e=t,t.prototype.bootstrap=function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Wn?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n instanceof $n?null:this._injector.get(Je),o=n.create(Le.NULL,[],e||n.selector,i);o.onDestroy(function(){r._unloadComponent(o)});var a=o.injector.get(Mi,null);return a&&o.injector.get(ji).registerApplication(o.location.nativeElement,a),this._loadComponent(o),br()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},t.prototype.tick=function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=e._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(r){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(r)})}finally{this._runningTick=!1,ki(n)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;Wi(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(gi,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),Wi(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t._tickScope=Ii("ApplicationRef#tick()"),t}();function Wi(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Qi=function(){return function(){}}(),Yi=function(){function t(){this.dirty=!0,this._results=[],this.changes=new Hr,this.length=0}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[M()]=function(){return this._results[M()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=function t(e){return e.reduce(function(e,n){var r=Array.isArray(n)?t(n):n;return e.concat(r)},[])}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),Xi=function(){return function(){}}(),Ji={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Zi=function(){function t(t,e){this._compiler=t,this._config=e||Ji}return t.prototype.load=function(t){return this._compiler instanceof _i?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,i=Object(r.f)(t.split("#"),2),o=i[0],a=i[1];return void 0===a&&(a="default"),n("crnd")(o).then(function(t){return t[a]}).then(function(t){return $i(t,o,a)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=Object(r.f)(t.split("#"),2),i=e[0],o=e[1],a="NgFactory";return void 0===o&&(o="default",a=""),n("crnd")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[o+a]}).then(function(t){return $i(t,i,o)})},t}();function $i(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}var to,eo=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return no(t,tr)},t}(),no=Oe,ro=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return io()},t}(),io=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},oo=(to=ro,Object(r.c)(function(){return null!==to&&to.apply(this,arguments)||this},to),function(){return function(t,e){this.name=t,this.callback=e}}()),ao=function(){function t(t,e,n){this.nativeNode=t,this._debugContext=n,this.listeners=[],this.parent=null,e&&e instanceof lo&&e.addChild(this)}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),lo=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=e,i}return Object(r.c)(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n,i=this,o=this.childNodes.indexOf(t);-1!==o&&((n=this.childNodes).splice.apply(n,Object(r.g)([o+1,0],e)),e.forEach(function(t){t.parent&&t.parent.removeChild(t),t.parent=i}))},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return function t(e,n,r){e.childNodes.forEach(function(e){e instanceof lo&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return function t(e,n,r){e instanceof lo&&e.childNodes.forEach(function(e){n(e)&&r.push(e),e instanceof lo&&t(e,n,r)})}(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(ao),uo=new Map;function so(t){return uo.get(t)||null}function co(t){uo.set(t.nativeNode,t)}var ho=function(){function t(){}return t.prototype.supports=function(t){return kt(t)},t.prototype.create=function(t){return new po(t)},t}(),fo=function(t,e){return e},po=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||fo}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<vo(n,r,i)?e:n,a=vo(o,r,i),l=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,s=l-r;if(u!=s){for(var c=0;c<u;c++){var h=c<i.length?i[c]:i[c]=0,f=h+c;s<=f&&f<u&&(i[c]=h+1)}i[o.previousIndex]=s-u}}a!==l&&t(o,a,l)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!kt(t))throw new Error("Error trying to diff '"+V(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var l=0;l<this.length;l++)i=this._trackByFn(l,r=t[l]),null!==o&&L(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,l)),L(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,l),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r=t[M()](),i=void 0;!(i=r.next()).done;)e(i.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&L(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),L(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(L(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(L(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new mo(e,n),i,r),t},t.prototype._verifyReinsertion=function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new yo),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new yo),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),mo=function(){return function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),go=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&L(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),yo=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new go,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}();function vo(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var bo=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||Ot(t)},t.prototype.create=function(){return new wo},t}(),wo=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||Ot(t)))throw new Error("Error trying to diff '"+V(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new _o(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){L(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),_o=function(){return function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),Co=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new z,new q]]}},t.prototype.find=function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},t.ngInjectableDef=b({providedIn:"root",factory:function(){return new t([new ho])}}),t}(),Eo=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new z,new q]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t.ngInjectableDef=b({providedIn:"root",factory:function(){return new t([new bo])}}),t}(),So=[new bo],To=new Co([new ho]),Io=new Eo(So),ko=Bi(null,"core",[{provide:mi,useValue:"unknown"},{provide:Hi,deps:[Le]},{provide:ji,deps:[]},{provide:yi,deps:[]}]),Oo=new C("LocaleId");function xo(){return To}function Ao(){return Io}function No(t){return t||"en-US"}var Do=function(){return function(t){}}();function Po(t,e,n){var r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function Ro(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Mo(t,e){return t.nodes[e]}function jo(t,e){return t.nodes[e]}function Lo(t,e){return t.nodes[e]}function Vo(t,e){return t.nodes[e]}function Fo(t,e){return t.nodes[e]}var Uo={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function qo(t,e,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return Bo(n,e),n}(i,t)}function Bo(t,e){t[ti]=e,t[ni]=e.logError.bind(e)}function zo(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}var Ho=function(){},Ko=new Map;function Go(t){var e=Ko.get(t);return e||(e=V(t)+"_"+Ko.size,Ko.set(t,e)),e}var Wo="$$undefined",Qo="$$empty";function Yo(t){return{id:Wo,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var Xo=0;function Jo(t,e,n,r){return!(!(2&t.state)&&L(t.oldValues[e.bindingIndex+n],r))}function Zo(t,e,n,r){return!!Jo(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function $o(t,e,n,r){var i=t.oldValues[e.bindingIndex+n];if(1&t.state||!St(i,r)){var o=e.bindings[n].name;throw qo(Uo.createDebugContext(t,e.nodeIndex),o+": "+i,o+": "+r,0!=(1&t.state))}}function ta(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function ea(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function na(t,e,n,r){try{return ta(33554432&t.def.nodes[e].flags?jo(t,e).componentView:t),Uo.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function ra(t){return t.parent?jo(t.parent,t.parentNodeDef.nodeIndex):null}function ia(t){return t.parent?t.parentNodeDef.parent:null}function oa(t,e){switch(201347067&e.flags){case 1:return jo(t,e.nodeIndex).renderElement;case 2:return Mo(t,e.nodeIndex).renderText}}function aa(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function la(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function ua(t){return 1<<t%32}function sa(t){var e={},n=0,i={};return t&&t.forEach(function(t){var o=Object(r.f)(t,2),a=o[0],l=o[1];"number"==typeof a?(e[a]=l,n|=ua(a)):i[a]=l}),{matchedQueries:e,references:i,matchedQueryIds:n}}function ca(t,e){return t.map(function(t){var n,i,o;return Array.isArray(t)?(o=(n=Object(r.f)(t,2))[0],i=n[1]):(o=0,i=t),i&&("function"==typeof i||"object"==typeof i)&&e&&Object.defineProperty(i,De,{value:e,configurable:!0}),{flags:o,token:i,tokenKey:Go(i)}})}function ha(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===x.Native?jo(t,n.renderParent.nodeIndex).renderElement:void 0:e}var fa=new WeakMap;function pa(t){var e=fa.get(t);return e||((e=t(function(){return Ho})).factory=t,fa.set(t,e)),e}function da(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(oa(t,t.def.lastRenderRootNode))),ma(t,e,0,t.def.nodes.length-1,n,r,i)}function ma(t,e,n,r,i,o,a){for(var l=n;l<=r;l++){var u=t.def.nodes[l];11&u.flags&&ya(t,u,e,i,o,a),l+=u.childCount}}function ga(t,e,n,r,i,o){for(var a=t;a&&!aa(a);)a=a.parent;for(var l=a.parent,u=ia(a),s=u.nodeIndex+u.childCount,c=u.nodeIndex+1;c<=s;c++){var h=l.def.nodes[c];h.ngContentIndex===e&&ya(l,h,n,r,i,o),c+=h.childCount}if(!l.parent){var f=t.root.projectableNodes[e];if(f)for(c=0;c<f.length;c++)va(t,f[c],n,r,i,o)}}function ya(t,e,n,r,i,o){if(8&e.flags)ga(t,e.ngContent.index,n,r,i,o);else{var a=oa(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&va(t,a,n,r,i,o),32&e.bindingFlags&&va(jo(t,e.nodeIndex).componentView,a,n,r,i,o)):va(t,a,n,r,i,o),16777216&e.flags)for(var l=jo(t,e.nodeIndex).viewContainer._embeddedViews,u=0;u<l.length;u++)da(l[u],n,r,i,o);1&e.flags&&!e.element.name&&ma(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function va(t,e,n,r,i,o){var a=t.renderer;switch(n){case 1:a.appendChild(r,e);break;case 2:a.insertBefore(r,e,i);break;case 3:a.removeChild(r,e);break;case 0:o.push(e)}}var ba=/^:([^:]+):(.+)$/;function wa(t){if(":"===t[0]){var e=t.match(ba);return[e[1],e[2]]}return["",t]}function _a(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function Ca(t,e,n,r,i,o,a,l,u,s,c,h,f,p,d,m,g,y,v,b){switch(t){case 1:return e+Ea(n)+r;case 2:return e+Ea(n)+r+Ea(i)+o;case 3:return e+Ea(n)+r+Ea(i)+o+Ea(a)+l;case 4:return e+Ea(n)+r+Ea(i)+o+Ea(a)+l+Ea(u)+s;case 5:return e+Ea(n)+r+Ea(i)+o+Ea(a)+l+Ea(u)+s+Ea(c)+h;case 6:return e+Ea(n)+r+Ea(i)+o+Ea(a)+l+Ea(u)+s+Ea(c)+h+Ea(f)+p;case 7:return e+Ea(n)+r+Ea(i)+o+Ea(a)+l+Ea(u)+s+Ea(c)+h+Ea(f)+p+Ea(d)+m;case 8:return e+Ea(n)+r+Ea(i)+o+Ea(a)+l+Ea(u)+s+Ea(c)+h+Ea(f)+p+Ea(d)+m+Ea(g)+y;case 9:return e+Ea(n)+r+Ea(i)+o+Ea(a)+l+Ea(u)+s+Ea(c)+h+Ea(f)+p+Ea(d)+m+Ea(g)+y+Ea(v)+b;default:throw new Error("Does not support more than 9 expressions")}}function Ea(t){return null!=t?t.toString():""}function Sa(t,e,n,r,i,o){t|=1;var a=sa(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a.matchedQueries,matchedQueryIds:a.matchedQueryIds,references:a.references,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?pa(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Ho},provider:null,text:null,query:null,ngContent:null}}function Ta(t,e,n,i,o,a,l,u,s,c,h,f){var p;void 0===l&&(l=[]),c||(c=Ho);var d=sa(n),m=d.matchedQueries,g=d.references,y=d.matchedQueryIds,v=null,b=null;a&&(v=(p=Object(r.f)(wa(a),2))[0],b=p[1]),u=u||[];for(var w=new Array(u.length),_=0;_<u.length;_++){var C=Object(r.f)(u[_],3),E=C[0],S=C[1],T=C[2],I=Object(r.f)(wa(S),2),k=I[0],O=I[1],A=void 0,N=void 0;switch(15&E){case 4:N=T;break;case 1:case 8:A=T}w[_]={flags:E,ns:k,name:O,nonMinifiedName:O,securityContext:A,suffix:N}}s=s||[];var D=new Array(s.length);for(_=0;_<s.length;_++){var P=Object(r.f)(s[_],2);D[_]={type:0,target:P[0],eventName:P[1],propName:null}}var R=(l=l||[]).map(function(t){var e=Object(r.f)(t,2),n=e[0],i=e[1],o=Object(r.f)(wa(n),2);return[o[0],o[1],i]});return f=function(t){if(t&&t.id===Wo){var e=null!=t.encapsulation&&t.encapsulation!==x.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+Xo++:Qo}return t&&t.id===Qo&&(t=null),t||null}(f),h&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:m,matchedQueryIds:y,references:g,ngContentIndex:i,childCount:o,bindings:w,bindingFlags:_a(w),outputs:D,element:{ns:v,name:b,attrs:R,template:null,componentProvider:null,componentView:h||null,componentRendererType:f,publicProviders:null,allProviders:null,handleEvent:c||Ho},provider:null,text:null,query:null,ngContent:null}}function Ia(t,e,n){var i,o=n.element,a=t.root.selectorOrNode,l=t.renderer;if(t.parent||!a){i=o.name?l.createElement(o.name,o.ns):l.createComment("");var u=ha(t,e,n);u&&l.appendChild(u,i)}else i=l.selectRootElement(a,!!o.componentRendererType&&o.componentRendererType.encapsulation===x.ShadowDom);if(o.attrs)for(var s=0;s<o.attrs.length;s++){var c=Object(r.f)(o.attrs[s],3);l.setAttribute(i,c[1],c[2],c[0])}return i}function ka(t,e,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],a=Oa(t,n.nodeIndex,(h=o.eventName,(c=o.target)?c+":"+h:h)),l=o.target,u=t;"component"===o.target&&(l=null,u=e);var s=u.renderer.listen(l||r,o.eventName,a);t.disposables[n.outputIndex+i]=s}var c,h}function Oa(t,e,n){return function(r){return na(t,e,n,r)}}function xa(t,e,n,r){if(!Zo(t,e,n,r))return!1;var i=e.bindings[n],o=jo(t,e.nodeIndex),a=o.renderElement,l=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){var a=e.securityContext,l=a?t.root.sanitizer.sanitize(a,o):o;l=null!=l?l.toString():null;var u=t.renderer;null!=o?u.setAttribute(n,i,l,r):u.removeAttribute(n,i,r)}(t,i,a,i.ns,l,r);break;case 2:!function(t,e,n,r){var i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,a,l,r);break;case 4:!function(t,e,n,r,i){var o=t.root.sanitizer.sanitize(Wr.STYLE,i);if(null!=o){o=o.toString();var a=e.suffix;null!=a&&(o+=a)}else o=null;var l=t.renderer;null!=o?l.setStyle(n,r,o):l.removeStyle(n,r)}(t,i,a,l,r);break;case 8:!function(t,e,n,r,i){var o=e.securityContext,a=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,a)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,a,l,r)}return!0}var Aa=new Object,Na=Go(Le),Da=Go(Me),Pa=Go(Je);function Ra(t,e,n,r){return n=Ne(n),{index:-1,deps:ca(r,V(e)),flags:t,token:e,value:n}}function Ma(t){for(var e={},n=[],r=!1,i=0;i<t.length;i++){var o=t[i];o.token===Rn&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[Go(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}function ja(t,e,n){void 0===n&&(n=Le.THROW_IF_NOT_FOUND);var r,i,o=G(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var a=e.tokenKey;switch(a){case Na:case Da:case Pa:return t}var l,u=t._def.providersByKey[a];if(u){var s=t._providers[u.index];return void 0===s&&(s=t._providers[u.index]=La(t,u)),s===Aa?void 0:s}if((l=w(e.token))&&(r=t,null!=(i=l).providedIn&&(function(t,e){return t._def.modules.indexOf(i.providedIn)>-1}(r)||"root"===i.providedIn&&r._def.isRoot))){var c=t._providers.length;return t._def.providersByKey[e.tokenKey]={flags:5120,value:l.factory,deps:[],index:c,token:e.token},t._providers[c]=Aa,t._providers[c]=La(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{G(o)}}function La(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var i=n.length;switch(i){case 0:return new e;case 1:return new e(ja(t,n[0]));case 2:return new e(ja(t,n[0]),ja(t,n[1]));case 3:return new e(ja(t,n[0]),ja(t,n[1]),ja(t,n[2]));default:for(var o=new Array(i),a=0;a<i;a++)o[a]=ja(t,n[a]);return new(e.bind.apply(e,Object(r.g)([void 0],o)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var i=n.length;switch(i){case 0:return e();case 1:return e(ja(t,n[0]));case 2:return e(ja(t,n[0]),ja(t,n[1]));case 3:return e(ja(t,n[0]),ja(t,n[1]),ja(t,n[2]));default:for(var o=Array(i),a=0;a<i;a++)o[a]=ja(t,n[a]);return e.apply(void 0,Object(r.g)(o))}}(t,e.value,e.deps);break;case 2048:n=ja(t,e.deps[0]);break;case 256:n=e.value}return n===Aa||null==n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Aa:n}function Va(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,Ba(n,e),Uo.dirtyParentQueries(r),Ua(r),r}function Fa(t,e,n){var r=e?oa(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);da(n,2,i,o,void 0)}function Ua(t){da(t,3,null,null,void 0)}function qa(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ba(t,e){e>=t.length-1?t.pop():t.splice(e,1)}var za=new Object;function Ha(t,e,n,r,i,o){return new Ka(t,e,n,r,i,o)}var Ka=function(t){function e(e,n,r,i,o,a){var l=t.call(this)||this;return l.selector=e,l.componentType=n,l._inputs=i,l._outputs=o,l.ngContentSelectors=a,l.viewDefFactory=r,l}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var i=pa(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=Uo.createRootView(t,e||[],n,i,r,za),l=Lo(a,o).instance;return n&&a.renderer.setAttribute(jo(a,0).renderElement,"ng-version",ur.full),new Ga(a,new Xa(a),l)},e}(Wn),Ga=function(t){function e(e,n,r){var i=t.call(this)||this;return i._view=e,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i.hostView=n,i.changeDetectorRef=n,i.instance=r,i}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new tr(jo(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new tl(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(Gn);function Wa(t,e,n){return new Qa(t,e,n)}var Qa=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new tr(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new tl(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=ia(t),t=t.parent;return t?new tl(t,e):new tl(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=Va(this._data,t);Uo.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new Xa(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,i){var o=n||this.parentInjector;i||t instanceof $n||(i=o.get(Je));var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,o,a=t;return o=(n=this._data).viewContainer._embeddedViews,null==(r=e)&&(r=o.length),(i=a._view).viewContainerParent=this._view,qa(o,r,i),function(t,e){var n=ra(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,n){if(!(4&n.flags)){e.parent.def.nodeFlags|=4,n.flags|=4;for(var r=n.parent;r;)r.childFlags|=4,r=r.parent}}(0,e.parentNodeDef)}}(n,i),Uo.dirtyParentQueries(i),Fa(n,r>0?o[r-1]:null,i),a.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,a,l=this._embeddedViews.indexOf(t._view);return i=e,a=(o=(n=this._data).viewContainer._embeddedViews)[r=l],Ba(o,r),null==i&&(i=o.length),qa(o,i,a),Uo.dirtyParentQueries(a),Ua(a),Fa(n,i>0?o[i-1]:null,a),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=Va(this._data,t);e&&Uo.destroyView(e)},t.prototype.detach=function(t){var e=Va(this._data,t);return e?new Xa(e):null},t}();function Ya(t){return new Xa(t)}var Xa=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return da(this._view,0,void 0,void 0,t=[]),t;var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){ta(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{Uo.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},t.prototype.checkNoChanges=function(){Uo.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Uo.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,Ua(this._view),Uo.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}();function Ja(t,e){return new Za(t,e)}var Za=function(t){function e(e,n){var r=t.call(this)||this;return r._parentView=e,r._def=n,r}return Object(r.c)(e,t),e.prototype.createEmbeddedView=function(t){return new Xa(Uo.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new tr(jo(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(Kr);function $a(t,e){return new tl(t,e)}var tl=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=Le.THROW_IF_NOT_FOUND),Uo.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Go(t)},e)},t}();function el(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=jo(t,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return Mo(t,n.nodeIndex).renderText;if(20240&n.flags)return Lo(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function nl(t){return new rl(t.renderer)}var rl=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=Object(r.f)(wa(e),2),i=this.delegate.createElement(n[1],n[0]);return t&&this.delegate.appendChild(t,i),i},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var i=Object(r.f)(wa(e),2),o=i[0],a=i[1];null!=n?this.delegate.setAttribute(t,a,n,o):this.delegate.removeAttribute(t,a,o)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}();function il(t,e,n,r){return new ol(t,e,n,r)}var ol=function(){function t(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=La(t,i))}}(this)}return t.prototype.get=function(t,e,n){void 0===e&&(e=Le.THROW_IF_NOT_FOUND),void 0===n&&(n=H.Default);var r=0;return n&H.SkipSelf?r|=1:n&H.Self&&(r|=4),ja(this,{token:t,tokenKey:Go(t),flags:r},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(Jn)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+V(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var n=t._def,r=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var o=t._providers[i];if(o&&o!==Aa){var a=o.ngOnDestroy;"function"!=typeof a||r.has(o)||(a.apply(o),r.add(o))}}}(this),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),al=Go(nr),ll=Go(or),ul=Go(tr),sl=Go(eo),cl=Go(Kr),hl=Go(ro),fl=Go(Le),pl=Go(Me);function dl(t,e,n,i,o,a,l,u){var s=[];if(l)for(var c in l){var h=Object(r.f)(l[c],2);s[h[0]]={flags:8,name:c,nonMinifiedName:h[1],ns:null,securityContext:null,suffix:null}}var f=[];if(u)for(var p in u)f.push({type:1,propName:p,target:null,eventName:u[p]});return gl(t,e|=16384,n,i,o,o,a,s,f)}function ml(t,e,n,r,i){return gl(-1,t,e,0,n,r,i)}function gl(t,e,n,r,i,o,a,l,u){var s=sa(n),c=s.matchedQueries,h=s.references,f=s.matchedQueryIds;u||(u=[]),l||(l=[]),o=Ne(o);var p=ca(a,V(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:f,references:h,ngContentIndex:-1,childCount:r,bindings:l,bindingFlags:_a(l),outputs:u,element:null,provider:{token:i,value:o,deps:p},text:null,query:null,ngContent:null}}function yl(t,e){return _l(t,e)}function vl(t,e){for(var n=t;n.parent&&!aa(n);)n=n.parent;return Cl(n.parent,ia(n),!0,e.provider.value,e.provider.deps)}function bl(t,e){var n=Cl(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var i=e.outputs[r],o=n[i.propName];if(!ui(o))throw new Error("@Output "+i.propName+" not initialized in '"+n.constructor.name+"'.");var a=o.subscribe(wl(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=a.unsubscribe.bind(a)}return n}function wl(t,e,n){return function(r){return na(t,e,n,r)}}function _l(t,e){var n=(8192&e.flags)>0,i=e.provider;switch(201347067&e.flags){case 512:return Cl(t,e.parent,n,i.value,i.deps);case 1024:return function(t,e,n,i,o){var a=o.length;switch(a){case 0:return i();case 1:return i(Sl(t,e,n,o[0]));case 2:return i(Sl(t,e,n,o[0]),Sl(t,e,n,o[1]));case 3:return i(Sl(t,e,n,o[0]),Sl(t,e,n,o[1]),Sl(t,e,n,o[2]));default:for(var l=Array(a),u=0;u<a;u++)l[u]=Sl(t,e,n,o[u]);return i.apply(void 0,Object(r.g)(l))}}(t,e.parent,n,i.value,i.deps);case 2048:return Sl(t,e.parent,n,i.deps[0]);case 256:return i.value}}function Cl(t,e,n,i,o){var a=o.length;switch(a){case 0:return new i;case 1:return new i(Sl(t,e,n,o[0]));case 2:return new i(Sl(t,e,n,o[0]),Sl(t,e,n,o[1]));case 3:return new i(Sl(t,e,n,o[0]),Sl(t,e,n,o[1]),Sl(t,e,n,o[2]));default:for(var l=new Array(a),u=0;u<a;u++)l[u]=Sl(t,e,n,o[u]);return new(i.bind.apply(i,Object(r.g)([void 0],l)))}}var El={};function Sl(t,e,n,r,i){if(void 0===i&&(i=Le.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var o=t;2&r.flags&&(i=null);var a=r.tokenKey;a===hl&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);for(var l=t;l;){if(e)switch(a){case al:return nl(Tl(l,e,n));case ll:return Tl(l,e,n).renderer;case ul:return new tr(jo(l,e.nodeIndex).renderElement);case sl:return jo(l,e.nodeIndex).viewContainer;case cl:if(e.element.template)return jo(l,e.nodeIndex).template;break;case hl:return Ya(Tl(l,e,n));case fl:case pl:return $a(l,e);default:var u=(n?e.element.allProviders:e.element.publicProviders)[a];if(u){var s=Lo(l,u.nodeIndex);return s||(s={instance:_l(l,u)},l.nodes[u.nodeIndex]=s),s.instance}}n=aa(l),e=ia(l),l=l.parent,4&r.flags&&(l=null)}var c=o.root.injector.get(r.token,El);return c!==El||i===El?c:o.root.ngModule.injector.get(r.token,i)}function Tl(t,e,n){var r;if(n)r=jo(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!aa(r);)r=r.parent;return r}function Il(t,e,n,r,i,o){if(32768&n.flags){var a=jo(t,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var l=Tt.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new It(l,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function kl(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],a=o.parent;for(!a&&o.flags&e&&xl(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&e&&(r=Ol(t,a,e,r)),a=a.parent}}function Ol(t,e,n,r){for(var i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){var o=t.def.nodes[i];o.flags&n&&xl(t,i,o.flags&n,r++),i+=o.childCount}return r}function xl(t,e,n,r){var i=Lo(t,e);if(i){var o=i.instance;o&&(Uo.setCurrentNode(t,e),1048576&n&&Ro(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Ro(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}function Al(t,e,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:ua(e),bindings:r},ngContent:null}}function Nl(t){for(var e=t.def.nodeMatchedQueries;t.parent&&la(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++)67108864&(o=t.def.nodes[i]).flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&Fo(t,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}if(134217728&t.def.nodeFlags)for(i=0;i<t.def.nodes.length;i++){var o;134217728&(o=t.def.nodes[i]).flags&&536870912&o.flags&&Fo(t,i).setDirty(),i+=o.childCount}}function Dl(t,e){var n=Fo(t,e.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&e.flags){var o=e.parent.parent;i=Pl(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),r=Lo(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=Pl(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);for(var a=e.query.bindings,l=!1,u=0;u<a.length;u++){var s=a[u],c=void 0;switch(s.bindingType){case 0:c=n.first;break;case 1:c=n,l=!0}r[s.propName]=c}l&&n.notifyOnChanges()}}function Pl(t,e,n,r,i){for(var o=e;o<=n;o++){var a=t.def.nodes[o],l=a.matchedQueries[r.id];if(null!=l&&i.push(Rl(t,a,l)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=jo(t,o);if((a.childMatchedQueries&r.filterId)===r.filterId&&(Pl(t,o+1,o+a.childCount,r,i),o+=a.childCount),16777216&a.flags)for(var s=u.viewContainer._embeddedViews,c=0;c<s.length;c++){var h=s[c],f=ra(h);f&&f===u&&Pl(h,0,h.def.nodes.length-1,r,i)}var p=u.template._projectedViews;if(p)for(c=0;c<p.length;c++){var d=p[c];Pl(d,0,d.def.nodes.length-1,r,i)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(o+=a.childCount)}return i}function Rl(t,e,n){if(null!=n)switch(n){case 1:return jo(t,e.nodeIndex).renderElement;case 0:return new tr(jo(t,e.nodeIndex).renderElement);case 2:return jo(t,e.nodeIndex).template;case 3:return jo(t,e.nodeIndex).viewContainer;case 4:return Lo(t,e.nodeIndex).instance}}function Ml(t,e,n){var r=ha(t,e,n);r&&ga(t,n.ngContent.index,1,r,null,void 0)}function jl(t,e){return Vl(32,t,new Array(e))}function Ll(t,e){for(var n=Object.keys(e),r=n.length,i=new Array(r),o=0;o<r;o++){var a=n[o];i[e[a]]=a}return Vl(64,t,i)}function Vl(t,e,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var o=n[i];r[i]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:_a(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Fl(t,e,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Ul(t,e,n){var r,i=t.renderer;r=i.createText(n.text.prefix);var o=ha(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function ql(t,e){return(null!=t?t.toString():"")+e.suffix}function Bl(t,e,n,r){for(var i=0,o=0,a=0,l=0,u=0,s=null,c=null,h=!1,f=!1,p=null,d=0;d<e.length;d++){var m=e[d];if(m.nodeIndex=d,m.parent=s,m.bindingIndex=i,m.outputIndex=o,m.renderParent=c,a|=m.flags,u|=m.matchedQueryIds,m.element){var g=m.element;g.publicProviders=s?s.element.publicProviders:Object.create(null),g.allProviders=g.publicProviders,h=!1,f=!1,m.element.template&&(u|=m.element.template.nodeMatchedQueries)}if(Hl(s,m,e.length),i+=m.bindings.length,o+=m.outputs.length,!c&&3&m.flags&&(p=m),20224&m.flags){h||(h=!0,s.element.publicProviders=Object.create(s.element.publicProviders),s.element.allProviders=s.element.publicProviders);var y=0!=(32768&m.flags);0==(8192&m.flags)||y?s.element.publicProviders[Go(m.provider.token)]=m:(f||(f=!0,s.element.allProviders=Object.create(s.element.publicProviders)),s.element.allProviders[Go(m.provider.token)]=m),y&&(s.element.componentProvider=m)}if(s?(s.childFlags|=m.flags,s.directChildFlags|=m.flags,s.childMatchedQueries|=m.matchedQueryIds,m.element&&m.element.template&&(s.childMatchedQueries|=m.element.template.nodeMatchedQueries)):l|=m.flags,m.childCount>0)s=m,zl(m)||(c=m);else for(;s&&d===s.nodeIndex+s.childCount;){var v=s.parent;v&&(v.childFlags|=s.childFlags,v.childMatchedQueries|=s.childMatchedQueries),c=(s=v)&&zl(s)?s.renderParent:s}}return{factory:null,nodeFlags:a,rootNodeFlags:l,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||Ho,updateRenderer:r||Ho,handleEvent:function(t,n,r,i){return e[n].element.handleEvent(t,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:p}}function zl(t){return 0!=(1&t.flags)&&null===t.element.name}function Hl(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function Kl(t,e,n,r){var i=Ql(t.root,t.renderer,t,e,n);return Yl(i,t.component,r),Xl(i),i}function Gl(t,e,n){var r=Ql(t,t.renderer,null,null,e);return Yl(r,n,n),Xl(r),r}function Wl(t,e,n,r){var i,o=e.element.componentRendererType;return i=o?t.root.rendererFactory.createRenderer(r,o):t.root.renderer,Ql(t.root,i,t,e.element.componentProvider,n)}function Ql(t,e,n,r,i){var o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function Yl(t,e,n){t.component=e,t.context=n}function Xl(t){var e;aa(t)&&(e=jo(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,r=t.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i];Uo.setCurrentNode(t,i);var a=void 0;switch(201347067&o.flags){case 1:var l=Ia(t,e,o),u=void 0;if(33554432&o.flags){var s=pa(o.element.componentView);u=Uo.createComponentView(t,o,s,l)}ka(t,u,o,l),a={renderElement:l,componentView:u,viewContainer:null,template:o.element.template?Ja(t,o):void 0},16777216&o.flags&&(a.viewContainer=Wa(t,o,a));break;case 2:a=Ul(t,e,o);break;case 512:case 1024:case 2048:case 256:(a=r[i])||4096&o.flags||(a={instance:yl(t,o)});break;case 16:a={instance:vl(t,o)};break;case 16384:(a=r[i])||(a={instance:bl(t,o)}),32768&o.flags&&Yl(jo(t,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new Yi;break;case 8:Ml(t,e,o),a=void 0}r[i]=a}ou(t,iu.CreateViewNodes),su(t,201326592,268435456,0)}function Jl(t){tu(t),Uo.updateDirectives(t,1),au(t,iu.CheckNoChanges),Uo.updateRenderer(t,1),ou(t,iu.CheckNoChanges),t.state&=-97}function Zl(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Po(t,0,256),tu(t),Uo.updateDirectives(t,0),au(t,iu.CheckAndUpdate),su(t,67108864,536870912,0);var e=Po(t,256,512);kl(t,2097152|(e?1048576:0)),Uo.updateRenderer(t,0),ou(t,iu.CheckAndUpdate),su(t,134217728,536870912,0),kl(t,8388608|((e=Po(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Po(t,768,1024)}function $l(t,e,n,i,o,a,l,u,s,c,h,f,p){return 0===n?function(t,e,n,r,i,o,a,l,u,s,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,a,l,u,s,c,h){var f=e.bindings.length,p=!1;return f>0&&xa(t,e,0,n)&&(p=!0),f>1&&xa(t,e,1,r)&&(p=!0),f>2&&xa(t,e,2,i)&&(p=!0),f>3&&xa(t,e,3,o)&&(p=!0),f>4&&xa(t,e,4,a)&&(p=!0),f>5&&xa(t,e,5,l)&&(p=!0),f>6&&xa(t,e,6,u)&&(p=!0),f>7&&xa(t,e,7,s)&&(p=!0),f>8&&xa(t,e,8,c)&&(p=!0),f>9&&xa(t,e,9,h)&&(p=!0),p}(t,e,n,r,i,o,a,l,u,s,c,h);case 2:return function(t,e,n,r,i,o,a,l,u,s,c,h){var f=!1,p=e.bindings,d=p.length;if(d>0&&Zo(t,e,0,n)&&(f=!0),d>1&&Zo(t,e,1,r)&&(f=!0),d>2&&Zo(t,e,2,i)&&(f=!0),d>3&&Zo(t,e,3,o)&&(f=!0),d>4&&Zo(t,e,4,a)&&(f=!0),d>5&&Zo(t,e,5,l)&&(f=!0),d>6&&Zo(t,e,6,u)&&(f=!0),d>7&&Zo(t,e,7,s)&&(f=!0),d>8&&Zo(t,e,8,c)&&(f=!0),d>9&&Zo(t,e,9,h)&&(f=!0),f){var m=e.text.prefix;d>0&&(m+=ql(n,p[0])),d>1&&(m+=ql(r,p[1])),d>2&&(m+=ql(i,p[2])),d>3&&(m+=ql(o,p[3])),d>4&&(m+=ql(a,p[4])),d>5&&(m+=ql(l,p[5])),d>6&&(m+=ql(u,p[6])),d>7&&(m+=ql(s,p[7])),d>8&&(m+=ql(c,p[8])),d>9&&(m+=ql(h,p[9]));var g=Mo(t,e.nodeIndex).renderText;t.renderer.setValue(g,m)}return f}(t,e,n,r,i,o,a,l,u,s,c,h);case 16384:return function(t,e,n,r,i,o,a,l,u,s,c,h){var f=Lo(t,e.nodeIndex),p=f.instance,d=!1,m=void 0,g=e.bindings.length;return g>0&&Jo(t,e,0,n)&&(d=!0,m=Il(t,f,e,0,n,m)),g>1&&Jo(t,e,1,r)&&(d=!0,m=Il(t,f,e,1,r,m)),g>2&&Jo(t,e,2,i)&&(d=!0,m=Il(t,f,e,2,i,m)),g>3&&Jo(t,e,3,o)&&(d=!0,m=Il(t,f,e,3,o,m)),g>4&&Jo(t,e,4,a)&&(d=!0,m=Il(t,f,e,4,a,m)),g>5&&Jo(t,e,5,l)&&(d=!0,m=Il(t,f,e,5,l,m)),g>6&&Jo(t,e,6,u)&&(d=!0,m=Il(t,f,e,6,u,m)),g>7&&Jo(t,e,7,s)&&(d=!0,m=Il(t,f,e,7,s,m)),g>8&&Jo(t,e,8,c)&&(d=!0,m=Il(t,f,e,8,c,m)),g>9&&Jo(t,e,9,h)&&(d=!0,m=Il(t,f,e,9,h,m)),m&&p.ngOnChanges(m),65536&e.flags&&Ro(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),d}(t,e,n,r,i,o,a,l,u,s,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,a,l,u,s,c,h){var f=e.bindings,p=!1,d=f.length;if(d>0&&Zo(t,e,0,n)&&(p=!0),d>1&&Zo(t,e,1,r)&&(p=!0),d>2&&Zo(t,e,2,i)&&(p=!0),d>3&&Zo(t,e,3,o)&&(p=!0),d>4&&Zo(t,e,4,a)&&(p=!0),d>5&&Zo(t,e,5,l)&&(p=!0),d>6&&Zo(t,e,6,u)&&(p=!0),d>7&&Zo(t,e,7,s)&&(p=!0),d>8&&Zo(t,e,8,c)&&(p=!0),d>9&&Zo(t,e,9,h)&&(p=!0),p){var m=Vo(t,e.nodeIndex),g=void 0;switch(201347067&e.flags){case 32:g=new Array(f.length),d>0&&(g[0]=n),d>1&&(g[1]=r),d>2&&(g[2]=i),d>3&&(g[3]=o),d>4&&(g[4]=a),d>5&&(g[5]=l),d>6&&(g[6]=u),d>7&&(g[7]=s),d>8&&(g[8]=c),d>9&&(g[9]=h);break;case 64:g={},d>0&&(g[f[0].name]=n),d>1&&(g[f[1].name]=r),d>2&&(g[f[2].name]=i),d>3&&(g[f[3].name]=o),d>4&&(g[f[4].name]=a),d>5&&(g[f[5].name]=l),d>6&&(g[f[6].name]=u),d>7&&(g[f[7].name]=s),d>8&&(g[f[8].name]=c),d>9&&(g[f[9].name]=h);break;case 128:var y=n;switch(d){case 1:g=y.transform(n);break;case 2:g=y.transform(r);break;case 3:g=y.transform(r,i);break;case 4:g=y.transform(r,i,o);break;case 5:g=y.transform(r,i,o,a);break;case 6:g=y.transform(r,i,o,a,l);break;case 7:g=y.transform(r,i,o,a,l,u);break;case 8:g=y.transform(r,i,o,a,l,u,s);break;case 9:g=y.transform(r,i,o,a,l,u,s,c);break;case 10:g=y.transform(r,i,o,a,l,u,s,c,h)}}m.value=g}return p}(t,e,n,r,i,o,a,l,u,s,c,h);default:throw"unreachable"}}(t,e,i,o,a,l,u,s,c,h,f,p):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,i=0;i<n.length;i++)xa(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)Zo(t,e,o,n[o])&&(i=!0);if(i){var a="";for(o=0;o<n.length;o++)a+=ql(n[o],r[o]);a=e.text.prefix+a;var l=Mo(t,e.nodeIndex).renderText;t.renderer.setValue(l,a)}return i}(t,e,n);case 16384:return function(t,e,n){for(var r=Lo(t,e.nodeIndex),i=r.instance,o=!1,a=void 0,l=0;l<n.length;l++)Jo(t,e,l,n[l])&&(o=!0,a=Il(t,r,e,l,n[l],a));return a&&i.ngOnChanges(a),65536&e.flags&&Ro(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var i=e.bindings,o=!1,a=0;a<n.length;a++)Zo(t,e,a,n[a])&&(o=!0);if(o){var l=Vo(t,e.nodeIndex),u=void 0;switch(201347067&e.flags){case 32:u=n;break;case 64:for(u={},a=0;a<n.length;a++)u[i[a].name]=n[a];break;case 128:var s=n[0],c=n.slice(1);u=s.transform.apply(s,Object(r.g)(c))}l.value=u}return o}(t,e,n);default:throw"unreachable"}}(t,e,i)}function tu(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var i=jo(t,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.state|=32,ea(a,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function eu(t,e,n,r,i,o,a,l,u,s,c,h,f){return 0===n?function(t,e,n,r,i,o,a,l,u,s,c,h){var f=e.bindings.length;f>0&&$o(t,e,0,n),f>1&&$o(t,e,1,r),f>2&&$o(t,e,2,i),f>3&&$o(t,e,3,o),f>4&&$o(t,e,4,a),f>5&&$o(t,e,5,l),f>6&&$o(t,e,6,u),f>7&&$o(t,e,7,s),f>8&&$o(t,e,8,c),f>9&&$o(t,e,9,h)}(t,e,r,i,o,a,l,u,s,c,h,f):function(t,e,n){for(var r=0;r<n.length;r++)$o(t,e,r,n[r])}(t,e,r),!1}function nu(t,e){if(Fo(t,e.nodeIndex).dirty)throw qo(Uo.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function ru(t){if(!(128&t.state)){if(au(t,iu.Destroy),ou(t,iu.Destroy),kl(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=ra(t);if(e){var n=e.template._projectedViews;n&&(Ba(n,n.indexOf(t)),Uo.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(jo(t,n).renderElement):2&r.flags?t.renderer.destroyNode(Mo(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&Fo(t,n).destroy()}}(t),aa(t)&&t.renderer.destroy(),t.state|=128}}var iu=function(t){return t[t.CreateViewNodes=0]="CreateViewNodes",t[t.CheckNoChanges=1]="CheckNoChanges",t[t.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate=3]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",t[t.Destroy=5]="Destroy",t}({});function ou(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?lu(jo(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function au(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=jo(t,r).viewContainer._embeddedViews,a=0;a<o.length;a++)lu(o[a],e);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function lu(t,e){var n=t.state;switch(e){case iu.CheckNoChanges:0==(128&n)&&(12==(12&n)?Jl(t):64&n&&uu(t,iu.CheckNoChangesProjectedViews));break;case iu.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Jl(t):64&n&&uu(t,e));break;case iu.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Zl(t):64&n&&uu(t,iu.CheckAndUpdateProjectedViews));break;case iu.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Zl(t):64&n&&uu(t,e));break;case iu.Destroy:ru(t);break;case iu.CreateViewNodes:Xl(t)}}function uu(t,e){au(t,e),ou(t,e)}function su(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var i=t.def.nodes.length,o=0;o<i;o++){var a=t.def.nodes[o];if(a.flags&e&&a.flags&n)switch(Uo.setCurrentNode(t,a.nodeIndex),r){case 0:Dl(t,a);break;case 1:nu(t,a)}a.childFlags&e&&a.childFlags&n||(o+=a.childCount)}}var cu=!1;function hu(t,e,n,r,i,o){var a=i.injector.get(rr);return Gl(pu(t,i,a,e,n),r,o)}function fu(t,e,n,r,i,o){var a=i.injector.get(rr),l=pu(t,i,new Wu(a),e,n),u=Eu(r);return Ku(Du.create,Gl,null,[l,u,o])}function pu(t,e,n,r,i){var o=e.injector.get(Qr),a=e.injector.get(ai),l=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:l,errorHandler:a}}function du(t,e,n,r){var i=Eu(n);return Ku(Du.create,Kl,null,[t,e,i,r])}function mu(t,e,n,r){return n=bu.get(e.element.componentProvider.provider.token)||Eu(n),Ku(Du.create,Wl,null,[t,e,n,r])}function gu(t,e,n,r){return il(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===yu.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(function(t){var r=yu.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(function(t){vu.forEach(function(r,i){w(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasDeprecatedOverrides;return e.hasOverrides?(function(t){for(var e=0;e<t.providers.length;e++){var r=t.providers[e];n&&(r.flags|=4096);var i=yu.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=ca(i.deps),r.value=i.value)}if(vu.size>0){var o=new Set(t.modules);vu.forEach(function(e,r){if(o.has(w(r).providedIn)){var i={token:r,flags:e.flags|(n?4096:0),deps:ca(e.deps),value:e.value,index:t.providers.length};t.providers.push(i),t.providersByKey[Go(r)]=i}})}}(t=t.factory(function(){return Ho})),t):t}(r))}var yu=new Map,vu=new Map,bu=new Map;function wu(t){var e;yu.set(t.token,t),"function"==typeof t.token&&(e=w(t.token))&&"function"==typeof e.providedIn&&vu.set(t.token,t)}function _u(t,e){var n=pa(e.viewDefFactory),r=pa(n.nodes[0].element.componentView);bu.set(t,r)}function Cu(){yu.clear(),vu.clear(),bu.clear()}function Eu(t){if(0===yu.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&yu.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return Ho});for(var n=0;n<e.length;n++)r(t,e[n]);return t;function r(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=yu.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=ca(o.deps),i.value=o.value)}}}}function Su(t,e,n,r,i,o,a,l,u,s,c,h,f){var p=t.def.nodes[e];return $l(t,p,n,r,i,o,a,l,u,s,c,h,f),224&p.flags?Vo(t,e).value:void 0}function Tu(t,e,n,r,i,o,a,l,u,s,c,h,f){var p=t.def.nodes[e];return eu(t,p,n,r,i,o,a,l,u,s,c,h,f),224&p.flags?Vo(t,e).value:void 0}function Iu(t){return Ku(Du.detectChanges,Zl,null,[t])}function ku(t){return Ku(Du.checkNoChanges,Jl,null,[t])}function Ou(t){return Ku(Du.destroy,ru,null,[t])}var xu,Au,Nu,Du=function(t){return t[t.create=0]="create",t[t.detectChanges=1]="detectChanges",t[t.checkNoChanges=2]="checkNoChanges",t[t.destroy=3]="destroy",t[t.handleEvent=4]="handleEvent",t}({});function Pu(t,e){Au=t,Nu=e}function Ru(t,e,n,r){return Pu(t,e),Ku(Du.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function Mu(t,e){if(128&t.state)throw zo(Du[xu]);return Pu(t,qu(t,0)),t.def.updateDirectives(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?Lu(t,a,r,i):Vu(t,a,r,i),16384&a.flags&&Pu(t,qu(t,n)),224&a.flags?Vo(t,a.nodeIndex).value:void 0},t)}function ju(t,e){if(128&t.state)throw zo(Du[xu]);return Pu(t,Bu(t,0)),t.def.updateRenderer(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?Lu(t,a,r,i):Vu(t,a,r,i),3&a.flags&&Pu(t,Bu(t,n)),224&a.flags?Vo(t,a.nodeIndex).value:void 0},t)}function Lu(t,e,n,i){if($l.apply(void 0,Object(r.g)([t,e,n],i))){var o=1===n?i[0]:i;if(16384&e.flags){for(var a={},l=0;l<e.bindings.length;l++){var u=e.bindings[l],s=o[l];8&u.flags&&(a[(p=u.nonMinifiedName,d=void 0,d=p.replace(/[$@]/g,"_"),"ng-reflect-"+(p=d.replace(Fu,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()})))]=Uu(s))}var c=e.parent,h=jo(t,c.nodeIndex).renderElement;if(c.element.name)for(var f in a)null!=(s=a[f])?t.renderer.setAttribute(h,f,s):t.renderer.removeAttribute(h,f);else t.renderer.setValue(h,"bindings="+JSON.stringify(a,null,2))}}var p,d}function Vu(t,e,n,i){eu.apply(void 0,Object(r.g)([t,e,n],i))}var Fu=/([A-Z])/g;function Uu(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}function qu(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Bu(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var zu=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=ia(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return jo(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return $a(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){Hu(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&Hu(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!aa(t);)t=t.parent;return t.parent?jo(t.parent,ia(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?oa(this.view,this.nodeDef):oa(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];2&this.nodeDef.flags?(e=this.view.def,n=this.nodeDef.nodeIndex):(e=this.elView.def,n=this.elDef.nodeIndex);var a=function(t,e){for(var n=-1,r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(e,n),l=-1;e.factory(function(){var e;return++l===a?(e=t.error).bind.apply(e,Object(r.g)([t],i)):Ho}),l<a&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,Object(r.g)(i)))},t}();function Hu(t,e,n){for(var r in e.references)n[r]=Rl(t,e,e.references[r])}function Ku(t,e,n,r){var i=xu,o=Au,a=Nu;try{xu=t;var l=e.apply(n,r);return Au=o,Nu=a,xu=i,l}catch(u){if(ri(u)||!Au)throw u;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),Bo(t,e),t}(u,Gu())}}function Gu(){return Au?new zu(Au,Nu):null}var Wu=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new Qu(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),Qu=function(){function t(t){this.delegate=t,this.debugContextFactory=Gu,this.data=this.delegate.data}return t.prototype.createDebugContext=function(t){return this.debugContextFactory(t)},t.prototype.destroyNode=function(t){!function(t){uo.delete(t.nativeNode)}(so(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){var i=new lo(n,null,r);i.name=t,co(i)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&co(new ao(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&co(new ao(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=so(t),r=so(e);n&&r&&n instanceof lo&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var r=so(t),i=so(e),o=so(n);r&&i&&r instanceof lo&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=so(t),r=so(e);n&&r&&n instanceof lo&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t,e){var n=this.delegate.selectRootElement(t,e),r=Gu()||null;return r&&co(new lo(n,null,r)),n},t.prototype.setAttribute=function(t,e,n,r){var i=so(t);i&&i instanceof lo&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var r=so(t);r&&r instanceof lo&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=so(t);n&&n instanceof lo&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=so(t);n&&n instanceof lo&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var i=so(t);i&&i instanceof lo&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var r=so(t);r&&r instanceof lo&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var r=so(t);r&&r instanceof lo&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var r=so(t);r&&r.listeners.push(new oo(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}();function Yu(t,e,n){return new Xu(t,e,n)}var Xu=function(t){function e(e,n,r){var i=t.call(this)||this;return i.moduleType=e,i._bootstrapComponents=n,i._ngModuleDefFactory=r,i}return Object(r.c)(e,t),e.prototype.create=function(t){!function(){if(!cu){cu=!0;var t=br()?{setCurrentNode:Pu,createRootView:fu,createEmbeddedView:du,createComponentView:mu,createNgModuleRef:gu,overrideProvider:wu,overrideComponentView:_u,clearOverrides:Cu,checkAndUpdateView:Iu,checkNoChangesView:ku,destroyView:Ou,createDebugContext:function(t,e){return new zu(t,e)},handleEvent:Ru,updateDirectives:Mu,updateRenderer:ju}:{setCurrentNode:function(){},createRootView:hu,createEmbeddedView:Kl,createComponentView:Wl,createNgModuleRef:il,overrideProvider:Ho,overrideComponentView:Ho,clearOverrides:Ho,checkAndUpdateView:Zl,checkNoChangesView:Jl,destroyView:ru,createDebugContext:function(t,e){return new zu(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?Su:Tu,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?Su:Tu,t)}};Uo.setCurrentNode=t.setCurrentNode,Uo.createRootView=t.createRootView,Uo.createEmbeddedView=t.createEmbeddedView,Uo.createComponentView=t.createComponentView,Uo.createNgModuleRef=t.createNgModuleRef,Uo.overrideProvider=t.overrideProvider,Uo.overrideComponentView=t.overrideComponentView,Uo.clearOverrides=t.clearOverrides,Uo.checkAndUpdateView=t.checkAndUpdateView,Uo.checkNoChangesView=t.checkNoChangesView,Uo.destroyView=t.destroyView,Uo.resolveDep=Sl,Uo.createDebugContext=t.createDebugContext,Uo.handleEvent=t.handleEvent,Uo.updateDirectives=t.updateDirectives,Uo.updateRenderer=t.updateRenderer,Uo.dirtyParentQueries=Nl}}();var e=function(t){var e=Array.from(t.providers),n=Array.from(t.modules),r={};for(var i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(pa(this._ngModuleDefFactory));return Uo.createNgModuleRef(this.moduleType,t||Le.NULL,this._bootstrapComponents,e)},e}(Ze)},CqG3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n("tct4"))},D4gr:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("0/uQ"),i=n("htu+"),o=n("67Y/"),a=n("fvl4"),l=n("UdJG"),u=n("NKHs"),s=function(){function t(t,e){this.ref=t,this.afs=e}return t.prototype.set=function(t,e){return this.ref.set(t,e)},t.prototype.update=function(t){return this.ref.update(t)},t.prototype.delete=function(){return this.ref.delete()},t.prototype.collection=function(t,e){var n=this.ref.collection(t),r=Object(a.f)(n,e);return new l.a(r.ref,r.query,this.afs)},t.prototype.snapshotChanges=function(){var t=Object(i.b)(this.ref),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e)},t.prototype.valueChanges=function(){return this.snapshotChanges().pipe(Object(o.a)(function(t){return t.payload.data()}))},t.prototype.get=function(t){return Object(r.a)(this.ref.get(t)).pipe(Object(u.b)(this.afs.scheduler.zone))},t}()},DKTb:function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t})}n.d(e,"a",function(){return r})},"En8+":function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});var i=r()},"F/XL":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("nkY7"),i=n("IUTb"),o=n("G5J1"),a=n("PU8L");function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];switch(Object(r.a)(n)?t.pop():n=void 0,t.length){case 0:return Object(o.b)(n);case 1:return n?Object(i.a)(t,n):Object(a.a)(t[0]);default:return Object(i.a)(t,n)}}},FFOo:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("mrSG"),i=n("2Bdj"),o=n("6ahw"),a=n("pugT"),l=n("L/V9"),u=n("iLxQ"),s=n("DKTb"),c=function(t){function e(n,r,i){var a=t.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,a._parentSubscription=null,arguments.length){case 0:a.destination=o.a;break;case 1:if(!n){a.destination=o.a;break}if("object"==typeof n){n instanceof e?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new h(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new h(a,n,r,i)}return a}return r.c(e,t),e.prototype[l.a]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this._parentSubscription=null,this},e}(a.a),h=function(t){function e(e,n,r,a){var l,u=t.call(this)||this;u._parentSubscriber=e;var s=u;return Object(i.a)(n)?l=n:n&&(l=n.next,r=n.error,a=n.complete,n!==o.a&&(s=Object.create(n),Object(i.a)(s.unsubscribe)&&u.add(s.unsubscribe.bind(s)),s.unsubscribe=u.unsubscribe.bind(u))),u._context=s,u._next=l,u._error=r,u._complete=a,u}return r.c(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=u.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(s.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(s.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw n;Object(s.a)(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(s.a)(r),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(c)},Fxb1:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n("6blF"),i=n("+tJ4"),o=n("S5XQ"),a=n("u67D"),l=n("JcRv"),u=n("2ePl"),s=n("/WYv"),c=n("McSo"),h=n("En8+"),f=n("xTla"),p=function(t){if(t instanceof r.a)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[f.a])return Object(l.a)(t);if(Object(u.a)(t))return Object(i.a)(t);if(Object(s.a)(t))return Object(o.a)(t);if(t&&"function"==typeof t[h.a])return Object(a.a)(t);var e=Object(c.a)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},G5J1:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("6blF"),i=new r.a(function(t){return t.complete()});function o(t){return t?function(t){return new r.a(function(e){return t.schedule(function(){return e.complete()})})}(t):i}},IUTb:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("6blF"),i=n("pugT"),o=n("+tJ4");function a(t,e){return new r.a(e?function(n){var r=new i.a,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r}:Object(o.a)(t))}},Ip0R:function(t,e,n){"use strict";n.d(e,"r",function(){return y}),n.d(e,"k",function(){return b}),n.d(e,"l",function(){return v}),n.d(e,"s",function(){return w}),n.d(e,"b",function(){return O}),n.d(e,"h",function(){return _}),n.d(e,"i",function(){return E}),n.d(e,"j",function(){return T}),n.d(e,"c",function(){return x}),n.d(e,"q",function(){return A}),n.d(e,"p",function(){return D}),n.d(e,"o",function(){return P}),n.d(e,"n",function(){return o}),n.d(e,"e",function(){return a}),n.d(e,"g",function(){return l}),n.d(e,"a",function(){return u}),n.d(e,"d",function(){return h}),n.d(e,"m",function(){return f}),n.d(e,"f",function(){return s});var r=n("CcnG"),i=n("mrSG"),o=function(){return function(){}}(),a=new r.p("Location Initialized"),l=function(){return function(){}}(),u=new r.p("appBaseHref"),s=function(){function t(t){var n=this;this._subject=new r.m,this._platformStrategy=t;var i=this._platformStrategy.getBaseHref();this._baseHref=e.stripTrailingSlash(c(i)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,state:t.state,type:t.type})})}var e;return e=t,t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(t,n){return void 0===n&&(n=""),this.path()==this.normalize(t+e.normalizeQueryParams(n))},t.prototype.normalize=function(t){return e.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,c(t)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.pushState(n,"",t,e)},t.prototype.replaceState=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.replaceState(n,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)},t}();function c(t){return t.replace(/\/index.html$/,"")}var h=function(t){function e(e,n){var r=t.call(this)||this;return r._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return Object(i.c)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=s.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+s.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+s.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(l),f=function(t){function e(e,n){var r=t.call(this)||this;if(r._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return Object(i.c)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return s.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+s.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+s.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+s.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(l),p=void 0,d=["en",[["a","p"],["AM","PM"],p],[["AM","PM"],p,p],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],p,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],p,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",p,"{1} 'at' {0}",p],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],m={},g=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),y=new r.p("UseV4Plurals"),v=function(){return function(){}}(),b=function(t){function e(e,n){var r=t.call(this)||this;return r.locale=e,r.deprecatedPluralFn=n,r}return Object(i.c)(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return function(t){var e=t.toLowerCase().replace(/_/g,"-"),n=m[e];if(n)return n;var r=e.split("-")[0];if(n=m[r])return n;if("en"===r)return d;throw new Error('Missing locale data for the locale "'+t+'".')}(t)[18]}(e||this.locale)(t)){case g.Zero:return"zero";case g.One:return"one";case g.Two:return"two";case g.Few:return"few";case g.Many:return"many";default:return"other"}},e}(v);function w(t,e){var n,r;e=encodeURIComponent(e);try{for(var o=Object(i.h)(t.split(";")),a=o.next();!a.done;a=o.next()){var l=a.value,u=l.indexOf("="),s=Object(i.f)(-1==u?[l,""]:[l.slice(0,u),l.slice(u+1)],2),c=s[1];if(s[0].trim()===e)return decodeURIComponent(c)}}catch(h){n={error:h}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return null}var _=function(){function t(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}return Object.defineProperty(t.prototype,"klass",{set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClass",{set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.sb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}},t.prototype._applyKeyValueChanges=function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})},t.prototype._applyIterableChanges=function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.Db)(t.item));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})},t.prototype._applyClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!0)}):Object.keys(t).forEach(function(n){return e._toggleClass(n,!!t[n])}))},t.prototype._removeClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!1)}):Object.keys(t).forEach(function(t){return e._toggleClass(t,!1)}))},t.prototype._toggleClass=function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)})},t}(),C=function(){function t(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),E=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}return Object.defineProperty(t.prototype,"ngForOf",{set:function(t){this._ngForOf=t,this._ngForOfDirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){Object(r.X)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new C(null,e._ngForOf,-1,-1),i),a=new S(t,o);n.push(a)}else null==i?e._viewContainer.remove(r):(o=e._viewContainer.get(r),e._viewContainer.move(o,i),a=new S(t,o),n.push(a))});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);r=0;for(var i=this._viewContainer.length;r<i;r++){var o=this._viewContainer.get(r);o.context.index=r,o.context.count=i,o.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t.ngTemplateContextGuard=function(t,e){return!0},t}(),S=function(){return function(t,e){this.record=t,this.view=e}}(),T=function(){function t(t,e){this._viewContainer=t,this._context=new I,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){k("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){k("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t.ngTemplateGuard_ngIf=function(t,e){return!0},t}(),I=function(){return function(){this.$implicit=null,this.ngIf=null}}();function k(t,e){if(e&&!e.createEmbeddedView)throw new Error(t+" must be a TemplateRef, but received '"+Object(r.Db)(e)+"'.")}var O=function(){return function(){}}(),x=new r.p("DocumentToken"),A="browser",N="server";function D(t){return t===N}var P=function(){function t(){}return t.ngInjectableDef=Object(r.S)({providedIn:"root",factory:function(){return new R(Object(r.W)(x),window)}}),t}(),R=function(){function t(t,e){this.document=t,this.window=e,this.offset=function(){return[0,0]}}return t.prototype.setOffset=function(t){this.offset=Array.isArray(t)?function(){return t}:t},t.prototype.getScrollPosition=function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]},t.prototype.scrollToPosition=function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])},t.prototype.scrollToAnchor=function(t){if(this.supportScrollRestoration()){var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='"+t+"']");if(n)return void this.scrollToElement(n)}},t.prototype.setHistoryScrollRestoration=function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}},t.prototype.scrollToElement=function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])},t.prototype.supportScrollRestoration=function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}},t}()},JcRv:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("xTla"),i=function(t){return function(e){var n=t[r.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}}},K9Ia:function(t,e,n){"use strict";var r=n("mrSG"),i=n("6blF"),o=n("FFOo"),a=n("pugT"),l=n("8g8A"),u=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return r.c(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(a.a),s=n("L/V9");n.d(e,"b",function(){return c}),n.d(e,"a",function(){return h});var c=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return r.c(e,t),e}(o.a),h=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.c(e,t),e.prototype[s.a]=function(){return new c(this)},e.prototype.lift=function(t){var e=new f(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new l.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new l.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new l.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new l.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new l.a;return this.hasError?(t.error(this.thrownError),a.a.EMPTY):this.isStopped?(t.complete(),a.a.EMPTY):(this.observers.push(t),new u(this,t))},e.prototype.asObservable=function(){var t=new i.a;return t.source=this,t},e.create=function(t,e){return new f(t,e)},e}(i.a),f=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return r.c(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.a.EMPTY},e}(h)},"L/V9":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},MGBS:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.c(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n("FFOo").a)},MGeu:function(t,e,n){"use strict";n("mrSG");var r=n("wj3C"),i=n.n(r);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function r(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:function(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function i(){this.a=null}function o(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;i.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var a=n.setTimeout;i.prototype.c=function(t){a(t,0)},i.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},i.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.v(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)l.b(this.a[t]);this.a=null}};var l=new i;return e.prototype.o=function(t){var e=this.f();t.Ja(e.resolve,e.reject)},e.prototype.v=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e(function(t,e){i=t,o=e});return this.Ja(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ja=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?l.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var i=r(t),a=i.next();!a.done;a=i.next())o(a.value).Ja(e,n)})},e.all=function(t){var n=r(t),i=n.next();return i.done?o([]):new e(function(t,e){function r(e){return function(n){a[e]=n,0==--l&&t(a)}}var a=[],l=0;do{a.push(void 0),l++,o(i.value).Ja(r(a.length-1),e),i=n.next()}while(!i.done)})},e});var o=o||{},a=this||self;function l(t){return"string"==typeof t}function u(t){return"boolean"==typeof t}var s=/^[\w+\/_-]+[=]{0,2}$/,c=null;function h(){}function f(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function p(t){return null===t}function d(t){return"array"==f(t)}function m(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function g(t){return"function"==f(t)}function y(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function C(t,e,n){return(C=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:_).apply(null,arguments)}function E(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var S=Date.now||function(){return+new Date};function T(t,e){function n(){}n.prototype=e.prototype,t.qb=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.fd=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function I(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function k(t){if(Error.captureStackTrace)Error.captureStackTrace(this,k);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function O(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");k.call(this,n+t[r])}function x(t,e){throw new O("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function A(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function N(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function D(){this.b=this.a=null}T(k,Error),k.prototype.name="CustomError",T(O,k),O.prototype.name="AssertionError",A.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var P=new A(function(){return new M},function(t){t.reset()});function R(){var t=qt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function M(){this.next=this.b=this.a=null}function j(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(l){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(y(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(l){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;x("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}D.prototype.add=function(t,e){var n=P.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},M.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},M.prototype.reset=function(){this.next=this.b=this.a=null};var L=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(l(t))return l(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},V=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=l(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},F=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i=l(t)?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},U=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=l(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function q(t,e){return 0<=L(t,e)}function B(t,e){var n;return(n=0<=(e=L(t,e)))&&Array.prototype.splice.call(t,e,1),n}function z(t,e){!function(t,e){for(var n=l(t)?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)})}function H(t){return Array.prototype.concat.apply([],arguments)}function K(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function G(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function W(t){for(var e in t)return!1;return!0}function Q(t){var e,n={};for(e in t)n[e]=t[e];return n}var Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Y.length;o++)n=Y[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function J(t,e){this.a=t===tt&&e||"",this.b=$}function Z(t){return t instanceof J&&t.constructor===J&&t.b===$?t.a:(x("expected object of type Const, got '"+t+"'"),"type_error:Const")}J.prototype.qa=!0,J.prototype.pa=function(){return this.a},J.prototype.toString=function(){return"Const{"+this.a+"}"};var $={},tt={},et=new J(tt,"");function nt(){this.a="",this.b=lt}function rt(t){return t instanceof nt&&t.constructor===nt&&t.b===lt?t.a:(x("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function it(t,e){var n=Z(t);if(!at.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return ut(t=n.replace(ot,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof J?Z(t):encodeURIComponent(String(t))}))}nt.prototype.qa=!0,nt.prototype.pa=function(){return this.a.toString()},nt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var ot=/%{(\w+)}/g,at=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^\/\\]|[^:\/\\%]+\/|[^:\/\\%]*[?#]|about:blank#)/i,lt={};function ut(t){var e=new nt;return e.a=t,e}var st=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},ct=/&/g,ht=/</g,ft=/>/g,pt=/"/g,dt=/'/g,mt=/\x00/g,gt=/[\x00&<>"']/;function yt(t,e){return-1!=t.indexOf(e)}function vt(t,e){return t<e?-1:t>e?1:0}function bt(){this.a="",this.b=St}function wt(t){return t instanceof bt&&t.constructor===bt&&t.b===St?t.a:(x("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}bt.prototype.qa=!0,bt.prototype.pa=function(){return this.a.toString()},bt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var _t=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i;function Ct(t){return t instanceof bt?t:(t="object"==typeof t&&t.qa?t.pa():String(t),_t.test(t)||(t="about:invalid#zClosurez"),Tt(t))}var Et,St={};function Tt(t){var e=new bt;return e.a=t,e}Tt("about:blank");t:{var It=a.navigator;if(It){var kt=It.userAgent;if(kt){Et=kt;break t}}Et=""}function Ot(t){return yt(Et,t)}function xt(){this.a="",this.b=Nt}function At(t){return t instanceof xt&&t.constructor===xt&&t.b===Nt?t.a:(x("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}xt.prototype.qa=!0,xt.prototype.pa=function(){return this.a.toString()},xt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Nt={};function Dt(t){var e=new xt;return e.a=t,e}Dt("<!DOCTYPE html>");var Pt,Rt,Mt=Dt("");function jt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Lt(t){return gt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(ct,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(ht,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(ft,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(pt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(dt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(mt,"&#0;"))),t}function Vt(t){a.setTimeout(function(){throw t},0)}function Ft(t,e){Rt||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);Rt=function(){t.then(Bt)}}else Rt=function(){var t=Bt;!g(a.setImmediate)||a.Window&&a.Window.prototype&&!Ot("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(Pt||(Pt=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!Ot("Presto")&&(t=function(){var t,e,n=document.createElement("IFRAME");n.style.display="none",t=n,e=ut(Z(et)),j(t,"HTMLIFrameElement"),t.src=rt(e).toString(),document.documentElement.appendChild(n);var r=n.contentWindow;(n=r.document).open(),n.write(At(Mt)),n.close();var i="callImmediate"+Math.random(),o="file:"==r.location.protocol?"*":r.location.protocol+"//"+r.location.host;n=C(function(t){"*"!=o&&t.origin!=o||t.data!=i||this.port1.onmessage()},this),r.addEventListener("message",n,!1),this.port1={},this.port2={postMessage:function(){r.postMessage(i,o)}}}),void 0!==t&&!Ot("Trident")&&!Ot("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).yb;n.yb=null,t()}},function(t){r.next={yb:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){a.setTimeout(t,0)}}()),Pt(t)):a.setImmediate(t)}}(),Ut||(Rt(),Ut=!0),qt.add(t,e)}Dt("<br>");var Ut=!1,qt=new D;function Bt(){for(var t;t=R();){try{t.a.call(t.b)}catch(e){Vt(e)}N(P,t)}Ut=!1}function zt(t,e){if(this.a=Ht,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,function(t){ne(n,Kt,t)},function(t){if(!(t instanceof se))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}ne(n,Gt,t)})}catch(r){ne(this,Gt,r)}}var Ht=0,Kt=2,Gt=3;function Wt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Wt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Qt=new A(function(){return new Wt},function(t){t.reset()});function Yt(t,e,n){var r=Qt.get();return r.g=t,r.b=e,r.f=n,r}function Xt(t){if(t instanceof zt)return t;var e=new zt(h);return ne(e,Kt,t),e}function Jt(t){return new zt(function(e,n){n(t)})}function Zt(t,e,n){re(t,e,n,null)||Ft(E(e,t))}function $t(t){return new zt(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Gb:!0,value:o}:{Gb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Zt(t[o],E(i,o,!0),E(i,o,!1));else e(r)})}function te(t,e){t.b||t.a!=Kt&&t.a!=Gt||ie(t),t.f?t.f.next=e:t.b=e,t.f=e}function ee(t,e,n,r){var i=Yt(null,null,null);return i.a=new zt(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof se?o(e):t(i)}catch(a){o(a)}}:o}),i.a.c=t,te(t,i),i.a}function ne(t,e,n){t.a==Ht&&(t===n&&(e=Gt,n=new TypeError("Promise cannot resolve to itself")),t.a=1,re(n,t.Oc,t.Pc,t)||(t.i=n,t.a=e,t.c=null,ie(t),e!=Gt||n instanceof se||function(t,e){t.g=!0,Ft(function(){t.g&&ue.call(null,e)})}(t,n)))}function re(t,e,n,r){if(t instanceof zt)return te(t,Yt(e||h,n||null,r)),!0;if(I(t))return t.then(e,n,r),!0;if(y(t))try{var i=t.then;if(g(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(i,t))},o)}catch(l){o(l)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function ie(t){t.h||(t.h=!0,Ft(t.Zb,t))}function oe(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function ae(t,e,n,r){if(n==Gt&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,le(e,n,r);else try{e.c?e.g.call(e.f):le(e,n,r)}catch(i){ue.call(null,i)}N(Qt,e)}function le(t,e,n){e==Kt?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}zt.prototype.then=function(t,e,n){return ee(this,g(t)?t:null,g(e)?e:null,n)},zt.prototype.$goog_Thenable=!0,(t=zt.prototype).ka=function(t,e){return(t=Yt(t,t,e)).c=!0,te(this,t),this},t.s=function(t,e){return ee(this,null,t,e)},t.cancel=function(t){this.a==Ht&&Ft(function(){!function t(e,n){if(e.a==Ht)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,l=r.b;l&&(l.c||(i++,l.a==e&&(o=l),!(o&&1<i)));l=l.next)o||(a=l);o&&(r.a==Ht&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):oe(r),ae(r,o,Gt,n)))}e.c=null}else ne(e,Gt,n)}(this,new se(t))},this)},t.Oc=function(t){this.a=Ht,ne(this,Kt,t)},t.Pc=function(t){this.a=Ht,ne(this,Gt,t)},t.Zb=function(){for(var t;t=oe(this);)ae(this,t,this.a,this.i);this.h=!1};var ue=Vt;function se(t){k.call(this,t)}function ce(){0!=he&&(fe[this[v]||(this[v]=++b)]=this),this.ta=this.ta,this.la=this.la}T(se,k),se.prototype.name="cancel";var he=0,fe={};function pe(t){if(!t.ta&&(t.ta=!0,t.xa(),0!=he)){var e=t[v]||(t[v]=++b);if(0!=he&&t.la&&0<t.la.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete fe[e]}}function de(t){return de[" "](t),t}ce.prototype.ta=!1,ce.prototype.xa=function(){if(this.la)for(;this.la.length;)this.la.shift()()},de[" "]=h;var me,ge,ye=Ot("Opera"),ve=Ot("Trident")||Ot("MSIE"),be=Ot("Edge"),we=be||ve,_e=Ot("Gecko")&&!(yt(Et.toLowerCase(),"webkit")&&!Ot("Edge"))&&!(Ot("Trident")||Ot("MSIE"))&&!Ot("Edge"),Ce=yt(Et.toLowerCase(),"webkit")&&!Ot("Edge");function Ee(){var t=a.document;return t?t.documentMode:void 0}t:{var Se="",Te=(ge=Et,_e?/rv:([^\);]+)(\)|;)/.exec(ge):be?/Edge\/([\d\.]+)/.exec(ge):ve?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ge):Ce?/WebKit\/(\S+)/.exec(ge):ye?/(?:Version)[ \/]?(\S+)/.exec(ge):void 0);if(Te&&(Se=Te?Te[1]:""),ve){var Ie=Ee();if(null!=Ie&&Ie>parseFloat(Se)){me=String(Ie);break t}}me=Se}var ke,Oe={};function xe(t){return function(t,e){var n=Oe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=st(String(me)).split("."),r=st(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",l=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==a[0].length&&0==l[0].length)break;e=vt(0==a[1].length?0:parseInt(a[1],10),0==l[1].length?0:parseInt(l[1],10))||vt(0==a[2].length,0==l[2].length)||vt(a[2],l[2]),a=a[3],l=l[3]}while(0==e)}return 0<=e})}ke=a.document&&ve?Ee():void 0;var Ae=Object.freeze||function(t){return t},Ne=!ve||9<=Number(ke),De=ve&&!xe("9"),Pe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",h,e),a.removeEventListener("test",h,e)}catch(n){}return t}();function Re(t,e){this.type=t,this.b=this.target=e,this.Mb=!0}function Me(t,e){if(Re.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(_e){t:{try{de(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=l(t.pointerType)?t.pointerType:je[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Re.prototype.preventDefault=function(){this.Mb=!1},T(Me,Re);var je=Ae({2:"touch",3:"pen",4:"mouse"});Me.prototype.preventDefault=function(){Me.qb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,De)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Me.prototype.f=function(){return this.a};var Le="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function Fe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Na=i,this.key=++Ve,this.ra=this.Ia=!1}function Ue(t){t.ra=!0,t.listener=null,t.proxy=null,t.src=null,t.Na=null}function qe(t){this.src=t,this.a={},this.b=0}function Be(t,e){var n=e.type;n in t.a&&B(t.a[n],e)&&(Ue(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function ze(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ra&&o.listener==e&&o.capture==!!n&&o.Na==r)return i}return-1}qe.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ze(t,e,r,i);return-1<a?(e=t[a],n||(e.Ia=!1)):((e=new Fe(e,this.src,o,!!r,i)).Ia=n,t.push(e)),e};var He="closure_lm_"+(1e6*Math.random()|0),Ke={};function Ge(t,e,n,r,i){if(r&&r.once)Qe(t,e,n,r,i);else if(d(e))for(var o=0;o<e.length;o++)Ge(t,e[o],n,r,i);else n=rn(n),t&&t[Le]?an(t,e,n,y(r)?!!r.capture:!!r,i):We(t,e,n,!1,r,i)}function We(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=y(i)?!!i.capture:!!i,l=en(t);if(l||(t[He]=l=new qe(t)),!(n=l.add(e,n,r,a,o)).proxy)if(r=function(){var t=tn,e=Ne?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Pe||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Je(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function Qe(t,e,n,r,i){if(d(e))for(var o=0;o<e.length;o++)Qe(t,e[o],n,r,i);else n=rn(n),t&&t[Le]?ln(t,e,n,y(r)?!!r.capture:!!r,i):We(t,e,n,!0,r,i)}function Ye(t,e,n,r,i){if(d(e))for(var o=0;o<e.length;o++)Ye(t,e[o],n,r,i);else r=y(r)?!!r.capture:!!r,n=rn(n),t&&t[Le]?(t=t.u,(e=String(e).toString())in t.a&&-1<(n=ze(o=t.a[e],n,r,i))&&(Ue(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=en(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ze(e,n,r,i)),(n=-1<t?e[t]:null)&&Xe(n))}function Xe(t){if("number"!=typeof t&&t&&!t.ra){var e=t.src;if(e&&e[Le])Be(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Je(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=en(e))?(Be(n,t),0==n.b&&(n.src=null,e[He]=null)):Ue(t)}}}function Je(t){return t in Ke?Ke[t]:Ke[t]="on"+t}function Ze(t,e,n,r){var i=!0;if((t=en(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ra&&(o=$e(o,r),i=i&&!1!==o)}return i}function $e(t,e){var n=t.listener,r=t.Na||t.src;return t.Ia&&Xe(t),n.call(r,e)}function tn(t,e){if(t.ra)return!0;if(!Ne){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Me(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(l){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=Ze(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=Ze(r[i],t,!1,e),n=n&&o}return n}return $e(t,new Me(e,this))}function en(t){return(t=t[He])instanceof qe?t:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function rn(t){return g(t)?t:(t[nn]||(t[nn]=function(e){return t.handleEvent(e)}),t[nn])}function on(){ce.call(this),this.u=new qe(this),this.Sb=this,this.Wa=null}function an(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function ln(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function un(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ra&&a.capture==n){var l=a.listener,u=a.Na||a.src;a.Ia&&Be(t.u,a),i=!1!==l.call(u,r)&&i}}return i&&0!=r.Mb}function sn(t,e,n){if(g(t))n&&(t=C(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=C(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function cn(t){var e=null;return new zt(function(n,r){-1==(e=sn(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).s(function(t){throw a.clearTimeout(e),t})}function hn(t){if(t.U&&"function"==typeof t.U)return t.U();if(l(t))return t.split("");if(m(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function fn(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.U||"function"!=typeof t.U){if(m(t)||l(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function pn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof pn)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function dn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];mn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)mn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function mn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}T(on,ce),on.prototype[Le]=!0,on.prototype.addEventListener=function(t,e,n,r){Ge(this,t,e,n,r)},on.prototype.removeEventListener=function(t,e,n,r){Ye(this,t,e,n,r)},on.prototype.dispatchEvent=function(t){var e,n=this.Wa;if(n)for(e=[];n;n=n.Wa)e.push(n);n=this.Sb;var r=t.type||t;if(l(t))t=new Re(t,n);else if(t instanceof Re)t.target=t.target||n;else{var i=t;X(t=new Re(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=un(a,r,!0,t)&&i}if(i=un(a=t.b=n,r,!0,t)&&i,i=un(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=un(a=t.b=e[o],r,!1,t)&&i;return i},on.prototype.xa=function(){if(on.qb.xa.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ue(n[r]);delete e.a[t],e.b--}}this.Wa=null},(t=pn.prototype).U=function(){dn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.X=function(){return dn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return mn(this.b,t)?this.b[t]:e},t.set=function(t,e){mn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var gn=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function yn(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof yn?(this.h=void 0!==e?e:t.h,vn(this,t.f),this.i=t.i,this.b=t.b,bn(this,t.l),this.c=t.c,wn(this,Fn(t.a)),this.g=t.g):t&&(n=String(t).match(gn))?(this.h=!!e,vn(this,n[1]||"",!0),this.i=Tn(n[2]||""),this.b=Tn(n[3]||"",!0),bn(this,n[4]),this.c=Tn(n[5]||"",!0),wn(this,n[6]||"",!0),this.g=Tn(n[7]||"")):(this.h=!!e,this.a=new Pn(null,this.h))}function vn(t,e,n){t.f=n?Tn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function bn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function wn(t,e,n){e instanceof Pn?(t.a=e,function(t,e){e&&!t.f&&(Rn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(jn(this,e),Vn(this,n,t))},t)),t.f=e}(t.a,t.h)):(n||(e=In(e,Nn)),t.a=new Pn(e,t.h))}function _n(t,e,n){t.a.set(e,n)}function Cn(t,e){return t.a.get(e)}function En(t){return t instanceof yn?new yn(t):new yn(t,void 0)}function Sn(t,e){var n=new yn(null,void 0);return vn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Tn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function In(t,e,n){return l(t)?(t=encodeURI(t).replace(e,kn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function kn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}yn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(In(e,On,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(In(e,On,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(In(n,"/"==n.charAt(0)?An:xn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",In(n,Dn)),t.join("")},yn.prototype.resolve=function(t){var e=new yn(this),n=!!t.f;n?vn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)bn(e,t.l);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(yt(i,"./")||yt(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var l=i[a++];"."==l?r&&a==i.length&&o.push(""):".."==l?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(l),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?wn(e,Fn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var On=/[#\/\?@]/g,xn=/[#\?:]/g,An=/[#\?]/g,Nn=/[#\?@]/g,Dn=/#/g;function Pn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Rn(t){t.a||(t.a=new pn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Mn(t){var e=fn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Pn(null,void 0);t=hn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];d(o)?Vn(n,i,o):n.add(i,o)}return n}function jn(t,e){Rn(t),e=Un(t,e),mn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,mn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&dn(t)))}function Ln(t,e){return Rn(t),e=Un(t,e),mn(t.a.b,e)}function Vn(t,e,n){jn(t,e),0<n.length&&(t.c=null,t.a.set(Un(t,e),K(n)),t.b+=n.length)}function Fn(t){var e=new Pn;return e.c=t.c,t.a&&(e.a=new pn(t.a),e.b=t.b),e}function Un(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(t=Pn.prototype).add=function(t,e){Rn(this),this.c=null,t=Un(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Rn(this),this.a.forEach(function(n,r){V(n,function(n){t.call(e,n,r,this)},this)},this)},t.X=function(){Rn(this);for(var t=this.a.U(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.U=function(t){Rn(this);var e=[];if(l(t))Ln(this,t)&&(e=H(e,this.a.get(Un(this,t))));else{t=this.a.U();for(var n=0;n<t.length;n++)e=H(e,t[n])}return e},t.set=function(t,e){return Rn(this),this.c=null,Ln(this,t=Un(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.U(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.U(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var qn=!ve||9<=Number(ke);function Bn(t){var e=document;return l(t)?e.getElementById(t):t}function zn(t,e){G(e,function(e,n){e&&"object"==typeof e&&e.qa&&(e=e.pa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Hn.hasOwnProperty(n)?t.setAttribute(Hn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var Hn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Kn(t){if(t&&"number"==typeof t.length){if(y(t))return"function"==typeof t.item||"string"==typeof t.item;if(g(t))return"function"==typeof t.item}return!1}function Gn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(d(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),Xn(i,r),r.push(":"),t(e,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Xn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Wn,t,e),e.join("")}function Wn(){}var Qn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Yn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Xn(t,e){e.push('"',t.replace(Yn,function(t){var e=Qn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Qn[t]=e),e}),'"')}function Jn(){var t=gr();return ve&&!!ke&&11==ke||/Edge\/\d+/.test(t)}function Zn(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function $n(t,e){e=e||a.window;var n="about:blank";t&&(n=wt(Ct(t)).toString()),e.location.href=n}function tr(t){return!!((t=(t||gr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function er(t){t=t||a.window;try{t.close()}catch(e){}}function nr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=gr().toLowerCase(),r&&(e.target=r,yt(n,"crios/")&&(e.target="_blank")),pr(gr())==hr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof bt?n:Ct(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((Ot("iPhone")&&!Ot("iPod")&&!Ot("iPad")||Ot("iPad")||Ot("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(j(a=r.document.createElement("A"),"HTMLAnchorElement"),e instanceof bt||e instanceof bt||(e="object"==typeof e&&e.qa?e.pa():String(e),_t.test(e)||(e="about:invalid#zClosurez"),e=Tt(e)),a.href=wt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=wt(e).toString(),a&&(we&&yt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t=Dt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Lt(t)+'">'),a.document.write(At(t)),a.document.close())):(a=r.open(wt(e).toString(),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(l){}return a}var rr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ir=/^[^@]+@[^@]+$/;function or(){var t=null;return new zt(function(e){"complete"==a.document.readyState?e():(t=function(){e()},Qe(window,"load",t))}).s(function(e){throw Ye(window,"load",t),e})}function ar(t){return t=t||gr(),!("file:"!==_r()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function lr(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function ur(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function sr(){return i.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":i.a.INTERNAL.hasOwnProperty("node")?"Node":ur()?"Worker":"Browser"}function cr(){var t=sr();return"ReactNative"===t||"Node"===t}var hr="Firefox",fr="Chrome";function pr(t){var e=t.toLowerCase();return yt(e,"opera/")||yt(e,"opr/")||yt(e,"opios/")?"Opera":yt(e,"iemobile")?"IEMobile":yt(e,"msie")||yt(e,"trident/")?"IE":yt(e,"edge/")?"Edge":yt(e,"firefox/")?hr:yt(e,"silk/")?"Silk":yt(e,"blackberry")?"Blackberry":yt(e,"webos")?"Webos":!yt(e,"safari/")||yt(e,"chrome/")||yt(e,"crios/")||yt(e,"android")?!yt(e,"chrome/")&&!yt(e,"crios/")||yt(e,"edge/")?yt(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":fr:"Safari"}var dr={Vc:"FirebaseCore-web",Xc:"FirebaseUI-web"};function mr(t,e){e=e||[];var n,r=[],i={};for(n in dr)i[dr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=sr())?r=pr(i=gr()):"Worker"===r&&(r=pr(i=gr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function gr(){return a.navigator&&a.navigator.userAgent||""}function yr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function vr(){try{var t=a.localStorage,e=Ir();if(t)return t.setItem(e,"1"),t.removeItem(e),!Jn()||!!a.indexedDB}catch(n){return ur()&&!!a.indexedDB}return!1}function br(){return(wr()||"chrome-extension:"===_r()||ar())&&!cr()&&vr()&&!ur()}function wr(){return"http:"===_r()||"https:"===_r()}function _r(){return a.location&&a.location.protocol||null}function Cr(t){return!tr(t=t||gr())&&pr(t)!=hr}function Er(t){return void 0===t?null:Gn(t)}function Sr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Tr(t){if(null!==t)return JSON.parse(t)}function Ir(t){return t||Math.floor(1e9*Math.random()).toString()}function kr(t){return"Safari"!=pr(t=t||gr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Or(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function xr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=gr(),e=sr(),this.b=tr(t)||"ReactNative"===e}function Ar(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Nr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Dr(){return!(!yr("fireauth.oauthhelper",a)&&!yr("fireauth.iframe",a))}xr.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!wr()&&"chrome-extension:"!==_r()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Pr,Rr={};function Mr(t){Rr[t]||(Rr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var jr={};Object.defineProperty(jr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(jr,"abcd",{configurable:!0,enumerable:!0,value:2}),Pr=2==jr.abcd}catch(ge){Pr=!1}function Lr(t,e,n){Pr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Vr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Lr(t,n,e[n])}function Fr(t){var e={};return Vr(e,t),e}function Ur(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Lr(e,n,Ur(t[n]));return e}function qr(t){var e={},n=t[zr],r=t[Hr];if(!(t=t[Kr])||t!=Br&&!n)throw Error("Invalid provider user info!");e[Wr]=r||null,e[Gr]=n||null,Lr(this,Yr,t),Lr(this,Qr,Ur(e))}var Br="EMAIL_SIGNIN",zr="email",Hr="newEmail",Kr="requestType",Gr="email",Wr="fromEmail",Qr="data",Yr="operation";function Xr(t,e){this.code=Zr+t,this.message=e||$r[t]||""}function Jr(t){var e=t&&t.code;return e?new Xr(e.substring(Zr.length),t.message):null}T(Xr,Error),Xr.prototype.A=function(){return{code:this.code,message:this.message}},Xr.prototype.toJSON=function(){return this.A()};var Zr="auth/",$r={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function ti(t){var e=Cn(t=En(t),ei)||null,n=Cn(t,ni)||null,r=Cn(t,oi)||null;if(r=r&&li[r]||null,!e||!n||!r)throw new Xr("argument-error",ei+", "+ni+"and "+oi+" are required in a valid action code URL.");Vr(this,{apiKey:e,operation:r,code:n,continueUrl:Cn(t,ri)||null,languageCode:Cn(t,ii)||null,tenantId:Cn(t,ai)||null})}var ei="apiKey",ni="oobCode",ri="continueUrl",ii="languageCode",oi="mode",ai="tenantId",li={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",signIn:Br,verifyEmail:"VERIFY_EMAIL"};function ui(t){try{return new ti(t)}catch(e){return null}}function si(t){var e=t[di];if(void 0===e)throw new Xr("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new Xr("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[ci];if(n&&"object"==typeof n){e=n[yi];var r=n[mi];if(n=n[gi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new Xr("argument-error",mi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Xr("argument-error",gi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new Xr("argument-error",yi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Xr("missing-android-pkg-name")}}else if(void 0!==n)throw new Xr("argument-error",ci+" property must be a non null object when specified.");if(this.f=null,(e=t[pi])&&"object"==typeof e){if("string"==typeof(e=e[vi])&&e.length)this.f=e;else if(void 0!==e)throw new Xr("argument-error",vi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new Xr("argument-error",pi+" property must be a non null object when specified.");if(void 0!==(e=t[fi])&&"boolean"!=typeof e)throw new Xr("argument-error",fi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[hi])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new Xr("argument-error",hi+" property must be a non empty string when specified.");this.i=t||null}var ci="android",hi="dynamicLinkDomain",fi="handleCodeInApp",pi="iOS",di="url",mi="installApp",gi="minimumVersion",yi="packageName",vi="bundleId";function bi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var wi=null,_i=null;function Ci(t){this.f=t.sub,S(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.c=t.firebase&&t.firebase.tenant||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function Ei(t){return(t=Si(t))&&t.sub&&t.iss&&t.aud&&t.exp?new Ci(t):null}function Si(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=_i[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!wi){wi={},_i={};for(var t=0;65>t;t++)wi[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),_i[wi[t]]=t,62<=t&&(_i["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),l=n(64);if(64===l&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=l&&e(a<<6&192|l))}}(t,function(t){e+=String.fromCharCode(t)}),e}(t))}catch(r){}return null}Ci.prototype.R=function(){return this.c},Ci.prototype.g=function(){return this.b};var Ti,Ii={ad:{bb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},cd:{bb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},dd:{bb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function ki(t){for(var e in Ii)if(Ii[e].id===t)return{firebaseEndpoint:(t=Ii[e]).bb,secureTokenEndpoint:t.ib};return null}Ti=ki("__EID__")?"__EID__":void 0;var Oi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),xi=["client_id","response_type","scope","redirect_uri","state"],Ai={Wc:{Oa:"locale",Da:500,Ca:600,Pa:"facebook.com",hb:xi},Yc:{Oa:null,Da:500,Ca:620,Pa:"github.com",hb:xi},Zc:{Oa:"hl",Da:515,Ca:680,Pa:"google.com",hb:xi},ed:{Oa:"lang",Da:485,Ca:705,Pa:"twitter.com",hb:Oi}};function Ni(t){for(var e in Ai)if(Ai[e].Pa==t)return Ai[e];return null}function Di(t){var e={};e["facebook.com"]=Li,e["google.com"]=Fi,e["github.com"]=Vi,e["twitter.com"]=Ui;var n=t&&t[Ri];try{if(n)return e[n]?new e[n](t):new ji(t);if(void 0!==t[Pi])return new Mi(t)}catch(r){}return null}var Pi="idToken",Ri="providerId";function Mi(t){var e=t[Ri];if(!e&&t[Pi]){var n=Ei(t[Pi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Lr(this,"providerId",e),Lr(this,"isNewUser",n)}function ji(t){Mi.call(this,t),Lr(this,"profile",Ur((t=Tr(t.rawUserInfo||"{}"))||{}))}function Li(t){if(ji.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Vi(t){if(ji.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Lr(this,"username",this.profile&&this.profile.login||null)}function Fi(t){if(ji.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ui(t){if(ji.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Lr(this,"username",t.screenName||null)}function qi(t){var e=En(t),n=Cn(e,"link"),r=Cn(En(n),"link");return e=Cn(e,"deep_link_id"),Cn(En(e),"link")||e||r||n||t}function Bi(){}function zi(t,e){return t.then(function(t){if(t[xa]){var n=Ei(t[xa]);if(!n||e!=n.f)throw new Xr("user-mismatch");return t}throw new Xr("user-mismatch")}).s(function(t){throw t&&t.code&&t.code==Zr+"user-not-found"?new Xr("user-mismatch"):t})}function Hi(t,e){if(!e)throw new Xr("internal-error","failed to construct a credential");this.a=e,Lr(this,"providerId",t),Lr(this,"signInMethod",t)}function Ki(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function Gi(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new Hi(t.providerId,t.pendingToken)}catch(e){}return null}function Wi(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Lr(this,"idToken",e.idToken),e.accessToken&&Lr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Lr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Xr("internal-error","failed to construct a credential");Lr(this,"accessToken",e.oauthToken),Lr(this,"secret",e.oauthTokenSecret)}Lr(this,"providerId",t),Lr(this,"signInMethod",n)}function Qi(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Mn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function Yi(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new Wi(t.providerId,e,t.signInMethod)}catch(n){}}return null}function Xi(t,e){this.Fc=e||[],Vr(this,{providerId:t,isOAuthProvider:!0}),this.zb={},this.cb=(Ni(t)||{}).Oa||null,this.ab=null}function Ji(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new Xr("argument-error",'SAML provider IDs must be prefixed with "saml."');Xi.call(this,t,[])}function Zi(t){Xi.call(this,t,xi),this.a=[]}function $i(){Zi.call(this,"facebook.com")}function to(t){if(!t)throw new Xr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new $i).credential({accessToken:e})}function eo(){Zi.call(this,"github.com")}function no(t){if(!t)throw new Xr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new eo).credential({accessToken:e})}function ro(){Zi.call(this,"google.com"),this.wa("profile")}function io(t,e){var n=t;return y(t)&&(n=t.idToken,e=t.accessToken),(new ro).credential({idToken:n,accessToken:e})}function oo(){Xi.call(this,"twitter.com",Oi)}function ao(t,e){var n=t;if(y(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Xr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Wi("twitter.com",n,"twitter.com")}function lo(t,e,n){this.a=t,this.c=e,Lr(this,"providerId","password"),Lr(this,"signInMethod",n===so.EMAIL_LINK_SIGN_IN_METHOD?so.EMAIL_LINK_SIGN_IN_METHOD:so.EMAIL_PASSWORD_SIGN_IN_METHOD)}function uo(t){return t&&t.email&&t.password?new lo(t.email,t.password,t.signInMethod):null}function so(){Vr(this,{providerId:"password",isOAuthProvider:!1})}function co(t,e){if(!(e=ho(e)))throw new Xr("argument-error","Invalid email link!");return new lo(t,e.code,so.EMAIL_LINK_SIGN_IN_METHOD)}function ho(t){return(t=ui(t=qi(t)))&&t.operation===Br?t:null}function fo(t){if(!(t.Ua&&t.Ta||t.Fa&&t.ba))throw new Xr("internal-error");this.a=t,Lr(this,"providerId","phone"),Lr(this,"signInMethod","phone")}function po(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return V(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new fo(e)}return null}function mo(t){return t.a.Fa&&t.a.ba?{temporaryProof:t.a.Fa,phoneNumber:t.a.ba}:{sessionInfo:t.a.Ua,code:t.a.Ta}}function go(t){try{this.a=t||i.a.auth()}catch(e){throw new Xr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Vr(this,{providerId:"phone",isOAuthProvider:!1})}function yo(t,e){if(!t)throw new Xr("missing-verification-id");if(!e)throw new Xr("missing-verification-code");return new fo({Ua:t,Ta:e})}function vo(t){if(t.temporaryProof&&t.phoneNumber)return new fo({Fa:t.temporaryProof,ba:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return io(o,n);case"facebook.com":return to(n);case"github.com":return no(n);case"twitter.com":return ao(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new Hi(e,a):new Wi(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Zi(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(l){return null}}function bo(t){if(!t.isOAuthProvider)throw new Xr("invalid-oauth-provider")}function wo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new Xr("invalid-auth-event");if(this.g&&this.a)throw new Xr("invalid-auth-event");if(this.g&&!this.f)throw new Xr("invalid-auth-event")}function _o(t){return(t=t||{}).type?new wo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Jr(t.error),t.postBody,t.tenantId):null}function Co(){this.b=null,this.a=[]}T(ji,Mi),T(Li,ji),T(Vi,ji),T(Fi,ji),T(Ui,ji),Hi.prototype.na=function(t){return Wa(t,Ki(this))},Hi.prototype.b=function(t,e){var n=Ki(this);return n.idToken=e,Qa(t,n)},Hi.prototype.f=function(t,e){return zi(Ya(t,Ki(this)),e)},Hi.prototype.A=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Wi.prototype.na=function(t){return Wa(t,Qi(this))},Wi.prototype.b=function(t,e){var n=Qi(this);return n.idToken=e,Qa(t,n)},Wi.prototype.f=function(t,e){return zi(Ya(t,Qi(this)),e)},Wi.prototype.A=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},Xi.prototype.Ea=function(t){return this.zb=Q(t),this},T(Ji,Xi),T(Zi,Xi),Zi.prototype.wa=function(t){return q(this.a,t)||this.a.push(t),this},Zi.prototype.Hb=function(){return K(this.a)},Zi.prototype.credential=function(t,e){var n;if(!(n=y(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new Xr("argument-error","credential failed: must provide the ID token and/or the access token.");return new Wi(this.providerId,n,this.providerId)},T($i,Zi),Lr($i,"PROVIDER_ID","facebook.com"),Lr($i,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(eo,Zi),Lr(eo,"PROVIDER_ID","github.com"),Lr(eo,"GITHUB_SIGN_IN_METHOD","github.com"),T(ro,Zi),Lr(ro,"PROVIDER_ID","google.com"),Lr(ro,"GOOGLE_SIGN_IN_METHOD","google.com"),T(oo,Xi),Lr(oo,"PROVIDER_ID","twitter.com"),Lr(oo,"TWITTER_SIGN_IN_METHOD","twitter.com"),lo.prototype.na=function(t){return this.signInMethod==so.EMAIL_LINK_SIGN_IN_METHOD?Sl(t,rl,{email:this.a,oobCode:this.c}):Sl(t,wl,{email:this.a,password:this.c})},lo.prototype.b=function(t,e){return this.signInMethod==so.EMAIL_LINK_SIGN_IN_METHOD?Sl(t,il,{idToken:e,email:this.a,oobCode:this.c}):Sl(t,dl,{idToken:e,email:this.a,password:this.c})},lo.prototype.f=function(t,e){return zi(this.na(t),e)},lo.prototype.A=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Vr(so,{PROVIDER_ID:"password"}),Vr(so,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Vr(so,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),fo.prototype.na=function(t){return t.Va(mo(this))},fo.prototype.b=function(t,e){var n=mo(this);return n.idToken=e,Sl(t,Cl,n)},fo.prototype.f=function(t,e){var n=mo(this);return n.operation="REAUTH",zi(t=Sl(t,El,n),e)},fo.prototype.A=function(){var t={providerId:"phone"};return this.a.Ua&&(t.verificationId=this.a.Ua),this.a.Ta&&(t.verificationCode=this.a.Ta),this.a.Fa&&(t.temporaryProof=this.a.Fa),this.a.ba&&(t.phoneNumber=this.a.ba),t},go.prototype.Va=function(t,e){var n=this.a.b;return Xt(e.verify()).then(function(r){if(!l(r))throw new Xr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return function(t,e){return Sl(n,fl,e)}(0,{phoneNumber:t,recaptchaToken:r}).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new Xr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Vr(go,{PROVIDER_ID:"phone"}),Vr(go,{PHONE_SIGN_IN_METHOD:"phone"}),wo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},wo.prototype.R=function(){return this.h},wo.prototype.A=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.A()}};var Eo,So=null;function To(t){var e="unauthorized-domain",n=void 0,r=En(t);t=r.b,"chrome-extension"==(r=r.f)?n=jt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=jt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Xr.call(this,e,n)}function Io(t,e,n){Xr.call(this,t,n),(t=e||{}).Ab&&Lr(this,"email",t.Ab),t.ba&&Lr(this,"phoneNumber",t.ba),t.credential&&Lr(this,"credential",t.credential),t.Qb&&Lr(this,"tenantId",t.Qb)}function ko(t){if(t.code){var e=t.code||"";0==e.indexOf(Zr)&&(e=e.substring(Zr.length));var n={credential:vo(t),Qb:t.tenantId};if(t.email)n.Ab=t.email;else if(t.phoneNumber)n.ba=t.phoneNumber;else if(!n.credential)return new Xr(e,t.message||void 0);return new Io(e,n,t.message)}return null}function Oo(){}function xo(){}function Ao(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function No(){}function Do(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=C(this.fc,this),this.a.onerror=C(this.Ib,this),this.a.onprogress=C(this.gc,this),this.a.ontimeout=C(this.kc,this)}function Po(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Ro(t,e,n){this.reset(t,e,n,void 0,void 0)}function Mo(t){this.f=t,this.b=this.c=this.a=null}function jo(t,e){this.name=t,this.value=e}T(To,Xr),T(Io,Xr),Io.prototype.A=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.A();return e&&X(t,e),t},Io.prototype.toJSON=function(){return this.A()},Oo.prototype.c=null,T(xo,Oo),xo.prototype.a=function(){var t=Ao(this);return t?new ActiveXObject(t):new XMLHttpRequest},xo.prototype.b=function(){var t={};return Ao(this)&&(t[0]=!0,t[1]=!0),t},Eo=new xo,T(No,Oo),No.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Do;throw Error("Unsupported browser")},No.prototype.b=function(){return{}},(t=Do.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Po(this,4)},t.Ib=function(){this.status=500,this.response=this.responseText="",Po(this,4)},t.kc=function(){this.Ib()},t.gc=function(){this.status=200,Po(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Ro.prototype.a=null,Ro.prototype.reset=function(t,e,n,r,i){r||S(),delete this.a},jo.prototype.toString=function(){return this.name};var Lo=new jo("SEVERE",1e3),Vo=new jo("WARNING",900),Fo=new jo("CONFIG",700),Uo=new jo("FINE",500);Mo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(x("Root logger has no level set."),null)}(this).value)for(g(e)&&(e=e()),t=new Ro(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var qo={},Bo=null;function zo(t){var e;if(Bo||(Bo=new Mo(""),qo[""]=Bo,Bo.c=Fo),!(e=qo[t])){e=new Mo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=zo(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,qo[t]=e}return e}function Ho(t,e){t&&t.log(Uo,e,void 0)}function Ko(t){this.f=t}function Go(t){on.call(this),this.o=t,this.readyState=Wo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=zo("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}T(Ko,Oo),Ko.prototype.a=function(){return new Go(this.f)},Ko.prototype.b=function(t){return function(){return t}}({}),T(Go,on);var Wo=0;function Qo(t){t.c.read().then(t.ec.bind(t)).catch(t.Ma.bind(t))}function Yo(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,Xo(t)}function Xo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Jo(t){on.call(this),this.headers=new pn,this.B=t||null,this.c=!1,this.w=this.a=null,this.h=this.O=this.l="",this.f=this.J=this.i=this.I=!1,this.g=0,this.o=null,this.m=Zo,this.v=this.P=!1}(t=Go.prototype).open=function(t,e){if(this.readyState!=Wo)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,Xo(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.o.fetch(new Request(this.g,e)).then(this.jc.bind(this),this.Ma.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Yo(this,!1)),this.readyState=Wo},t.jc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,Xo(this)),this.a&&(this.readyState=3,Xo(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.hc.bind(this),this.Ma.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,Qo(this)):t.text().then(this.ic.bind(this),this.Ma.bind(this)))))},t.ec=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?Yo(this,!0):Xo(this),3==this.readyState&&Qo(this)}},t.ic=function(t){this.a&&(this.response=this.responseText=t,Yo(this,!0))},t.hc=function(t){this.a&&(this.response=t,Yo(this,!0))},t.Ma=function(t){var e=this.h;e&&e.log(Vo,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&Yo(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(Vo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Vo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},T(Jo,on);var Zo="";Jo.prototype.b=zo("goog.net.XhrIo");var $o=/^https?$/i,ta=["POST","PUT"];function ea(t){return"content-type"==t.toLowerCase()}function na(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ra(t),oa(t)}function ra(t){t.I||(t.I=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ia(t){if(t.c&&void 0!==o)if(t.w[1]&&4==la(t)&&2==ua(t))Ho(t.b,sa(t,"Local request error detected and ignored"));else if(t.i&&4==la(t))sn(t.Lb,0,t);else if(t.dispatchEvent("readystatechange"),4==la(t)){Ho(t.b,sa(t,"Request complete")),t.c=!1;try{var e,n=ua(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var l=String(t.l).match(gn)[1]||null;if(!l&&a.self&&a.self.location){var u=a.self.location.protocol;l=u.substr(0,u.length-1)}i=!$o.test(l?l.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var s=2<la(t)?t.a.statusText:""}catch(c){Ho(t.b,"Can not get status: "+c.message),s=""}t.h=s+" ["+ua(t)+"]",ra(t)}}finally{oa(t)}}}function oa(t,e){if(t.a){aa(t);var n=t.a,r=t.w[0]?h:null;t.a=null,t.w=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(Lo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function aa(t){t.a&&t.v&&(t.a.ontimeout=null),t.o&&(a.clearTimeout(t.o),t.o=null)}function la(t){return t.a?t.a.readyState:0}function ua(t){try{return 2<la(t)?t.a.status:-1}catch(e){return-1}}function sa(t,e){return e+" ["+t.O+" "+t.l+" "+ua(t)+"]"}function ca(t){var e=_a;this.g=[],this.v=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function ha(t,e,n){t.a=!0,t.c=n,t.f=!e,ma(t)}function fa(t){if(t.a){if(!t.u)throw new ga(t);t.u=!1}}function pa(t,e,n,r){t.g.push([e,n,r]),t.a&&ma(t)}function da(t){return U(t.g,function(t){return g(t[1])})}function ma(t){if(t.h&&t.a&&da(t)){var e=t.h,n=ba[e];n&&(a.clearTimeout(n.a),delete ba[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],l=i[1];if(i=i[2],o=t.f?l:o)try{var u=o.call(i||t.o,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(I(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(s){e=s,t.f=!0,da(t)||(n=!0)}}t.c=e,r&&(u=C(t.m,t,!0),r=C(t.m,t,!1),e instanceof ca?(pa(e,u,r),e.w=!0):e.then(u,r)),n&&(e=new va(e),ba[e.a]=e,t.h=e.a)}function ga(){k.call(this)}function ya(){k.call(this)}function va(t){this.a=a.setTimeout(C(this.c,this),0),this.b=t}(t=Jo.prototype).Ga=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Ho(this.b,sa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(Ho(this.b,sa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),oa(this))},t.xa=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),oa(this,!0)),Jo.qb.xa.call(this)},t.Lb=function(){this.ta||(this.J||this.i||this.f?ia(this):this.yc())},t.yc=function(){ia(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Zo:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Lo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return Ho(this.b,"Can not get response: "+e.message),null}},ca.prototype.cancel=function(t){if(this.a)this.c instanceof ca&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.v?this.v.call(this.o,this):this.u=!0,this.a||(t=new ya(this),fa(this),ha(this,!1,t))}},ca.prototype.m=function(t,e){this.i=!1,ha(this,t,e)},ca.prototype.then=function(t,e,n){var r,i,o=new zt(function(t,e){r=t,i=e});return pa(this,r,function(t){t instanceof ya?o.cancel():i(t)}),o.then(t,e,n)},ca.prototype.$goog_Thenable=!0,T(ga,k),ga.prototype.message="Deferred has already fired",ga.prototype.name="AlreadyCalledError",T(ya,k),ya.prototype.message="Deferred was canceled",ya.prototype.name="CanceledError",va.prototype.c=function(){throw delete ba[this.a],this.b};var ba={};function wa(t){var e={},n=e.document||document,r=rt(t).toString(),i=document.createElement("SCRIPT"),o={Nb:i,Ga:void 0},l=new ca(o),u=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(u=window.setTimeout(function(){Ca(i,!0);var t=new Ta(Sa,"Timeout reached for loading script "+r);fa(l),ha(l,!1,t)},h),o.Ga=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ca(i,e.gd||!1,u),fa(l),ha(l,!0,null))},i.onerror=function(){Ca(i,!0,u);var t=new Ta(Ea,"Error while loading script "+r);fa(l),ha(l,!1,t)},X(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),zn(i,o),function(t,e){j(t,"HTMLScriptElement"),t.src=rt(e),null===c&&(c=(e=(e=a.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&s.test(e)?e:""),(e=c)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),l}function _a(){if(this&&this.Nb){var t=this.Nb;t&&"SCRIPT"==t.tagName&&Ca(t,!0,this.Ga)}}function Ca(t,e,n){null!=n&&a.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Ea=0,Sa=1;function Ta(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),k.call(this,n),this.code=t}function Ia(t){this.f=t}function ka(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.u=t.secureTokenTimeout||Aa,this.g=Q(t.secureTokenHeaders||Na),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.firebaseTimeout||Da,this.a=Q(t.firebaseHeaders||Pa),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==sr(),!(n=a.XMLHttpRequest||n&&i.a.INTERNAL.node&&i.a.INTERNAL.node.XMLHttpRequest)&&!ur())throw new Xr("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=ur()?new Ko(self):cr()?new Ia(n):new No,this.b=null}T(Ta,k),T(Ia,Oo),Ia.prototype.a=function(){return new this.f},Ia.prototype.b=function(){return{}};var Oa,xa="idToken",Aa=new xr(3e4,6e4),Na={"Content-Type":"application/x-www-form-urlencoded"},Da=new xr(3e4,6e4),Pa={"Content-Type":"application/json"};function Ra(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Ma(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ja(t,e,n,r,i,o,l){(function(){var t=gr();return!((t=pr(t)!=fr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||ve&&ke&&!(9<ke))})()||ur()?t=C(t.o,t):(Oa||(Oa=new zt(function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{a[Va]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var n=it(La,{onload:Va});!function(t,e){pa(wa(n),null,e,void 0)}(0,function(){e(Error("CORS_UNSUPPORTED"))})}}(t,e)})),t=C(t.m,t)),t(e,n,r,i,o,l)}ka.prototype.R=function(){return this.b},ka.prototype.o=function(t,e,n,r,i,o){if(ur()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new Xr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var u=new Jo(this.f);if(o){u.g=Math.max(0,o);var s=setTimeout(function(){u.dispatchEvent("timeout")},o)}an(u,"complete",function(){s&&clearTimeout(s);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return Ho(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),ln(u,"ready",function(){s&&clearTimeout(s),pe(this)}),ln(u,"timeout",function(){s&&clearTimeout(s),pe(this),e&&e(null)}),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.O=n,t.I=!1,t.c=!0,t.a=t.B?t.B.a():Eo.a(),t.w=function(t){return t.c||(t.c=t.b())}(t.B?t.B:Eo),t.a.onreadystatechange=C(t.Lb,t);try{Ho(t.b,sa(t,"Opening Xhr")),t.J=!0,t.a.open(n,String(e),!0),t.J=!1}catch(u){return Ho(t.b,sa(t,"Error opening Xhr: "+u.message)),void na(t,u)}e=r||"";var o=new pn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(m(t)||l(t))V(t,e,void 0);else for(var n=fn(t),r=hn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){o.set(e,t)}),i=function(t){t:{for(var e=ea,n=t.length,r=l(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:l(t)?t.charAt(e):t[e]}(o.X()),r=a.FormData&&e instanceof a.FormData,!q(ta,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.P&&(t.a.withCredentials=t.P);try{aa(t),0<t.g&&(t.v=function(t){return ve&&xe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),Ho(t.b,sa(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=C(t.Ga,t)):t.o=sn(t.Ga,t.g,t)),Ho(t.b,sa(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(u){Ho(t.b,sa(t,"Send error: "+u.message)),na(t,u)}}(u,t,n,r,i)};var La=new J(tt,"https://apis.google.com/js/client.js?onload=%{onload}"),Va="__fcb"+Math.floor(1e6*Math.random()).toString();function Fa(t){if(!l(t=t.email)||!ir.test(t))throw new Xr("invalid-email")}function Ua(t){"email"in t&&Fa(t)}function qa(t){if(!t[xa])throw new Xr("internal-error")}function Ba(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Xr("internal-error")}else{if(!t.sessionInfo)throw new Xr("missing-verification-id");if(!t.code)throw new Xr("missing-verification-code")}}ka.prototype.m=function(t,e,n,r,i){var o=this;Oa.then(function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).s(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},ka.prototype.ob=function(){return Sl(this,ml,{})},ka.prototype.rb=function(t,e){return Sl(this,pl,{idToken:t,email:e})},ka.prototype.sb=function(t,e){return Sl(this,dl,{idToken:t,password:e})};var za={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Ha(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new Xr("internal-error")}function Ka(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Ln(t=new Pn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function Ga(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=ko(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=ko(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=ko(t)):t.errorMessage&&(e=Tl(t.errorMessage)),e)throw e;if(!t[xa])throw new Xr("internal-error")}function Wa(t,e){return e.returnIdpCredential=!0,Sl(t,gl,e)}function Qa(t,e){return e.returnIdpCredential=!0,Sl(t,vl,e)}function Ya(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Sl(t,yl,e)}function Xa(t){if(!t.oobCode)throw new Xr("invalid-action-code")}(t=ka.prototype).tb=function(t,e){var n={idToken:t},r=[];return G(za,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),Sl(this,pl,n)},t.kb=function(t,e){return X(t={requestType:"PASSWORD_RESET",email:t},e),Sl(this,ul,t)},t.lb=function(t,e){return X(t={requestType:"EMAIL_SIGNIN",email:t},e),Sl(this,al,t)},t.jb=function(t,e){return X(t={requestType:"VERIFY_EMAIL",idToken:t},e),Sl(this,ll,t)},t.Va=function(t){return Sl(this,_l,t)},t.$a=function(t,e){return Sl(this,hl,{oobCode:t,newPassword:e})},t.Ka=function(t){return Sl(this,Za,{oobCode:t})},t.Xa=function(t){return Sl(this,Ja,{oobCode:t})};var Ja={endpoint:"setAccountInfo",D:Xa,fa:"email",F:!0},Za={endpoint:"resetPassword",D:Xa,K:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new Xr("internal-error")},F:!0},$a={endpoint:"signupNewUser",D:function(t){if(Fa(t),!t.password)throw new Xr("weak-password")},K:qa,T:!0,F:!0},tl={endpoint:"createAuthUri",F:!0},el={endpoint:"deleteAccount",V:["idToken"]},nl={endpoint:"setAccountInfo",V:["idToken","deleteProvider"],D:function(t){if(!d(t.deleteProvider))throw new Xr("internal-error")}},rl={endpoint:"emailLinkSignin",V:["email","oobCode"],D:Fa,K:qa,T:!0,F:!0},il={endpoint:"emailLinkSignin",V:["idToken","email","oobCode"],D:Fa,K:qa,T:!0},ol={endpoint:"getAccountInfo"},al={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new Xr("internal-error");Fa(t)},fa:"email",F:!0},ll={endpoint:"getOobConfirmationCode",V:["idToken","requestType"],D:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Xr("internal-error")},fa:"email",F:!0},ul={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Xr("internal-error");Fa(t)},fa:"email",F:!0},sl={wb:!0,endpoint:"getProjectConfig",Kb:"GET"},cl={wb:!0,endpoint:"getRecaptchaParam",Kb:"GET",K:function(t){if(!t.recaptchaSiteKey)throw new Xr("internal-error")}},hl={endpoint:"resetPassword",D:Xa,fa:"email",F:!0},fl={endpoint:"sendVerificationCode",V:["phoneNumber","recaptchaToken"],fa:"sessionInfo",F:!0},pl={endpoint:"setAccountInfo",V:["idToken"],D:Ua,T:!0},dl={endpoint:"setAccountInfo",V:["idToken"],D:function(t){if(Ua(t),!t.password)throw new Xr("weak-password")},K:qa,T:!0},ml={endpoint:"signupNewUser",K:qa,T:!0,F:!0},gl={endpoint:"verifyAssertion",D:Ha,Qa:Ka,K:Ga,T:!0,F:!0},yl={endpoint:"verifyAssertion",D:Ha,Qa:Ka,K:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Xr("user-not-found");if(t.errorMessage)throw Tl(t.errorMessage);if(!t[xa])throw new Xr("internal-error")},T:!0,F:!0},vl={endpoint:"verifyAssertion",D:function(t){if(Ha(t),!t.idToken)throw new Xr("internal-error")},Qa:Ka,K:Ga,T:!0},bl={endpoint:"verifyCustomToken",D:function(t){if(!t.token)throw new Xr("invalid-custom-token")},K:qa,T:!0,F:!0},wl={endpoint:"verifyPassword",D:function(t){if(Fa(t),!t.password)throw new Xr("wrong-password")},K:qa,T:!0,F:!0},_l={endpoint:"verifyPhoneNumber",D:Ba,K:qa,F:!0},Cl={endpoint:"verifyPhoneNumber",D:function(t){if(!t.idToken)throw new Xr("internal-error");Ba(t)},K:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",ko(t);qa(t)}},El={Yb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:Ba,K:qa,F:!0};function Sl(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.V))return Jt(new Xr("internal-error"));var r,i=e.Kb||"POST";return Xt(n).then(e.D).then(function(){return e.T&&(n.returnSecureToken=!0),e.F&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o){var a=En(t.h+e);_n(a,"key",t.c),o&&_n(a,"cb",S().toString());var l="GET"==n;if(l)for(var u in r)r.hasOwnProperty(u)&&_n(a,u,r[u]);return new zt(function(e,o){ja(t,a.toString(),function(t){t?t.error?o(Il(t,i||{})):e(t):o(new Xr("network-request-failed"))},n,l?void 0:Gn(Sr(r)),t.a,t.i.get())})}(t,e.endpoint,i,n,e.Yb,e.wb||!1)}).then(function(t){return r=t,e.Qa?e.Qa(n,r):r}).then(e.K).then(function(){if(!e.fa)return r;if(!(e.fa in r))throw new Xr("internal-error");return r[e.fa]})}function Tl(t){return Il({error:{errors:[{message:t}],code:400,message:t}})}function Il(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Xr(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",X(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new Xr(r[i],e);return!e&&t&&(e=Er(t)),new Xr("internal-error",e)}function kl(t){this.b=t,this.a=null,this.fb=function(t){return(Nl||(Nl=new zt(function(t,e){function n(){Or(),yr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Or(),e(Error("Network Error"))},timeout:xl.get()})}if(yr("gapi.iframes.Iframe"))t();else if(yr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){yr("gapi.load")?n():e(Error("Network Error"))},Xt(wa(r=it(Ol,{onload:r}))).s(function(){e(Error("Network Error"))})}}).s(function(t){throw Nl=null,t}))).then(function(){return new zt(function(e,n){yr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:yr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},Al.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var Ol=new J(tt,"https://apis.google.com/js/api.js?onload=%{onload}"),xl=new xr(3e4,6e4),Al=new xr(5e3,15e3),Nl=null;function Dl(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Sn(this.i,"/__/auth/iframe"),_n(this.a,"apiKey",this.g),_n(this.a,"appName",this.h),this.b=null,this.c=[]}function Pl(t,e,n,r,i){this.o=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function Rl(t){try{return i.a.app(t).auth().Aa()}catch(e){return[]}}function Ml(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function jl(t){var e=Zn();return function(t){return Sl(t,sl,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=En(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],a=n,l=r;if(0==o.indexOf("chrome-extension://")?a=En(o).b==a&&"chrome-extension"==l:"http"!=l&&"https"!=l?a=!1:rr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new To(Zn())})}function Ll(t){return t.l?t.l:(t.l=or().then(function(){if(!t.o){var e=t.c,n=t.h,r=Rl(t.b),i=new Dl(t.u,t.f,t.b);i.f=e,i.b=n,i.c=K(r||[]),t.o=i.toString()}t.i=new kl(t.o),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.fb.then(function(){t.a.register("authEvent",e,yr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.i,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=_o(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Xt(n)}return n.status="ERROR",Xt(n)})}(t)}),t.l)}function Vl(t){return t.m||(t.v=t.c?mr(t.c,Rl(t.b)):null,t.m=new ka(t.f,ki(t.h),t.v)),t.m}function Fl(t,e,n,r,i,o,a,l,u,s,c){return(t=new Pl(t,e,n,r,i)).l=o,t.g=a,t.i=l,t.b=Q(u||null),t.f=s,t.nb(c).toString()}function Ul(t){if(this.a=t||i.a.INTERNAL.reactNative&&i.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Xr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function ql(t){this.b=t,this.a={},this.f=C(this.c,this)}Dl.prototype.toString=function(){return this.f?_n(this.a,"v",this.f):jn(this.a.a,"v"),this.b?_n(this.a,"eid",this.b):jn(this.a.a,"eid"),this.c.length?_n(this.a,"fw",this.c.join(",")):jn(this.a.a,"fw"),this.a.toString()},Pl.prototype.nb=function(t){return this.h=t,this},Pl.prototype.toString=function(){var t=Sn(this.o,"/__/auth/handler");if(_n(t,"apiKey",this.m),_n(t,"appName",this.c),_n(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=i.a.app(this.c).auth().ha()}catch(u){n=null}for(var r in e.ab=n,_n(t,"providerId",this.a.providerId),n=Sr((e=this.a).zb))n[r]=n[r].toString();r=e.Fc,n=Q(n);for(var o=0;o<r.length;o++){var a=r[o];a in n&&delete n[a]}e.cb&&e.ab&&!n[e.cb]&&(n[e.cb]=e.ab),W(n)||_n(t,"customParameters",Er(n))}if("function"==typeof this.a.Hb&&(e=this.a.Hb()).length&&_n(t,"scopes",e.join(",")),this.l?_n(t,"redirectUrl",this.l):jn(t.a,"redirectUrl"),this.g?_n(t,"eventId",this.g):jn(t.a,"eventId"),this.i?_n(t,"v",this.i):jn(t.a,"v"),this.b)for(var l in this.b)this.b.hasOwnProperty(l)&&!Cn(t,l)&&_n(t,l,this.b[l]);return this.h?_n(t,"tid",this.h):jn(t.a,"tid"),this.f?_n(t,"eid",this.f):jn(t.a,"eid"),(l=Rl(this.c)).length&&_n(t,"fw",l.join(",")),t.toString()},(t=Ml.prototype).Fb=function(t,e,n){var r=new Xr("popup-closed-by-user"),i=new Xr("web-storage-unsupported"),o=this,a=!1;return this.ia().then(function(){(function(t){var e={type:"webStorageSupport"};return Ll(t).then(function(){return function(t,e){return t.fb.then(function(){return new zt(function(n){t.a.send(e.type,e,n,yr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.i,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&er(t),e(i),a=!0)})}).s(function(){}).then(function(){if(!a)return function(t){return new zt(function(e){return function n(){cn(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!a)return cn(n).then(function(){e(r)})})},t.Ob=function(){var t=gr();return!Cr(t)&&!kr(t)},t.Jb=function(){return!1},t.Db=function(t,e,n,r,i,o,a,l){if(!t)return Jt(new Xr("popup-blocked"));if(a&&!Cr())return this.ia().s(function(e){er(t),i(e)}),r(),Xt();this.a||(this.a=jl(Vl(this)));var u=this;return this.a.then(function(){var e=u.ia().s(function(e){throw er(t),i(e),e});return r(),e}).then(function(){bo(n),a||$n(Fl(u.u,u.f,u.b,e,n,null,o,u.c,void 0,u.h,l),t)}).s(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},t.Eb=function(t,e,n,r){this.a||(this.a=jl(Vl(this)));var i=this;return this.a.then(function(){bo(e),$n(Fl(i.u,i.f,i.b,t,e,Zn(),n,i.c,void 0,i.h,r))}).s(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},t.ia=function(){var t=this;return Ll(this).then(function(){return t.i.fb}).s(function(){throw t.a=null,new Xr("network-request-failed")})},t.Rb=function(){return!0},t.ya=function(t){this.g.push(t)},t.La=function(t){z(this.g,function(e){return e==t})},(t=Ul.prototype).get=function(t){return Xt(this.a.getItem(t)).then(function(t){return t&&Tr(t)})},t.set=function(t,e){return Xt(this.a.setItem(t,Er(e)))},t.S=function(t){return Xt(this.a.removeItem(t))},t.$=function(){},t.ea=function(){};var Bl,zl=[];function Hl(t,e,n){W(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Kl(t){this.a=t}function Gl(t){this.c=t,this.b=!1,this.a=[]}function Wl(t,e,n,r){var i,o,a,l,u=n||{},s=null;if(t.b)return Jt(Error("connection_unavailable"));var c=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new zt(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},c),t.a.push(s={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),l=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(l),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(l),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return Ql(t,s),e}).s(function(e){throw Ql(t,s),e})}function Ql(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),z(t.a,function(t){return t==e})}}function Yl(){if(!Jl())throw new Xr("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=a.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var t=this;ur()&&self?(this.l=function(){var t=ur()?self:null;if(V(zl,function(n){n.b==t&&(e=n)}),!e){var e=new ql(t);zl.push(e)}return e}(),Hl(this.l,"keyChanged",function(e,n){return nu(t).then(function(e){return 0<e.length&&V(t.a,function(t){t(e)}),{keyProcessed:q(e,n.key)}})}),Hl(this.l,"ping",function(){return Xt(["keyChanged"])})):function(){var t=a.navigator;return t&&t.serviceWorker?Xt().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).s(function(){return null}):Xt(null)}().then(function(e){(t.h=e)&&(t.g=new Gl(new Kl(e)),Wl(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&q(e[0].value,"keyChanged")&&(t.o=!0)}).s(function(){}))})}function Xl(t){return t.m||(t.m=function t(e){return new zt(function(n,r){var i=e.u.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new zt(function(e,n){var r=t.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(e).then(function(){return t(e)}).then(function(t){n(t)}).s(function(t){r(t)})}})}(t)),t.m}function Jl(){try{return!!a.indexedDB}catch(ge){return!1}}function Zl(t){return t.objectStore("firebaseLocalStorage")}function $l(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function tu(t){return new zt(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function eu(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Wl(t.g,"keyChanged",{key:e},t.o).then(function(){}).s(function(){}):Xt()}function nu(t){return Xl(t).then(function(t){var e=Zl($l(t,!1));return e.getAll?tu(e.getAll()):new zt(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r})}function ru(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function iu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Xt().then(function(){if(Jl()){var t=Ir(),r="__sak"+t;return Bl||(Bl=new Yl),(n=Bl).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.S(r)}).then(function(){return n}).s(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.$(function(t){V(e.a,function(e){e(t)})}),t})}function ou(){this.a={},this.type="inMemory"}function au(){if(!function(){var t="Node"==sr();if(!(t=lu()||t&&i.a.INTERNAL.node&&i.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==sr())throw new Xr("internal-error","The LocalStorage compatibility library was not found.");throw new Xr("web-storage-unsupported")}this.a=lu()||i.a.INTERNAL.node.localStorage,this.type="localStorage"}function lu(){try{var t=a.localStorage,e=Ir();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function uu(){this.type="nullStorage"}function su(){if(!function(){var t="Node"==sr();if(!(t=cu()||t&&i.a.INTERNAL.node&&i.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==sr())throw new Xr("internal-error","The SessionStorage compatibility library was not found.");throw new Xr("web-storage-unsupported")}this.a=cu()||i.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function cu(){try{var t=a.sessionStorage,e=Ir();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function hu(){var t={};t.Browser=du,t.Node=mu,t.ReactNative=gu,t.Worker=yu,this.a=t[sr()]}ql.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];V(r,function(e){i.push(Xt().then(function(){return e(t.origin,t.data.data)}))}),$t(i).then(function(r){var i=[];V(r,function(t){i.push({fulfilled:t.Gb,value:t.value,reason:t.reason?t.reason.message:void 0})}),V(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},Kl.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Gl.prototype.close=function(){for(;0<this.a.length;)Ql(this,this.a[0]);this.b=!0},(t=Yl.prototype).set=function(t,e){var n,r=!1,i=this;return Xl(this).then(function(e){return tu((e=Zl($l(n=e,!0))).get(t))}).then(function(o){var a=Zl($l(n,!0));return o?(o.value=e,tu(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,tu(a.add(o)))}).then(function(){return i.c[t]=e,eu(i,t)}).ka(function(){r&&i.b--})},t.get=function(t){return Xl(this).then(function(e){return tu(Zl($l(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.S=function(t){var e=!1,n=this;return Xl(this).then(function(r){return e=!0,n.b++,tu(Zl($l(r,!0)).delete(t))}).then(function(){return delete n.c[t],eu(n,t)}).ka(function(){e&&n.b--})},t.$=function(t){0==this.a.length&&function(t){ru(t),function e(){t.f=setTimeout(function(){t.i=nu(t).then(function(e){0<e.length&&V(t.a,function(t){t(e)})}).then(function(){e()}).s(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ea=function(t){z(this.a,function(e){return e==t}),0==this.a.length&&ru(this)},(t=iu.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.S=function(t){return this.b.then(function(e){return e.S(t)})},t.$=function(t){this.a.push(t)},t.ea=function(t){z(this.a,function(e){return e==t})},(t=ou.prototype).get=function(t){return Xt(this.a[t])},t.set=function(t,e){return this.a[t]=e,Xt()},t.S=function(t){return delete this.a[t],Xt()},t.$=function(){},t.ea=function(){},(t=au.prototype).get=function(t){var e=this;return Xt().then(function(){return Tr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Xt().then(function(){var r=Er(e);null===r?n.S(t):n.a.setItem(t,r)})},t.S=function(t){var e=this;return Xt().then(function(){e.a.removeItem(t)})},t.$=function(t){a.window&&Ge(a.window,"storage",t)},t.ea=function(t){a.window&&Ye(a.window,"storage",t)},(t=uu.prototype).get=function(){return Xt(null)},t.set=function(){return Xt()},t.S=function(){return Xt()},t.$=function(){},t.ea=function(){},(t=su.prototype).get=function(t){var e=this;return Xt().then(function(){return Tr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Xt().then(function(){var r=Er(e);null===r?n.S(t):n.a.setItem(t,r)})},t.S=function(t){var e=this;return Xt().then(function(){e.a.removeItem(t)})},t.$=function(){},t.ea=function(){};var fu,pu,du={C:au,Sa:su},mu={C:au,Sa:su},gu={C:Ul,Sa:uu},yu={C:au,Sa:uu},vu={$c:"local",NONE:"none",bd:"session"};function bu(){var t=!(kr(gr())||!lr()),e=Cr(),n=vr();this.m=t,this.h=e,this.l=n,this.a={},fu||(fu=new hu),t=fu;try{this.g=!Jn()&&Dr()||!a.indexedDB?new t.a.C:new iu(ur()?new ou:new t.a.C)}catch(r){this.g=new ou,this.h=!0}try{this.i=new t.a.Sa}catch(r){this.i=new ou}this.u=new ou,this.f=C(this.Pb,this),this.b={}}function wu(){return pu||(pu=new bu),pu}function _u(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Cu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Eu(t,e,n){return n=Cu(e,n),"local"==e.C&&(t.b[n]=null),_u(t,e.C).S(n)}function Su(t){t.c&&(clearInterval(t.c),t.c=null)}function Tu(t){this.a=t,this.b=wu()}(t=bu.prototype).get=function(t,e){return _u(this,t.C).get(Cu(t,e))},t.set=function(t,e,n){var r=Cu(t,n),i=this,o=_u(this,t.C);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.C&&(i.b[r]=e)})},t.addListener=function(t,e,n){t=Cu(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),W(this.a)&&(_u(this,"local").$(this.f),this.h||(Jn()||!Dr())&&a.indexedDB||!this.l||function(t){Su(t),t.c=setInterval(function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Me({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Pb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Cu(t,e),this.a[t]&&(z(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),W(this.a)&&(_u(this,"local").ea(this.f),Su(this))},t.Pb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.Za(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?_u(this,"local").ea(this.f):Su(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.Za(e))},ve&&ke&&10==ke&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else V(t,C(this.Za,this))},t.Za=function(t){this.a[t]&&V(this.a[t],function(t){t()})};var Iu,ku={name:"authEvent",C:"local"};function Ou(){this.a=wu()}function xu(t,e){this.b=Au,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0!==Iu||(Iu=a.Int32Array?new Int32Array(Lu):Lu),this.reset()}T(xu,function(){this.b=-1});for(var Au=64,Nu=Au-1,Du=[],Pu=0;Pu<Nu;Pu++)Du[Pu]=0;var Ru=H(128,Du);function Mu(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var l=0|t.a[2],u=0|t.a[3],s=0|t.a[4],c=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&l^i&l)|0;a=(o=o+((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))|0)+((a=(a=s&c^~s&h)+(0|Iu[e])|0)+(0|n[e])|0)|0,o=h,h=c,c=s,s=u+a|0,u=l,l=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+l|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+s|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function ju(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if(l(e))for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(Mu(t),i=0);else{if(!m(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(Mu(t),i=0)}}t.c=i,t.g+=n}xu.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):K(this.h)};var Lu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Vu(){xu.call(this,8,Fu)}T(Vu,xu);var Fu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Uu(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.o=i||null,this.h=e+":"+n,this.v=new Ou,this.g=new Tu(this.h),this.f=null,this.b=[],this.a=this.c=null}function qu(t){return new Xr("invalid-cordova-configuration",t)}function Bu(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function zu(t){return t.f||(t.f=t.ia().then(function(){return new zt(function(e){t.ya(function n(r){return e(r),t.La(n),!1}),function(t){function e(e){r=!0,i&&i.cancel(),Hu(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=qi(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Tr(Cn(o=En(i),"firebaseError")||null))?Jr(o):null)?new wo(r.c,r.b,null,null,o,null,r.R()):new wo(r.c,r.b,i,r.f,null,null,r.R())),i=o||n}Bu(t,i)})}var n=new wo("unknown",null,null,null,new Xr("no-auth-event")),r=!1,i=cn(500).then(function(){return Hu(t).then(function(){r||Bu(t,n)})}),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(yr("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},So||(So=new Co),function(t){var e=So;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=yr("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)})})),t.f}function Hu(t){var e=null;return function(t){return t.b.get(ku,t.a).then(function(t){return _o(t)})}(t.g).then(function(n){return e=n,Eu((n=t.g).b,ku,n.a)}).then(function(){return e})}function Ku(t){this.a=t,this.b=wu()}(t=Uu.prototype).ia=function(){return this.Ba?this.Ba:this.Ba=(ar(void 0)?or().then(function(){return new zt(function(t,e){var n=a.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):Jt(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof yr("universalLinks.subscribe",a))throw qu("cordova-universal-links-plugin-fix is not installed");if(void 0===yr("BuildInfo.packageName",a))throw qu("cordova-plugin-buildinfo is not installed");if("function"!=typeof yr("cordova.plugins.browsertab.openUrl",a))throw qu("cordova-plugin-browsertab is not installed");if("function"!=typeof yr("cordova.InAppBrowser.open",a))throw qu("cordova-plugin-inappbrowser is not installed")},function(){throw new Xr("cordova-not-ready")})},t.Fb=function(t,e){return e(new Xr("operation-not-supported-in-this-environment")),Xt()},t.Db=function(){return Jt(new Xr("operation-not-supported-in-this-environment"))},t.Rb=function(){return!1},t.Ob=function(){return!0},t.Jb=function(){return!0},t.Eb=function(t,e,n,r){if(this.c)return Jt(new Xr("redirect-operation-pending"));var i=this,o=a.document,l=null,u=null,s=null,c=null;return this.c=Xt().then(function(){return bo(e),zu(i)}).then(function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),l=new wo(e,r,null,o,new Xr("no-auth-event"),null,i),u=yr("BuildInfo.packageName",a);if("string"!=typeof u)throw new Xr("invalid-cordova-configuration");var s=yr("BuildInfo.displayName",a),c={};if(gr().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=u;else{if(!gr().toLowerCase().match(/android/))return Jt(new Xr("operation-not-supported-in-this-environment"));c.apn=u}s&&(c.appDisplayName=s),o=function(t){var e=new Vu;ju(e,t),t=[];var n=8*e.g;ju(e,Ru,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(Mu(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return F(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),c.sessionId=o;var h=Fl(t.u,t.i,t.l,e,n,null,r,t.m,c,t.o,i);return t.ia().then(function(){var e=t.h;return t.v.a.set(ku,l.A(),e)}).then(function(){var e=yr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new Xr("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=yr("cordova.plugins.browsertab.openUrl",a)))throw new Xr("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=yr("cordova.InAppBrowser.open",a)))throw new Xr("invalid-cordova-configuration");e=gr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new zt(function(t,e){u=function(){var e=yr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.ya(u),c=function(){Ar()&&s()},o.addEventListener("resume",s=function(){l||(l=cn(2e3).then(function(){e(new Xr("redirect-cancelled-by-user"))}))},!1),gr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)}).s(function(t){return Hu(i).then(function(){throw t})})}).ka(function(){s&&o.removeEventListener("resume",s,!1),c&&o.removeEventListener("visibilitychange",c,!1),l&&l.cancel(),u&&i.La(u),i.c=null})},t.ya=function(t){this.b.push(t),zu(this).s(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new wo("unknown",null,null,null,new Xr("no-auth-event")),t(e))})},t.La=function(t){z(this.b,function(e){return e==t})};var Gu={name:"pendingRedirect",C:"session"};function Wu(t){return Eu(t.b,Gu,t.a)}function Qu(t,e,n){this.i={},this.v=0,this.B=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=C(this.o,this),this.b=new us,this.w=new ps,this.g=new Ku(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.w,this.c.linkViaPopup=this.w,this.c.reauthViaPopup=this.w,this.a=Yu(this.B,this.u,this.m,Ti)}function Yu(t,e,n,r){var o=i.a.SDK_VERSION||null;return ar()?new Uu(t,e,n,o,r):new Ml(t,e,n,o,r)}function Xu(t){t.f||(t.f=!0,t.a.ya(t.l));var e=t.a;return t.a.ia().s(function(n){throw t.a==e&&t.reset(),n})}function Ju(t){t.a.Ob()&&Xu(t).s(function(e){var n=new wo("unknown",null,null,null,new Xr("operation-not-supported-in-this-environment"));rs(e)&&t.o(n)}),t.a.Jb()||ss(t.b)}function Zu(t,e){q(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Gu,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?Wu(t.g).then(function(){Xu(t).s(function(e){var n=new wo("unknown",null,null,null,new Xr("operation-not-supported-in-this-environment"));rs(e)&&t.o(n)})}):Ju(t)}).s(function(){Ju(t)})}function $u(t,e){z(t.h,function(t){return t==e})}Qu.prototype.reset=function(){this.f=!1,this.a.La(this.l),this.a=Yu(this.B,this.u,this.m),this.i={}},Qu.prototype.o=function(t){if(!t)throw new Xr("invalid-auth-event");if(6e5<=S()-this.v&&(this.i={},this.v=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.xb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.v=S())),e=!0;break}}return ss(this.b),e};var ts=new xr(2e3,1e4),es=new xr(3e4,6e4);function ns(t,e,n,r,i,o,a){return t.a.Db(e,n,r,function(){t.f||(t.f=!0,t.a.ya(t.l))},function(){t.reset()},i,o,a)}function rs(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function is(t,e,n,r,i){var o;return function(t){return t.b.set(Gu,"pending",t.a)}(t.g).then(function(){return t.a.Eb(e,n,r,i).s(function(e){if(rs(e))throw new Xr("operation-not-supported-in-this-environment");return o=e,Wu(t.g).then(function(){throw o})}).then(function(){return t.a.Rb()?new zt(function(){}):Wu(t.g).then(function(){return t.oa()}).then(function(){}).s(function(){})})})}function os(t,e,n,r,i){return t.a.Fb(r,function(t){e.ja(n,null,t,i)},ts.get())}Qu.prototype.oa=function(){return this.b.oa()};var as={};function ls(t,e,n){var r=e+":"+n;return as[r]||(as[r]=new Qu(t,e,n)),as[r]}function us(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function ss(t){t.g||(t.g=!0,fs(t,!1,null,null))}function cs(t){t.g&&!t.i&&fs(t,!1,null,null)}function hs(t,e){if(t.b=function(){return Xt(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function fs(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Jt(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):hs(t,n):hs(t,{user:null}),t.f=[],t.c=[]}function ps(){}function ds(){this.vb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.vb},set:function(t){this.vb=t},enumerable:!1})}function ms(t,e){this.a=e,Lr(this,"verificationId",t)}function gs(t,e,n,r){return new go(t).Va(e,n).then(function(t){return new ms(t,r)})}function ys(t){var e=Si(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new Xr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Vr(this,{token:t,expirationTime:Nr(1e3*e.exp),authTime:Nr(1e3*e.auth_time),issuedAtTime:Nr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}function vs(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function bs(t){this.f=t,this.b=this.a=null,this.c=0}function ws(t,e){var n=e[xa],r=e.refreshToken;e=_s(e.expiresIn),t.b=n,t.c=e,t.a=r}function _s(t){return S()+1e3*parseInt(t,10)}function Cs(t,e){this.a=t||null,this.b=e||null,Vr(this,{lastSignInTime:Nr(e||null),creationTime:Nr(t||null)})}function Es(t,e,n,r,i,o){Vr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function Ss(t,e){for(var n in Re.call(this,t),e)this[n]=e[n]}function Ts(t,e,n){this.I=[],this.l=t.apiKey,this.m=t.appName,this.o=t.authDomain||null,t=i.a.SDK_VERSION?mr(i.a.SDK_VERSION):null,this.a=new ka(this.l,ki(Ti),t),this.b=new bs(this.a),Ds(this,e[xa]),ws(this.b,e),Lr(this,"refreshToken",this.b.a),Ms(this,n||{}),on.call(this),this.J=!1,this.o&&br()&&(this.i=ls(this.o,this.l,this.m)),this.O=[],this.h=null,this.w=function(t){return new vs(function(){return t.G(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.b.c-S()-3e5;return 0<e?e:0})}(this),this.W=C(this.Ha,this);var r=this;this.ga=null,this.va=function(t){r.sa(t.g)},this.Z=null,this.P=[],this.ua=function(t){ks(r,t.c)},this.Y=null}function Is(t,e){t.Z&&Ye(t.Z,"languageCodeChanged",t.va),(t.Z=e)&&Ge(e,"languageCodeChanged",t.va)}function ks(t,e){t.P=e,Ma(t.a,i.a.SDK_VERSION?mr(i.a.SDK_VERSION,t.P):null)}function Os(t,e){t.Y&&Ye(t.Y,"frameworkChanged",t.ua),(t.Y=e)&&Ge(e,"frameworkChanged",t.ua)}function xs(t){try{return i.a.app(t.m).auth()}catch(e){throw new Xr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function As(t){t.B||t.w.b||(t.w.start(),Ye(t,"tokenChanged",t.W),Ge(t,"tokenChanged",t.W))}function Ns(t){Ye(t,"tokenChanged",t.W),t.w.stop()}function Ds(t,e){t.ma=e,Lr(t,"_lat",e)}function Ps(t){for(var e=[],n=0;n<t.O.length;n++)e.push(t.O[n](t));return $t(e).then(function(){return t})}function Rs(t){t.i&&!t.J&&(t.J=!0,Zu(t.i,t))}function Ms(t,e){Vr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new Cs(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function js(){}function Ls(t){return Xt().then(function(){if(t.B)throw new Xr("app-deleted")})}function Vs(t){return F(t.providerData,function(t){return t.providerId})}function Fs(t,e){e&&(Us(t,e.providerId),t.providerData.push(e))}function Us(t,e){z(t.providerData,function(t){return t.providerId==e})}function qs(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Lr(t,e,n)}function Bs(t,e){t!=e&&(Vr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Lr(t,"metadata",e.metadata?function(t){return new Cs(t.a,t.b)}(e.metadata):new Cs),V(e.providerData,function(e){Fs(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Lr(t,"refreshToken",t.b.a))}function zs(t){return t.G().then(function(e){var n=t.isAnonymous;return function(t,e){return Sl(t.a,ol,{idToken:e}).then(C(t.zc,t))}(t,e).then(function(){return n||qs(t,"isAnonymous",!1),e})})}function Hs(t,e){e[xa]&&t.ma!=e[xa]&&(ws(t.b,e),t.dispatchEvent(new Ss("tokenChanged")),Ds(t,e[xa]),qs(t,"refreshToken",t.b.a))}function Ks(t,e){return zs(t).then(function(){if(q(Vs(t),e))return Ps(t).then(function(){throw new Xr("provider-already-linked")})})}function Gs(t,e,n){return Fr({user:t,credential:vo(e),additionalUserInfo:e=Di(e),operationType:n})}function Ws(t,e){return Hs(t,e),t.reload().then(function(){return t})}function Qs(t,e,n,r,o){if(!br())return Jt(new Xr("operation-not-supported-in-this-environment"));if(t.h&&!o)return Jt(t.h);var a=Ni(n.providerId),l=Ir(t.uid+":::"),u=null;(!Cr()||lr())&&t.o&&n.isOAuthProvider&&(u=Fl(t.o,t.l,t.m,e,n,null,l,i.a.SDK_VERSION||null,null,null,t.tenantId));var s=nr(u,a&&a.Da,a&&a.Ca);return r=r().then(function(){if(Xs(t),!o)return t.G().then(function(){})}).then(function(){return ns(t.i,s,e,n,l,!!u,t.tenantId)}).then(function(){return new zt(function(n,r){t.ja(e,null,new Xr("cancelled-popup-request"),t.g||null),t.f=n,t.v=r,t.g=l,t.c=os(t.i,t,e,s,l)})}).then(function(t){return s&&er(s),t?Fr(t):null}).s(function(t){throw s&&er(s),t}),Js(t,r,o)}function Ys(t,e,n,r,i){if(!br())return Jt(new Xr("operation-not-supported-in-this-environment"));if(t.h&&!i)return Jt(t.h);var o=null,a=Ir(t.uid+":::");return r=r().then(function(){if(Xs(t),!i)return t.G().then(function(){})}).then(function(){return t.ca=a,Ps(t)}).then(function(e){return t.da&&(e=(e=t.da).b.set(tc,t.A(),e.a)),e}).then(function(){return is(t.i,e,n,a,t.tenantId)}).s(function(e){if(o=e,t.da)return ec(t.da);throw o}).then(function(){if(o)throw o}),Js(t,r,i)}function Xs(t){if(!t.i||!t.J){if(t.i&&!t.J)throw new Xr("internal-error");throw new Xr("auth-domain-config-required")}}function Js(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Jt(t.h)):e.s(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new Ss("userInvalidated")),t.h=e),e})}(t,e,n);return t.I.push(r),r.ka(function(){B(t.I,r)}),r}function Zs(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[xa]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-S())/1e3;var r=new Ts(e,n,t);return t.providerData&&V(t.providerData,function(t){t&&Fs(r,Fr(t))}),t.redirectEventId&&(r.ca=t.redirectEventId),r}function $s(t){this.a=t,this.b=wu()}us.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},us.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(fs(this,!0,null,t.a),Xt()):e.za(n,r)?function(t,e,n){n=n.za(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.R(),l=!!e.c.match(/Redirect$/);n(r,i,a,o).then(function(e){fs(t,l,e,null)}).s(function(e){fs(t,l,null,e)})}(this,t,e):Jt(new Xr("invalid-auth-event")):(fs(this,!1,null,null),Xt())}else Jt(new Xr("invalid-auth-event"))},us.prototype.oa=function(){var t=this;return new zt(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new Xr("timeout");t.a&&t.a.cancel(),t.a=cn(es.get()).then(function(){t.b||(t.g=!0,fs(t,!0,null,e))})}(t))})},ps.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ja(t.c,null,t.a,t.b),Xt()):e.za(n,r)?function(t,e){var n=t.b,r=t.c;e.za(r,n)(t.g,t.f,t.R(),t.i).then(function(t){e.ja(r,t,null,n)}).s(function(t){e.ja(r,null,t,n)})}(t,e):Jt(new Xr("invalid-auth-event"))}else Jt(new Xr("invalid-auth-event"))},ms.prototype.confirm=function(t){return t=yo(this.verificationId,t),this.a(t)},vs.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=cn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then(function(){return t=a.document,e=null,Ar()||!t?Xt():new zt(function(n){e=function(){Ar()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).s(function(n){throw t.removeEventListener("visibilitychange",e,!1),n});var t,e}).then(function(){return e.h()}).then(function(){t(e,!0)}).s(function(n){e.i(n)&&t(e,!1)})}(this,!0)},vs.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},bs.prototype.A=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},bs.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Jt(new Xr("user-token-expired")):t||!this.b||S()>this.c-3e4?this.a?function(t,e){return function(t,e){return new zt(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ja(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?r(Il(t)):t.access_token&&t.refresh_token?n(t):r(new Xr("internal-error")):r(new Xr("network-request-failed"))},"POST",Mn(e).toString(),t.g,t.u.get()):r(new Xr("internal-error"))})}(t.f,e).then(function(e){return t.b=e.access_token,t.c=_s(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}}).s(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Xt(null):Xt({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},Cs.prototype.A=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(Ss,Re),T(Ts,on),Ts.prototype.sa=function(t){this.ga=t,Ra(this.a,t)},Ts.prototype.ha=function(){return this.ga},Ts.prototype.Aa=function(){return K(this.P)},Ts.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},Lr(Ts.prototype,"providerId","firebase"),(t=Ts.prototype).reload=function(){var t=this;return Js(this,Ls(this).then(function(){return zs(t).then(function(){return Ps(t)}).then(js)}))},t.dc=function(t){return this.G(t).then(function(t){return new ys(t)})},t.G=function(t){var e=this;return Js(this,Ls(this).then(function(){return e.b.getToken(t)}).then(function(t){if(!t)throw new Xr("internal-error");return t.accessToken!=e.ma&&(Ds(e,t.accessToken),e.dispatchEvent(new Ss("tokenChanged"))),qs(e,"refreshToken",t.refreshToken),t.accessToken}))},t.zc=function(t){if(!(t=t.users)||!t.length)throw new Xr("internal-error");Ms(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?F(t,function(t){return new Es(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Fs(this,e[n]);qs(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},t.Ac=function(t){return Mr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.gb(t)},t.gb=function(t){var e=this,n=null;return Js(this,t.f(this.a,this.uid).then(function(t){return Hs(e,t),n=Gs(e,t,"reauthenticate"),e.h=null,e.reload()}).then(function(){return n}),!0)},t.rc=function(t){return Mr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.eb(t)},t.eb=function(t){var e=this,n=null;return Js(this,Ks(this,t.providerId).then(function(){return e.G()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=Gs(e,t,"link"),Ws(e,t)}).then(function(){return n}))},t.sc=function(t,e){var n=this;return Js(this,Ks(this,"phone").then(function(){return gs(xs(n),t,e,C(n.eb,n))}))},t.Bc=function(t,e){var n=this;return Js(this,Xt().then(function(){return gs(xs(n),t,e,C(n.gb,n))}),!0)},t.rb=function(t){var e=this;return Js(this,this.G().then(function(n){return e.a.rb(n,t)}).then(function(t){return Hs(e,t),e.reload()}))},t.Sc=function(t){var e=this;return Js(this,this.G().then(function(n){return t.b(e.a,n)}).then(function(t){return Hs(e,t),e.reload()}))},t.sb=function(t){var e=this;return Js(this,this.G().then(function(n){return e.a.sb(n,t)}).then(function(t){return Hs(e,t),e.reload()}))},t.tb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Ls(this);var e=this;return Js(this,this.G().then(function(n){return e.a.tb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Hs(e,t),qs(e,"displayName",t.displayName||null),qs(e,"photoURL",t.photoUrl||null),V(e.providerData,function(t){"password"===t.providerId&&(Lr(t,"displayName",e.displayName),Lr(t,"photoURL",e.photoURL))}),Ps(e)}).then(js))},t.Qc=function(t){var e=this;return Js(this,zs(this).then(function(n){return q(Vs(e),t)?function(t,e,n){return Sl(t,nl,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return V(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),V(Vs(e),function(t){n[t]||Us(e,t)}),n[go.PROVIDER_ID]||Lr(e,"phoneNumber",null),Ps(e)}):Ps(e).then(function(){throw new Xr("no-such-provider")})}))},t.delete=function(){var t=this;return Js(this,this.G().then(function(e){return Sl(t.a,el,{idToken:e})}).then(function(){t.dispatchEvent(new Ss("userDeleted"))})).then(function(){for(var e=0;e<t.I.length;e++)t.I[e].cancel("app-deleted");Is(t,null),Os(t,null),t.I=[],t.B=!0,Ns(t),Lr(t,"refreshToken",null),t.i&&$u(t.i,t)})},t.xb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ca||null)==e||"reauthViaRedirect"==t&&(this.ca||null)==e)},t.ja=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.za=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?C(this.Bb,this):"reauthViaPopup"==t&&e==(this.g||null)?C(this.Cb,this):"linkViaRedirect"==t&&(this.ca||null)==e?C(this.Bb,this):"reauthViaRedirect"==t&&(this.ca||null)==e?C(this.Cb,this):null},t.tc=function(t){var e=this;return Qs(this,"linkViaPopup",t,function(){return Ks(e,t.providerId).then(function(){return Ps(e)})},!1)},t.Cc=function(t){return Qs(this,"reauthViaPopup",t,function(){return Xt()},!0)},t.uc=function(t){var e=this;return Ys(this,"linkViaRedirect",t,function(){return Ks(e,t.providerId)},!1)},t.Dc=function(t){return Ys(this,"reauthViaRedirect",t,function(){return Xt()},!0)},t.Bb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Js(this,this.G().then(function(n){return Qa(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return o=Gs(i,t,"link"),Ws(i,t)}).then(function(){return o}))},t.Cb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Js(this,Xt().then(function(){return zi(Ya(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=Gs(i,t,"reauthenticate"),Hs(i,t),i.h=null,i.reload()}).then(function(){return o}),!0)},t.jb=function(t){var e=this,n=null;return Js(this,this.G().then(function(e){return n=e,void 0===t||W(t)?{}:bi(new si(t))}).then(function(t){return e.a.jb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.toJSON=function(){return this.A()},t.A=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.A(),redirectEventId:this.ca||null};return this.metadata&&X(t,this.metadata.A()),V(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),t};var tc={name:"redirectUser",C:"session"};function ec(t){return Eu(t.b,tc,t.a)}function nc(t){this.a=t,this.b=wu(),this.c=null,this.f=function(t){var e=oc("local"),n=oc("session"),r=oc("none");return function(t,e,n){var r=Cu(e,n),i=_u(t,e.C);return t.get(e,n).then(function(o){var l=null;try{l=Tr(a.localStorage.getItem(r))}catch(u){}if(l&&!o)return a.localStorage.removeItem(r),t.set(e,l,n);l&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(ic,t.a).then(function(t){return t?oc(t):e})})})}).then(function(e){return t.c=e,rc(t,e.C)}).s(function(){t.c||(t.c=e)})}(this),this.b.addListener(oc("local"),this.a,C(this.g,this))}function rc(t,e){var n,r=[];for(n in vu)vu[n]!==e&&r.push(Eu(t.b,oc(vu[n]),t.a));return r.push(Eu(t.b,ic,t.a)),function(t){return new zt(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},l=0;l<t.length;l++)Zt(t[l],E(o,l),a);else e(i)})}(r)}nc.prototype.g=function(){var t=this,e=oc("local");sc(this,function(){return Xt().then(function(){return t.c&&"local"!=t.c.C?t.b.get(e,t.a):null}).then(function(n){if(n)return rc(t,"local").then(function(){t.c=e})})})};var ic={name:"persistence",C:"session"};function oc(t){return{name:"authUser",C:t}}function ac(t,e){return sc(t,function(){return t.b.set(t.c,e.A(),t.a)})}function lc(t){return sc(t,function(){return Eu(t.b,t.c,t.a)})}function uc(t,e){return sc(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),Zs(t||{})})})}function sc(t,e){return t.f=t.f.then(e,e),t.f}function cc(t){if(this.l=!1,Lr(this,"settings",new ds),Lr(this,"app",t),!vc(this).options||!vc(this).options.apiKey)throw new Xr("invalid-api-key");t=i.a.SDK_VERSION?mr(i.a.SDK_VERSION):null,this.b=new ka(vc(this).options&&vc(this).options.apiKey,ki(Ti),t),this.O=[],this.m=[],this.J=[],this.Ub=i.a.INTERNAL.createSubscribe(C(this.oc,this)),this.W=void 0,this.Vb=i.a.INTERNAL.createSubscribe(C(this.pc,this)),gc(this,null),this.h=new nc(vc(this).options.apiKey+":"+vc(this).name),this.w=new $s(vc(this).options.apiKey+":"+vc(this).name),this.Y=Cc(this,function(t){var e=vc(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(tc,t.a).then(function(t){return t&&e&&(t.authDomain=e),Zs(t||{})})}(t.w,vc(t).options.authDomain).then(function(e){return(t.B=e)&&(e.da=t.w),ec(t.w)});return Cc(t,e)}(t).then(function(){return uc(t.h,e)}).then(function(e){return e?(e.da=t.w,t.B&&(t.B.ca||null)==(e.ca||null)?e:e.reload().then(function(){return ac(t.h,e).then(function(){return e})}).s(function(n){return"auth/network-request-failed"==n.code?e:lc(t.h)})):null}).then(function(e){gc(t,e||null)});return Cc(t,n)}(this)),this.i=Cc(this,function(t){return t.Y.then(function(){return dc(t)}).s(function(){}).then(function(){if(!t.l)return t.ma()}).s(function(){}).then(function(){if(!t.l){t.ga=!0;var e=t.h;e.b.addListener(oc("local"),e.a,t.ma)}})}(this)),this.ga=!1,this.ma=C(this.Nc,this),this.ub=C(this.aa,this),this.ua=C(this.bc,this),this.va=C(this.mc,this),this.Ha=C(this.nc,this),this.a=null,function(t){var e=vc(t).options.authDomain,n=vc(t).options.apiKey;e&&br()&&(t.Tb=t.Y.then(function(){if(!t.l){if(t.a=ls(e,n,vc(t).name),Zu(t.a,t),bc(t)&&Rs(bc(t)),t.B){Rs(t.B);var r=t.B;r.sa(t.ha()),Is(r,t),ks(r=t.B,t.I),Os(r,t),t.B=null}return t.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=C(this.delete,this),this.INTERNAL.logFramework=C(this.vc,this),this.o=0,on.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ha()},set:function(t){this.sa(t)},enumerable:!1}),t.Z=null,Object.defineProperty(t,"ti",{get:function(){return this.R()},set:function(t){this.nb(t)},enumerable:!1}),t.P=null}(this),this.I=[]}function hc(t){Re.call(this,"languageCodeChanged"),this.g=t}function fc(t){Re.call(this,"frameworkChanged"),this.c=t}function pc(t){return t.Tb||Jt(new Xr("auth-domain-config-required"))}function dc(t){if(!br())return Jt(new Xr("operation-not-supported-in-this-environment"));var e=pc(t).then(function(){return t.a.oa()}).then(function(t){return t?Fr(t):null});return Cc(t,e)}function mc(t,e){var n={};return n.apiKey=vc(t).options.apiKey,n.authDomain=vc(t).options.authDomain,n.appName=vc(t).name,t.Y.then(function(){return function(t,e,n,r){var i=new Ts(t,e);return n&&(i.da=n),r&&ks(i,r),i.reload().then(function(){return i})}(n,e,t.w,t.Aa())}).then(function(e){return bc(t)&&e.uid==bc(t).uid?(Bs(bc(t),e),t.aa(e)):(gc(t,e),Rs(e),t.aa(e))}).then(function(){_c(t)})}function gc(t,e){bc(t)&&(function(t,e){z(t.O,function(t){return t==e})}(bc(t),t.ub),Ye(bc(t),"tokenChanged",t.ua),Ye(bc(t),"userDeleted",t.va),Ye(bc(t),"userInvalidated",t.Ha),Ns(bc(t))),e&&(e.O.push(t.ub),Ge(e,"tokenChanged",t.ua),Ge(e,"userDeleted",t.va),Ge(e,"userInvalidated",t.Ha),0<t.o&&As(e)),Lr(t,"currentUser",e),e&&(e.sa(t.ha()),Is(e,t),ks(e,t.I),Os(e,t))}function yc(t,e){var n=null,r=null;return Cc(t,e.then(function(e){return n=vo(e),r=Di(e),mc(t,e)}).then(function(){return Fr({user:bc(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function vc(t){return t.app}function bc(t){return t.currentUser}function wc(t){return bc(t)&&bc(t)._lat||null}function _c(t){if(t.ga){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](wc(t));if(t.W!==t.getUid()&&t.J.length)for(t.W=t.getUid(),e=0;e<t.J.length;e++)t.J[e]&&t.J[e](wc(t))}}function Cc(t,e){return t.O.push(e),e.ka(function(){B(t.O,e)}),e}function Ec(){}function Sc(){this.a={},this.b=1e12}nc.prototype.mb=function(t){var e=null,n=this;return function(t){var e=new Xr("invalid-persistence-type"),n=new Xr("unsupported-persistence-type");t:{for(r in vu)if(vu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(sr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!vr()&&"none"!==t)throw n}}(t),sc(this,function(){return t!=n.c.C?n.b.get(n.c,n.a).then(function(r){return e=r,rc(n,t)}).then(function(){if(n.c=oc(t),e)return n.b.set(n.c,e,n.a)}):Xt()})},T(cc,on),T(hc,Re),T(fc,Re),(t=cc.prototype).mb=function(t){return Cc(this,t=this.h.mb(t))},t.sa=function(t){this.Z===t||this.l||(this.Z=t,Ra(this.b,this.Z),this.dispatchEvent(new hc(this.ha())))},t.ha=function(){return this.Z},t.Tc=function(){var t=a.navigator;this.sa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.vc=function(t){this.I.push(t),Ma(this.b,i.a.SDK_VERSION?mr(i.a.SDK_VERSION,this.I):null),this.dispatchEvent(new fc(this.I))},t.Aa=function(){return K(this.I)},t.nb=function(t){this.P===t||this.l||(this.P=t,this.b.b=this.P)},t.R=function(){return this.P},t.toJSON=function(){return{apiKey:vc(this).options.apiKey,authDomain:vc(this).options.authDomain,appName:vc(this).name,currentUser:bc(this)&&bc(this).A()}},t.xb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.ja=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.za=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?C(this.ac,this):null},t.ac=function(t,e,n,r){var i=this;t={requestUri:t,postBody:r,sessionId:e,tenantId:n},this.c&&(this.c.cancel(),this.c=null);var o=null,a=null,l=Wa(i.b,t).then(function(t){return o=vo(t),a=Di(t),t});return Cc(this,t=i.Y.then(function(){return l}).then(function(t){return mc(i,t)}).then(function(){return Fr({user:bc(i),credential:o,additionalUserInfo:a,operationType:"signIn"})}))},t.Lc=function(t){if(!br())return Jt(new Xr("operation-not-supported-in-this-environment"));var e=this,n=Ni(t.providerId),r=Ir(),o=null;(!Cr()||lr())&&vc(this).options.authDomain&&t.isOAuthProvider&&(o=Fl(vc(this).options.authDomain,vc(this).options.apiKey,vc(this).name,"signInViaPopup",t,null,r,i.a.SDK_VERSION||null,null,null,this.R()));var a=nr(o,n&&n.Da,n&&n.Ca);return Cc(this,n=pc(this).then(function(n){return ns(n,a,"signInViaPopup",t,r,!!o,e.R())}).then(function(){return new zt(function(t,n){e.ja("signInViaPopup",null,new Xr("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=r,e.c=os(e.a,e,"signInViaPopup",a,r)})}).then(function(t){return a&&er(a),t?Fr(t):null}).s(function(t){throw a&&er(a),t}))},t.Mc=function(t){if(!br())return Jt(new Xr("operation-not-supported-in-this-environment"));var e=this;return Cc(this,pc(this).then(function(){return sc(t=e.h,function(){return t.b.set(ic,t.c.C,t.a)});var t}).then(function(){return is(e.a,"signInViaRedirect",t,void 0,e.R())}))},t.oa=function(){var t=this;return dc(this).then(function(e){return t.a&&cs(t.a.b),e}).s(function(e){throw t.a&&cs(t.a.b),e})},t.Rc=function(t){if(!t)return Jt(new Xr("null-user"));if(this.P!=t.tenantId)return Jt(new Xr("tenant-id-mismatch"));var e=this,n={};n.apiKey=vc(this).options.apiKey,n.authDomain=vc(this).options.authDomain,n.appName=vc(this).name;var r=function(t,e,n,r){e=e||{apiKey:t.l,authDomain:t.o,appName:t.m};var i=t.b,o={};return o[xa]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-S())/1e3,e=new Ts(e,o),n&&(e.da=n),r&&ks(e,r),Bs(e,t),e}(t,n,e.w,e.Aa());return Cc(this,this.i.then(function(){if(vc(e).options.apiKey!=t.l)return r.reload()}).then(function(){return bc(e)&&t.uid==bc(e).uid?(Bs(bc(e),t),e.aa(t)):(gc(e,r),Rs(r),e.aa(r))}).then(function(){_c(e)}))},t.pb=function(){var t=this;return Cc(this,this.i.then(function(){return t.a&&cs(t.a.b),bc(t)?(gc(t,null),lc(t.h).then(function(){_c(t)})):Xt()}))},t.Nc=function(){var t=this;return uc(this.h,vc(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=bc(t)&&e){n=bc(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Bs(bc(t),e),bc(t).G();(bc(t)||e)&&(gc(t,e),e&&(Rs(e),e.da=t.w),t.a&&Zu(t.a,t),_c(t))}})},t.aa=function(t){return ac(this.h,t)},t.bc=function(){_c(this),this.aa(bc(this))},t.mc=function(){this.pb()},t.nc=function(){this.pb()},t.oc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(bc(e))})},t.pc=function(t){var e=this;!function(t,e){t.J.push(e),Cc(t,t.i.then(function(){!t.l&&q(t.J,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(wc(t)))}))}(this,function(){t.next(bc(e))})},t.xc=function(t,e,n){var r=this;return this.ga&&Promise.resolve().then(function(){g(t)?t(bc(r)):g(t.next)&&t.next(bc(r))}),this.Ub(t,e,n)},t.wc=function(t,e,n){var r=this;return this.ga&&Promise.resolve().then(function(){r.W=r.getUid(),g(t)?t(bc(r)):g(t.next)&&t.next(bc(r))}),this.Vb(t,e,n)},t.cc=function(t){var e=this;return Cc(this,this.i.then(function(){return bc(e)?bc(e).G(t).then(function(t){return{accessToken:t}}):null}))},t.Hc=function(t){var e=this;return this.i.then(function(){return yc(e,Sl(e.b,bl,{token:t}))}).then(function(t){var n=t.user;return qs(n,"isAnonymous",!1),e.aa(n),t})},t.Ic=function(t,e){var n=this;return this.i.then(function(){return yc(n,Sl(n.b,wl,{email:t,password:e}))})},t.Xb=function(t,e){var n=this;return this.i.then(function(){return yc(n,Sl(n.b,$a,{email:t,password:e}))})},t.Ra=function(t){var e=this;return this.i.then(function(){return yc(e,t.na(e.b))})},t.Gc=function(t){return Mr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ra(t)},t.ob=function(){var t=this;return this.i.then(function(){var e=bc(t);if(e&&e.isAnonymous){var n=Fr({providerId:null,isNewUser:!1});return Fr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return yc(t,t.b.ob()).then(function(e){var n=e.user;return qs(n,"isAnonymous",!0),t.aa(n),e})})},t.getUid=function(){return bc(this)&&bc(this).uid||null},t.Wb=function(t){this.addAuthTokenListener(t),this.o++,0<this.o&&bc(this)&&As(bc(this))},t.Ec=function(t){var e=this;V(this.m,function(n){n==t&&e.o--}),0>this.o&&(this.o=0),0==this.o&&bc(this)&&Ns(bc(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),Cc(this,this.i.then(function(){e.l||q(e.m,t)&&t(wc(e))}))},t.removeAuthTokenListener=function(t){z(this.m,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.O.length;t++)this.O[t].cancel("app-deleted");return this.O=[],this.h&&(t=this.h).b.removeListener(oc("local"),t.a,this.ma),this.a&&($u(this.a,this),cs(this.a.b)),Promise.resolve()},t.$b=function(t){return Cc(this,function(t,e){return Sl(t,tl,{identifier:e,continueUri:wr()?Zn():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.b,t))},t.qc=function(t){return!!ho(t)},t.lb=function(t,e){var n=this;return Cc(this,Xt().then(function(){var t=new si(e);if(!t.c)throw new Xr("argument-error",fi+" must be true when sending sign in link to email");return bi(t)}).then(function(e){return n.b.lb(t,e)}).then(function(){}))},t.Uc=function(t){return this.Ka(t).then(function(t){return t.data.email})},t.$a=function(t,e){return Cc(this,this.b.$a(t,e).then(function(){}))},t.Ka=function(t){return Cc(this,this.b.Ka(t).then(function(t){return new qr(t)}))},t.Xa=function(t){return Cc(this,this.b.Xa(t).then(function(){}))},t.kb=function(t,e){var n=this;return Cc(this,Xt().then(function(){return void 0===e||W(e)?{}:bi(new si(e))}).then(function(e){return n.b.kb(t,e)}).then(function(){}))},t.Kc=function(t,e){return Cc(this,gs(this,t,e,C(this.Ra,this)))},t.Jc=function(t,e){var n=this;return Cc(this,Xt().then(function(){var r=e||Zn(),i=co(t,r);if(!(r=ho(r)))throw new Xr("argument-error","Invalid email link!");if(r.tenantId!==n.R())throw new Xr("tenant-id-mismatch");return n.Ra(i)}))},Ec.prototype.render=function(){},Ec.prototype.reset=function(){},Ec.prototype.getResponse=function(){},Ec.prototype.execute=function(){};var Tc=null;function Ic(t,e){return(e=kc(e))&&t.a[e]||null}function kc(t){return(t=void 0===t?1e12:t)?t.toString():null}function Oc(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Bn(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():Ge(this.f,"click",this.i)}function xc(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Ac(){}Sc.prototype.render=function(t,e){return this.a[this.b.toString()]=new Oc(t,e),this.b++},Sc.prototype.reset=function(t){var e=Ic(this,t);t=kc(t),e&&t&&(e.delete(),delete this.a[t])},Sc.prototype.getResponse=function(t){return(t=Ic(this,t))?t.getResponse():null},Sc.prototype.execute=function(t){(t=Ic(this,t))&&t.execute()},Oc.prototype.getResponse=function(){return xc(this),this.b},Oc.prototype.execute=function(){xc(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()},6e4)},500))},Oc.prototype.delete=function(){xc(this),this.g=!0,clearTimeout(this.a),this.a=null,Ye(this.f,"click",this.i)},Ac.prototype.g=function(){return Tc||(Tc=new Sc),Xt(Tc)},Ac.prototype.c=function(){};var Nc=null;function Dc(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Pc=new J(tt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Rc=new xr(3e4,6e4);Dc.prototype.g=function(t){var e=this;return new zt(function(n,r){var i=setTimeout(function(){r(new Xr("network-request-failed"))},Rc.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new Xr("internal-error"));delete a[e.a]},Xt(wa(it(Pc,{onload:e.a,hl:t||""}))).s(function(){clearTimeout(i),r(new Xr("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(a.grecaptcha))})},Dc.prototype.c=function(){this.b--};var Mc=null;function jc(t,e,n,r,i,o,l){if(Lr(this,"type","recaptcha"),this.c=this.f=null,this.B=!1,this.u=e,this.g=null,l?(Nc||(Nc=new Ac),l=Nc):(Mc||(Mc=new Dc),l=Mc),this.m=l,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Fc])throw new Xr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Uc],!a.document)throw new Xr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Bn(e)||!this.i&&Bn(e).hasChildNodes())throw new Xr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new ka(t,o||null,i||null),this.v=r||function(){return null};var u=this;this.l=[];var s=this.a[Lc];this.a[Lc]=function(t){if(qc(u,t),"function"==typeof s)s(t);else if("string"==typeof s){var e=yr(s,a);"function"==typeof e&&e(t)}};var c=this.a[Vc];this.a[Vc]=function(){if(qc(u,null),"function"==typeof c)c();else if("string"==typeof c){var t=yr(c,a);"function"==typeof t&&t()}}}var Lc="callback",Vc="expired-callback",Fc="sitekey",Uc="size";function qc(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Bc(t,e){return t.h.push(e),e.ka(function(){B(t.h,e)}),e}function zc(t){if(t.B)throw new Xr("internal-error","RecaptchaVerifier instance has been destroyed.")}function Hc(t,e,n){var r=!1;try{this.b=n||i.a.app()}catch(l){throw new Xr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Xr("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Aa()}catch(l){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(l){}a=i.a.SDK_VERSION?mr(i.a.SDK_VERSION,a):null,jc.call(this,n,t,e,function(){try{var t=o.b.auth().ha()}catch(e){t=null}return t},a,ki(Ti),r)}function Kc(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new Xr("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].N(n[i])&&!o){if(e=e[i],0>i||i>=Gc.length)throw new Xr("internal-error","Argument validator received an unsupported number of arguments.");n=Gc[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.M+".";break t}r=null}}if(r)throw new Xr("argument-error",t+" failed: "+r)}(t=jc.prototype).Ba=function(){var t=this;return this.f?this.f:this.f=Bc(this,Xt().then(function(){if(wr()&&!ur())return or();throw new Xr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.v())}).then(function(e){return t.g=e,Sl(t.o,cl,{})}).then(function(e){t.a[Fc]=e.recaptchaSiteKey}).s(function(e){throw t.f=null,e}))},t.render=function(){zc(this);var t=this;return Bc(this,this.Ba().then(function(){if(null===t.c){var e=t.u;if(!t.i){var n=Bn(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!qn&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Lt(a.name),'"'),a.type){o.push(' type="',Lt(a.type),'"');var u={};X(u,a),delete u.type,a=u}o.push(">"),o=o.join("")}return o=i.createElement(o),a&&(l(a)?o.className=a:d(a)?o.className=a.join(" "):zn(o,a)),2<r.length&&function(t,e,n){function r(n){n&&e.appendChild(l(n)?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!m(o)||y(o)&&0<o.nodeType?r(o):V(Kn(o)?K(o):o,r)}}(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){zc(this);var t=this;return Bc(this,this.render().then(function(e){return new zt(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){z(t.l,function(t){return t==e})}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){zc(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){zc(this),this.B=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=Bn(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},T(Hc,jc);var Gc="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Wc(t,e){return{name:t||"",M:"a valid string",optional:!!e,N:l}}function Qc(t,e){return{name:t||"",M:"a boolean",optional:!!e,N:u}}function Yc(t,e){return{name:t||"",M:"a valid object",optional:!!e,N:y}}function Xc(t,e){return{name:t||"",M:"a function",optional:!!e,N:g}}function Jc(t,e){return{name:t||"",M:"null",optional:!!e,N:p}}function Zc(t){return{name:t?t+"Credential":"credential",M:t?"a valid "+t+" credential":"a valid credential",optional:!1,N:function(e){return!!e&&!(!e.na||t&&e.providerId!==t)}}}function $c(){return{name:"applicationVerifier",M:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,N:function(t){return!!(t&&l(t.type)&&g(t.verify))}}}function th(t,e,n,r){return{name:n||"",M:t.M+" or "+e.M,optional:!!r,N:function(n){return t.N(n)||e.N(n)}}}function eh(t,e){for(var n in e){var r=e[n].name;t[r]=ih(r,t[n],e[n].j)}}function nh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:E(function(t){return this[t]},n),set:E(function(t,e,n,r){Kc(t,[n],[r],!0),this[e]=r},r,n,e[n].Ya),enumerable:!0})}}function rh(t,e,n,r){t[e]=ih(e,n,r)}function ih(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Kc(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}eh(cc.prototype,{Xa:{name:"applyActionCode",j:[Wc("code")]},Ka:{name:"checkActionCode",j:[Wc("code")]},$a:{name:"confirmPasswordReset",j:[Wc("code"),Wc("newPassword")]},Xb:{name:"createUserWithEmailAndPassword",j:[Wc("email"),Wc("password")]},$b:{name:"fetchSignInMethodsForEmail",j:[Wc("email")]},oa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[Wc("emailLink")]},wc:{name:"onAuthStateChanged",j:[th(Yc(),Xc(),"nextOrObserver"),Xc("opt_error",!0),Xc("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[th(Yc(),Xc(),"nextOrObserver"),Xc("opt_error",!0),Xc("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[Wc("email"),th(Yc("opt_actionCodeSettings",!0),Jc(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[Wc("email"),Yc("actionCodeSettings")]},mb:{name:"setPersistence",j:[Wc("persistence")]},Gc:{name:"signInAndRetrieveDataWithCredential",j:[Zc()]},ob:{name:"signInAnonymously",j:[]},Ra:{name:"signInWithCredential",j:[Zc()]},Hc:{name:"signInWithCustomToken",j:[Wc("token")]},Ic:{name:"signInWithEmailAndPassword",j:[Wc("email"),Wc("password")]},Jc:{name:"signInWithEmailLink",j:[Wc("email"),Wc("emailLink",!0)]},Kc:{name:"signInWithPhoneNumber",j:[Wc("phoneNumber"),$c()]},Lc:{name:"signInWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"signInWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Rc:{name:"updateCurrentUser",j:[th({name:"user",M:"an instance of Firebase User",optional:!1,N:function(t){return!!(t&&t instanceof Ts)}},Jc(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Wc(null,!0)]},Tc:{name:"useDeviceLanguage",j:[]},Uc:{name:"verifyPasswordResetCode",j:[Wc("code")]}}),nh(cc.prototype,{lc:{name:"languageCode",Ya:th(Wc(),Jc(),"languageCode")},ti:{name:"tenantId",Ya:th(Wc(),Jc(),"tenantId")}}),(cc.Persistence=vu).LOCAL="local",cc.Persistence.SESSION="session",cc.Persistence.NONE="none",eh(Ts.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[Qc("opt_forceRefresh",!0)]},G:{name:"getIdToken",j:[Qc("opt_forceRefresh",!0)]},rc:{name:"linkAndRetrieveDataWithCredential",j:[Zc()]},eb:{name:"linkWithCredential",j:[Zc()]},sc:{name:"linkWithPhoneNumber",j:[Wc("phoneNumber"),$c()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ac:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Zc()]},gb:{name:"reauthenticateWithCredential",j:[Zc()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[Wc("phoneNumber"),$c()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[th(Yc("opt_actionCodeSettings",!0),Jc(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Wc(null,!0)]},Qc:{name:"unlink",j:[Wc("provider")]},rb:{name:"updateEmail",j:[Wc("email")]},sb:{name:"updatePassword",j:[Wc("password")]},Sc:{name:"updatePhoneNumber",j:[Zc("phone")]},tb:{name:"updateProfile",j:[Yc("profile")]}}),eh(Sc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),eh(Ec.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),eh(zt.prototype,{ka:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),nh(ds.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",Ya:Qc("appVerificationDisabledForTesting")}}),eh(ms.prototype,{confirm:{name:"confirm",j:[Wc("verificationCode")]}}),rh(Bi,"fromJSON",function(t){t=l(t)?JSON.parse(t):t;for(var e,n=[Yi,uo,po,Gi],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[th(Wc(),Yc(),"json")]),rh(so,"credential",function(t,e){return new lo(t,e)},[Wc("email"),Wc("password")]),eh(lo.prototype,{A:{name:"toJSON",j:[Wc(null,!0)]}}),eh($i.prototype,{wa:{name:"addScope",j:[Wc("scope")]},Ea:{name:"setCustomParameters",j:[Yc("customOAuthParameters")]}}),rh($i,"credential",to,[th(Wc(),Yc(),"token")]),rh(so,"credentialWithLink",co,[Wc("email"),Wc("emailLink")]),eh(eo.prototype,{wa:{name:"addScope",j:[Wc("scope")]},Ea:{name:"setCustomParameters",j:[Yc("customOAuthParameters")]}}),rh(eo,"credential",no,[th(Wc(),Yc(),"token")]),eh(ro.prototype,{wa:{name:"addScope",j:[Wc("scope")]},Ea:{name:"setCustomParameters",j:[Yc("customOAuthParameters")]}}),rh(ro,"credential",io,[th(Wc(),th(Yc(),Jc()),"idToken"),th(Wc(),Jc(),"accessToken",!0)]),eh(oo.prototype,{Ea:{name:"setCustomParameters",j:[Yc("customOAuthParameters")]}}),rh(oo,"credential",ao,[th(Wc(),Yc(),"token"),Wc("secret",!0)]),eh(Zi.prototype,{wa:{name:"addScope",j:[Wc("scope")]},credential:{name:"credential",j:[th(Wc(),th(Yc(),Jc()),"optionsOrIdToken"),th(Wc(),Jc(),"accessToken",!0)]},Ea:{name:"setCustomParameters",j:[Yc("customOAuthParameters")]}}),eh(Wi.prototype,{A:{name:"toJSON",j:[Wc(null,!0)]}}),eh(Hi.prototype,{A:{name:"toJSON",j:[Wc(null,!0)]}}),rh(go,"credential",yo,[Wc("verificationId"),Wc("verificationCode")]),eh(go.prototype,{Va:{name:"verifyPhoneNumber",j:[Wc("phoneNumber"),$c()]}}),eh(fo.prototype,{A:{name:"toJSON",j:[Wc(null,!0)]}}),eh(Xr.prototype,{toJSON:{name:"toJSON",j:[Wc(null,!0)]}}),eh(Io.prototype,{toJSON:{name:"toJSON",j:[Wc(null,!0)]}}),eh(To.prototype,{toJSON:{name:"toJSON",j:[Wc(null,!0)]}}),eh(Hc.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),rh(ti,"parseLink",ui,[Wc("link")]),function(){if(void 0===i.a||!i.a.INTERNAL||!i.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Br,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:cc,AuthCredential:Bi,Error:Xr};rh(t,"EmailAuthProvider",so,[]),rh(t,"FacebookAuthProvider",$i,[]),rh(t,"GithubAuthProvider",eo,[]),rh(t,"GoogleAuthProvider",ro,[]),rh(t,"TwitterAuthProvider",oo,[]),rh(t,"OAuthProvider",Zi,[Wc("providerId")]),rh(t,"SAMLAuthProvider",Ji,[Wc("providerId")]),rh(t,"PhoneAuthProvider",go,[{name:"auth",M:"an instance of Firebase Auth",optional:!0,N:function(t){return!!(t&&t instanceof cc)}}]),rh(t,"RecaptchaVerifier",Hc,[th(Wc(),{name:"",M:"an HTML element",optional:!1,N:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Yc("recaptchaParameters",!0),{name:"app",M:"an instance of Firebase App",optional:!0,N:function(t){return!!(t&&t instanceof i.a.app.App)}}]),rh(t,"ActionCodeURL",ti,[]),i.a.INTERNAL.registerService("auth",function(t,e){return e({INTERNAL:{getUid:C((t=new cc(t)).getUid,t),getToken:C(t.cc,t),addAuthTokenListener:C(t.Wb,t),removeAuthTokenListener:C(t.Ec,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(n){}}),i.a.INTERNAL.extendNamespace({User:Ts})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),n.d(e,"a",function(){return o});var o=function(){return function(){}}()},McSo:function(t,e,n){"use strict";function r(t){return null!=t&&"object"==typeof t}n.d(e,"a",function(){return r})},NKHs:function(t,e,n){"use strict";n("CcnG");var r=n("Ip0R"),i=n("mrSG"),o=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return i.c(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return i.c(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return i.c(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n("pugT").a))),a=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),l=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.c(e,t),e}(function(t){function e(n,r){void 0===r&&(r=a.now);var i=t.call(this,n,function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return i.c(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(a)))(o),u=n("6blF");n.d(e,"a",function(){return s}),n.d(e,"b",function(){return c});var s=function(){function t(t,e){this.zone=t,this.platformId=e}return t.prototype.schedule=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.zone.runGuarded(function(){return l.schedule.apply(l,t)})},t.prototype.keepUnstableUntilFirst=function(t){return Object(r.p)(this.platformId)?new u.a(function(e){var n=function(){},r=Zone.current.scheduleMacroTask("firebaseZoneBlock",n,{},n,n);t.subscribe(function(t){"scheduled"===r.state&&r.invoke(),e.next(t)},function(t){"scheduled"===r.state&&r.invoke(),e.error(t)},function(){"scheduled"===r.state&&r.invoke(),e.complete()})}):t},t.prototype.runOutsideAngular=function(t){var e=this;return new u.a(function(n){return e.zone.runOutsideAngular(function(){return t.subscribe(function(t){return e.zone.run(function(){return n.next(t)})},function(t){return e.zone.run(function(){return n.error(t)})},function(){return e.zone.run(function(){return n.complete()})})})})},t}(),c=function(t){return function(e){return new u.a(function(n){return e.subscribe(function(e){return t.run(function(){return n.next(e)})},function(e){return t.run(function(){return n.error(e)})},function(){return t.run(function(){return n.complete()})})})}}},Oipj:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n("CB3U"))},PSD3:function(t,e,n){t.exports=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t,e,n){return(l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&a(i,n.prototype),i}).apply(null,arguments)}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}var s=function(t){return Object.keys(t).map(function(e){return t[e]})},c=function(t){return Array.prototype.slice.call(t)},h=function(t){console.warn("".concat("SweetAlert2:"," ").concat(t))},f=function(t){console.error("".concat("SweetAlert2:"," ").concat(t))},p=[],d=function(t,e){var n;n='"'.concat(t,'" is deprecated and will be removed in the next major release. Please use "').concat(e,'" instead.'),-1===p.indexOf(n)&&(p.push(n),h(n))},m=function(t){return"function"==typeof t?t():t},g=function(t){return t&&Promise.resolve(t)===t},y=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),v=function(t){var e={};for(var n in t)e[t[n]]="swal2-"+t[n];return e},b=v(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","toast","toast-shown","toast-column","fade","show","hide","noanimation","close","title","header","content","actions","confirm","cancel","footer","icon","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl"]),w=v(["success","warning","info","question","error"]),_={previousBodyPadding:null},C=function(t,e){return t.classList.contains(e)},E=function(e,n,r){if(function(t){c(t.classList).forEach(function(e){-1===s(b).indexOf(e)&&-1===s(w).indexOf(e)&&t.classList.remove(e)})}(e),n&&n[r]){if("string"!=typeof n[r]&&!n[r].forEach)return h("Invalid type of customClass.".concat(r,'! Expected string or iterable object, got "').concat(t(n[r]),'"'));O(e,n[r])}};function S(t,e){if(!e)return null;switch(e){case"select":case"textarea":case"file":return A(t,b[e]);case"checkbox":return t.querySelector(".".concat(b.checkbox," input"));case"radio":return t.querySelector(".".concat(b.radio," input:checked"))||t.querySelector(".".concat(b.radio," input:first-child"));case"range":return t.querySelector(".".concat(b.range," input"));default:return A(t,b.input)}}var T,I=function(t){if(t.focus(),"file"!==t.type){var e=t.value;t.value="",t.value=e}},k=function(t,e,n){t&&e&&("string"==typeof e&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(function(e){t.forEach?t.forEach(function(t){n?t.classList.add(e):t.classList.remove(e)}):n?t.classList.add(e):t.classList.remove(e)}))},O=function(t,e){k(t,e,!0)},x=function(t,e){k(t,e,!1)},A=function(t,e){for(var n=0;n<t.childNodes.length;n++)if(C(t.childNodes[n],e))return t.childNodes[n]},N=function(t,e,n){n||0===parseInt(n)?t.style[e]="number"==typeof n?n+"px":n:t.style.removeProperty(e)},D=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";t.style.opacity="",t.style.display=e},P=function(t){t.style.opacity="",t.style.display="none"},R=function(t,e,n){e?D(t,n):P(t)},M=function(t){return!(!t||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))},j=function(t){var e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},L=function(){return document.body.querySelector("."+b.container)},V=function(t){var e=L();return e?e.querySelector(t):null},F=function(t){return V("."+t)},U=function(){return F(b.popup)},q=function(){var t=U();return c(t.querySelectorAll("."+b.icon))},B=function(){var t=q().filter(function(t){return M(t)});return t.length?t[0]:null},z=function(){return F(b.title)},H=function(){return F(b.content)},K=function(){return F(b.image)},G=function(){return F(b["progress-steps"])},W=function(){return F(b["validation-message"])},Q=function(){return V("."+b.actions+" ."+b.confirm)},Y=function(){return V("."+b.actions+" ."+b.cancel)},X=function(){return F(b.actions)},J=function(){return F(b.header)},Z=function(){return F(b.footer)},$=function(){return F(b.close)},tt=function(){var t=c(U().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(function(t,e){return(t=parseInt(t.getAttribute("tabindex")))>(e=parseInt(e.getAttribute("tabindex")))?1:t<e?-1:0}),e=c(U().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(function(t){return"-1"!==t.getAttribute("tabindex")});return function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(t.concat(e)).filter(function(t){return M(t)})},et=function(){return!nt()&&!document.body.classList.contains(b["no-backdrop"])},nt=function(){return document.body.classList.contains(b["toast-shown"])},rt=function(){return"undefined"==typeof window||"undefined"==typeof document},it='\n <div aria-labelledby="'.concat(b.title,'" aria-describedby="').concat(b.content,'" class="').concat(b.popup,'" tabindex="-1">\n   <div class="').concat(b.header,'">\n     <ul class="').concat(b["progress-steps"],'"></ul>\n     <div class="').concat(b.icon," ").concat(w.error,'">\n       <span class="swal2-x-mark"><span class="swal2-x-mark-line-left"></span><span class="swal2-x-mark-line-right"></span></span>\n     </div>\n     <div class="').concat(b.icon," ").concat(w.question,'"></div>\n     <div class="').concat(b.icon," ").concat(w.warning,'"></div>\n     <div class="').concat(b.icon," ").concat(w.info,'"></div>\n     <div class="').concat(b.icon," ").concat(w.success,'">\n       <div class="swal2-success-circular-line-left"></div>\n       <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n       <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n       <div class="swal2-success-circular-line-right"></div>\n     </div>\n     <img class="').concat(b.image,'" />\n     <h2 class="').concat(b.title,'" id="').concat(b.title,'"></h2>\n     <button type="button" class="').concat(b.close,'"></button>\n   </div>\n   <div class="').concat(b.content,'">\n     <div id="').concat(b.content,'"></div>\n     <input class="').concat(b.input,'" />\n     <input type="file" class="').concat(b.file,'" />\n     <div class="').concat(b.range,'">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="').concat(b.select,'"></select>\n     <div class="').concat(b.radio,'"></div>\n     <label for="').concat(b.checkbox,'" class="').concat(b.checkbox,'">\n       <input type="checkbox" />\n       <span class="').concat(b.label,'"></span>\n     </label>\n     <textarea class="').concat(b.textarea,'"></textarea>\n     <div class="').concat(b["validation-message"],'" id="').concat(b["validation-message"],'"></div>\n   </div>\n   <div class="').concat(b.actions,'">\n     <button type="button" class="').concat(b.confirm,'">OK</button>\n     <button type="button" class="').concat(b.cancel,'">Cancel</button>\n   </div>\n   <div class="').concat(b.footer,'">\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),ot=function(t){he.isVisible()&&T!==t.target.value&&he.resetValidationMessage(),T=t.target.value},at=function(e,n){e instanceof HTMLElement?n.appendChild(e):"object"===t(e)?lt(n,e):e&&(n.innerHTML=e)},lt=function(t,e){if(t.innerHTML="",0 in e)for(var n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},ut=function(){if(rt())return!1;var t=document.createElement("div"),e={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&void 0!==t.style[n])return e[n];return!1}();function st(t,e,n){R(t,n["showC"+e.substring(1)+"Button"],"inline-block"),t.innerHTML=n[e+"ButtonText"],t.setAttribute("aria-label",n[e+"ButtonAriaLabel"]),t.className=b[e],E(t,n.customClass,e+"Button"),O(t,n[e+"ButtonClass"])}var ct={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},ht=["input","file","range","select","radio","checkbox","textarea"],ft=function(t,e){t.placeholder&&!e.inputPlaceholder||(t.placeholder=e.inputPlaceholder)},pt=function(t){var e=b[t]?b[t]:b.input;return A(H(),e)},dt={};dt.text=dt.email=dt.password=dt.number=dt.tel=dt.url=function(e,n){return"string"==typeof n.inputValue||"number"==typeof n.inputValue?e.value=n.inputValue:g(n.inputValue)||h('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(t(n.inputValue),'"')),ft(e,n),e.type=n.input,e},dt.file=function(t,e){return ft(t,e),t},dt.range=function(t,e){var n=t.querySelector("input"),r=t.querySelector("output");return n.value=e.inputValue,n.type=e.input,r.value=e.inputValue,t},dt.select=function(t,e){if(t.innerHTML="",e.inputPlaceholder){var n=document.createElement("option");n.innerHTML=e.inputPlaceholder,n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return t},dt.radio=function(t){return t.innerHTML="",t},dt.checkbox=function(t,e){var n=S(H(),"checkbox");return n.value=1,n.id=b.checkbox,n.checked=Boolean(e.inputValue),t.querySelector("span").innerHTML=e.inputPlaceholder,t},dt.textarea=function(t,e){if(t.value=e.inputValue,ft(t,e),"MutationObserver"in window){var n=parseInt(window.getComputedStyle(U()).width),r=parseInt(window.getComputedStyle(U()).paddingLeft)+parseInt(window.getComputedStyle(U()).paddingRight);new MutationObserver(function(){var e=t.offsetWidth+r;U().style.width=e>n?e+"px":null}).observe(t,{attributes:!0,attributeFilter:["style"]})}return t};var mt=function(t,e){var n=G();if(!e.progressSteps||0===e.progressSteps.length)return P(n);D(n),n.innerHTML="";var r=parseInt(null===e.currentProgressStep?he.getQueueStep():e.currentProgressStep);r>=e.progressSteps.length&&h("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),e.progressSteps.forEach(function(t,i){var o=function(t){var e=document.createElement("li");return O(e,b["progress-step"]),e.innerHTML=t,e}(t);if(n.appendChild(o),i===r&&O(o,b["active-progress-step"]),i!==e.progressSteps.length-1){var a=function(t){var e=document.createElement("li");return O(e,b["progress-step-line"]),t.progressStepsDistance&&(e.style.width=t.progressStepsDistance),e}(t);n.appendChild(a)}})},gt=function(t,e){!function(t,e){var n=U();N(n,"width",e.width),N(n,"padding",e.padding),e.background&&(n.style.background=e.background),n.className=b.popup,e.toast?(O([document.documentElement,document.body],b["toast-shown"]),O(n,b.toast)):O(n,b.modal),E(n,e.customClass,"popup"),"string"==typeof e.customClass&&O(n,e.customClass),k(n,b.noanimation,!e.animation)}(0,e),function(t,e){var n=L();n&&(function(t,e){"string"==typeof e?t.style.background=e:e||O([document.documentElement,document.body],b["no-backdrop"])}(n,e.backdrop),!e.backdrop&&e.allowOutsideClick&&h('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),function(t,e){e in b?O(t,b[e]):(h('The "position" parameter is not valid, defaulting to "center"'),O(t,b.center))}(n,e.position),function(t,e){if(e&&"string"==typeof e){var n="grow-"+e;n in b&&O(t,b[n])}}(n,e.grow),E(n,e.customClass,"container"),e.customContainerClass&&O(n,e.customContainerClass))}(0,e),function(t,e){var n=J();E(n,e.customClass,"header"),mt(0,e),function(t,e){var n=ct.innerParams.get(t);if(n&&e.type===n.type&&B())E(B(),e.customClass,"icon");else if(function(){for(var t=q(),e=0;e<t.length;e++)P(t[e])}(),e.type)if(function(){for(var t=U(),e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),r=0;r<n.length;r++)n[r].style.backgroundColor=e}(),-1!==Object.keys(w).indexOf(e.type)){var r=V(".".concat(b.icon,".").concat(w[e.type]));D(r),E(r,e.customClass,"icon"),k(r,"swal2-animate-".concat(e.type,"-icon"),e.animation)}else f('Unknown type! Expected "success", "error", "warning", "info" or "question", got "'.concat(e.type,'"'))}(t,e),function(t,e){var n=K();if(!e.imageUrl)return P(n);D(n),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt),N(n,"width",e.imageWidth),N(n,"height",e.imageHeight),n.className=b.image,E(n,e.customClass,"image"),e.imageClass&&O(n,e.imageClass)}(0,e),function(t,e){var n=z();R(n,e.title||e.titleText),e.title&&at(e.title,n),e.titleText&&(n.innerText=e.titleText),E(n,e.customClass,"title")}(0,e),function(t,e){var n=$();n.innerHTML=e.closeButtonHtml,E(n,e.customClass,"closeButton"),R(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel)}(0,e)}(t,e),function(t,e){var n=H().querySelector("#"+b.content);e.html?(at(e.html,n),D(n,"block")):e.text?(n.textContent=e.text,D(n,"block")):P(n),function(t,e){var n=H(),r=ct.innerParams.get(t),i=!r||e.input!==r.input;ht.forEach(function(t){var r=b[t],o=A(n,r);(function(t,e){var n=S(H(),t);if(n)for(var r in function(t){for(var e=0;e<t.attributes.length;e++){var n=t.attributes[e].name;-1===["type","value","style"].indexOf(n)&&t.removeAttribute(n)}}(n),e)"range"===t&&"placeholder"===r||n.setAttribute(r,e[r])})(t,e.inputAttributes),o.className=r,i&&P(o)}),e.input&&(i&&function(t){if(!dt[t.input])return f('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(t.input,'"'));var e=pt(t.input),n=dt[t.input](e,t);D(n),setTimeout(function(){I(n)})}(e),function(t){var e=pt(t.input);t.inputClass&&O(e,t.inputClass),t.customClass&&O(e,t.customClass.input)}(e))}(t,e),E(H(),e.customClass,"content")}(t,e),function(t,e){var n=X(),r=Q(),i=Y();e.showConfirmButton||e.showCancelButton||P(n),E(n,e.customClass,"actions"),st(r,"confirm",e),st(i,"cancel",e),e.buttonsStyling?function(t,e,n){O([t,e],b.styled),n.confirmButtonColor&&(t.style.backgroundColor=n.confirmButtonColor),n.cancelButtonColor&&(e.style.backgroundColor=n.cancelButtonColor);var r=window.getComputedStyle(t).getPropertyValue("background-color");t.style.borderLeftColor=r,t.style.borderRightColor=r}(r,i,e):(x([r,i],b.styled),r.style.backgroundColor=r.style.borderLeftColor=r.style.borderRightColor="",i.style.backgroundColor=i.style.borderLeftColor=i.style.borderRightColor=""),e.reverseButtons&&r.parentNode.insertBefore(i,r)}(0,e),function(t,e){var n=Z();R(n,e.footer),e.footer&&at(e.footer,n),E(n,e.customClass,"footer")}(0,e),"function"==typeof e.onRender&&e.onRender(U())},yt=function(){return Q()&&Q().click()},vt=[],bt=function(){var t=U();t||he.fire(""),t=U();var e=X(),n=Q(),r=Y();D(e),D(n),O([t,e],b.loading),n.disabled=!0,r.disabled=!0,t.setAttribute("data-loading",!0),t.setAttribute("aria-busy",!0),t.focus()},wt={},_t=function(){return new Promise(function(t){var e=window.scrollX,n=window.scrollY;wt.restoreFocusTimeout=setTimeout(function(){wt.previousActiveElement&&wt.previousActiveElement.focus?(wt.previousActiveElement.focus(),wt.previousActiveElement=null):document.body&&document.body.focus(),t()},100),void 0!==e&&void 0!==n&&window.scrollTo(e,n)})},Ct={title:"",titleText:"",text:"",html:"",footer:"",type:null,toast:!1,customClass:"",customContainerClass:"",target:"body",backdrop:!0,animation:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showCancelButton:!1,preConfirm:null,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:null,confirmButtonClass:"",cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:null,cancelButtonClass:"",buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusCancel:!1,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",showLoaderOnConfirm:!1,imageUrl:null,imageWidth:null,imageHeight:null,imageAlt:"",imageClass:"",timer:null,width:null,padding:null,background:null,input:null,inputPlaceholder:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputClass:"",inputAttributes:{},inputValidator:null,validationMessage:null,grow:!1,position:"center",progressSteps:[],currentProgressStep:null,progressStepsDistance:null,onBeforeOpen:null,onOpen:null,onRender:null,onClose:null,onAfterClose:null,scrollbarPadding:!0},Et=["title","titleText","text","html","type","customClass","showConfirmButton","showCancelButton","confirmButtonText","confirmButtonAriaLabel","confirmButtonColor","confirmButtonClass","cancelButtonText","cancelButtonAriaLabel","cancelButtonColor","cancelButtonClass","buttonsStyling","reverseButtons","imageUrl","imageWidth","imageHeigth","imageAlt","imageClass","progressSteps","currentProgressStep"],St={customContainerClass:"customClass",confirmButtonClass:"customClass",cancelButtonClass:"customClass",imageClass:"customClass",inputClass:"customClass"},Tt=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusCancel","heightAuto","keydownListenerCapture"],It=function(t){return Object.prototype.hasOwnProperty.call(Ct,t)},kt=function(t){return St[t]},Ot=function(t){It(t)||h('Unknown parameter "'.concat(t,'"'))},xt=function(t){-1!==Tt.indexOf(t)&&h('The parameter "'.concat(t,'" is incompatible with toasts'))},At=function(t){kt(t)&&d(t,kt(t))},Nt=Object.freeze({isValidParameter:It,isUpdatableParameter:function(t){return-1!==Et.indexOf(t)},isDeprecatedParameter:kt,argsToParams:function(e){var n={};switch(t(e[0])){case"object":i(n,e[0]);break;default:["title","html","type"].forEach(function(r,i){switch(t(e[i])){case"string":n[r]=e[i];break;case"undefined":break;default:f("Unexpected type of ".concat(r,'! Expected "string", got ').concat(t(e[i])))}})}return n},isVisible:function(){return M(U())},clickConfirm:yt,clickCancel:function(){return Y()&&Y().click()},getContainer:L,getPopup:U,getTitle:z,getContent:H,getImage:K,getIcon:B,getIcons:q,getCloseButton:$,getActions:X,getConfirmButton:Q,getCancelButton:Y,getHeader:J,getFooter:Z,getFocusableElements:tt,getValidationMessage:W,isLoading:function(){return U().hasAttribute("data-loading")},fire:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return l(this,e)},mixin:function(t){return function(n){function l(){return e(this,l),this,!(t=o(l).apply(this,arguments))||"object"!=typeof t&&"function"!=typeof t?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this):t;var t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(l,n),r(l,[{key:"_main",value:function(e){return u(o(l.prototype),"_main",this).call(this,i({},t,e))}}]),l}(this)},queue:function(t){var e=this;vt=t;var n=function(t,e){vt=[],document.body.removeAttribute("data-swal2-queue-step"),t(e)},r=[];return new Promise(function(t){!function i(o,a){o<vt.length?(document.body.setAttribute("data-swal2-queue-step",o),e.fire(vt[o]).then(function(e){void 0!==e.value?(r.push(e.value),i(o+1,a)):n(t,{dismiss:e.dismiss})})):n(t,{value:r})}(0)})},getQueueStep:function(){return document.body.getAttribute("data-swal2-queue-step")},insertQueueStep:function(t,e){return e&&e<vt.length?vt.splice(e,0,t):vt.push(t)},deleteQueueStep:function(t){void 0!==vt[t]&&vt.splice(t,1)},showLoading:bt,enableLoading:bt,getTimerLeft:function(){return wt.timeout&&wt.timeout.getTimerLeft()},stopTimer:function(){return wt.timeout&&wt.timeout.stop()},resumeTimer:function(){return wt.timeout&&wt.timeout.start()},toggleTimer:function(){var t=wt.timeout;return t&&(t.running?t.stop():t.start())},increaseTimer:function(t){return wt.timeout&&wt.timeout.increase(t)},isTimerRunning:function(){return wt.timeout&&wt.timeout.isRunning()}});function Dt(){var t=ct.innerParams.get(this),e=ct.domCache.get(this);t.showConfirmButton||(P(e.confirmButton),t.showCancelButton||P(e.actions)),x([e.popup,e.actions],b.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.cancelButton.disabled=!1}var Pt=function(){null!==_.previousBodyPadding&&(document.body.style.paddingRight=_.previousBodyPadding+"px",_.previousBodyPadding=null)},Rt=function(){if(C(document.body,b.iosfix)){var t=parseInt(document.body.style.top,10);x(document.body,b.iosfix),document.body.style.top="",document.body.scrollTop=-1*t}},Mt=function(){return!!window.MSInputMethodContext&&!!document.documentMode},jt=function(){var t=L(),e=U();t.style.removeProperty("align-items"),e.offsetTop<0&&(t.style.alignItems="flex-start")},Lt=function(){"undefined"!=typeof window&&Mt()&&window.removeEventListener("resize",jt)},Vt=function(){c(document.body.children).forEach(function(t){t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})},Ft={swalPromiseResolve:new WeakMap};function Ut(t,e,n,r){n?Kt(t,r):(_t().then(function(){return Kt(t,r)}),wt.keydownTarget.removeEventListener("keydown",wt.keydownHandler,{capture:wt.keydownListenerCapture}),wt.keydownHandlerAdded=!1),e.parentNode&&e.parentNode.removeChild(e),et()&&(Pt(),Rt(),Lt(),Vt()),x([document.documentElement,document.body],[b.shown,b["height-auto"],b["no-backdrop"],b["toast-shown"],b["toast-column"]])}function qt(t){var e=U();if(e&&!C(e,b.hide)){var n=ct.innerParams.get(this);if(n){var r=Ft.swalPromiseResolve.get(this);x(e,b.show),O(e,b.hide),Bt(this,e,n),r(t||{})}}}var Bt=function(t,e,n){var r=L(),i=ut&&j(e),o=n.onClose,a=n.onAfterClose;null!==o&&"function"==typeof o&&o(e),i?zt(t,e,r,a):Ut(t,r,nt(),a)},zt=function(t,e,n,r){wt.swalCloseEventFinishedCallback=Ut.bind(null,t,n,nt(),r),e.addEventListener(ut,function(t){t.target===e&&(wt.swalCloseEventFinishedCallback(),delete wt.swalCloseEventFinishedCallback)})},Ht=function(t){for(var e in t)t[e]=new WeakMap},Kt=function(t,e){setTimeout(function(){null!==e&&"function"==typeof e&&e(),U()||function(t){delete t.params,delete wt.keydownHandler,delete wt.keydownTarget,Ht(ct),Ht(Ft)}(t)})};function Gt(t,e,n){var r=ct.domCache.get(t);e.forEach(function(t){r[t].disabled=n})}function Wt(t,e){if(!t)return!1;if("radio"===t.type)for(var n=t.parentNode.parentNode.querySelectorAll("input"),r=0;r<n.length;r++)n[r].disabled=e;else t.disabled=e}var Qt=function(){function t(n,r){e(this,t),this.callback=n,this.remaining=r,this.running=!1,this.start()}return r(t,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}},{key:"increase",value:function(t){var e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),t}(),Yt={email:function(t,e){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address")},url:function(t,e){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&\/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")}};function Xt(t,e){t.removeEventListener(ut,Xt),e.style.overflowY="auto"}var Jt,Zt={select:function(t,e,n){var r=A(t,b.select);e.forEach(function(t){var e=t[0],i=t[1],o=document.createElement("option");o.value=e,o.innerHTML=i,n.inputValue.toString()===e.toString()&&(o.selected=!0),r.appendChild(o)}),r.focus()},radio:function(t,e,n){var r=A(t,b.radio);e.forEach(function(t){var e=t[0],i=t[1],o=document.createElement("input"),a=document.createElement("label");o.type="radio",o.name=b.radio,o.value=e,n.inputValue.toString()===e.toString()&&(o.checked=!0);var l=document.createElement("span");l.innerHTML=i,l.className=b.label,a.appendChild(o),a.appendChild(l),r.appendChild(a)});var i=r.querySelectorAll("input");i.length&&i[0].focus()}},$t=function(t,e){t.closePopup({value:e})},te=function(t,e,n){e.showLoaderOnConfirm&&bt(),e.preConfirm?(t.resetValidationMessage(),Promise.resolve().then(function(){return e.preConfirm(n,e.validationMessage)}).then(function(e){M(W())||!1===e?t.hideLoading():$t(t,void 0===e?n:e)})):$t(t,n)},ee=function(t,e,n){for(var r=tt(),i=0;i<r.length;i++)return(e+=n)===r.length?e=0:-1===e&&(e=r.length-1),r[e].focus();U().focus()},ne=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Left","Right","Up","Down"],re=["Escape","Esc"],ie=!1,oe=function(e,n,r){return new Promise(function(i){var o,a,l,u=function(t){e.closePopup({dismiss:t})};Ft.swalPromiseResolve.set(e,i),ae(wt,r,u),n.confirmButton.onclick=function(){return function(t,e){t.disableButtons(),e.input?function(t,e){var n=function(t,e){var n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return function(t){return t.checked?1:0}(n);case"radio":return function(t){return t.checked?t.value:null}(n);case"file":return function(t){return t.files.length?null!==t.getAttribute("multiple")?t.files:t.files[0]:null}(n);default:return e.inputAutoTrim?n.value.trim():n.value}}(t,e);e.inputValidator?(t.disableInput(),Promise.resolve().then(function(){return e.inputValidator(n,e.validationMessage)}).then(function(r){t.enableButtons(),t.enableInput(),r?t.showValidationMessage(r):te(t,e,n)})):t.getInput().checkValidity()?te(t,e,n):(t.enableButtons(),t.showValidationMessage(e.validationMessage))}(t,e):te(t,e,!0)}(e,r)},n.cancelButton.onclick=function(){return function(t,e){t.disableButtons(),e(y.cancel)}(e,u)},n.closeButton.onclick=function(){return u(y.close)},function(t,e,n){e.toast?function(t,e,n){t.popup.onclick=function(){e.showConfirmButton||e.showCancelButton||e.showCloseButton||e.input||n(y.close)}}(t,e,n):(function(t){t.popup.onmousedown=function(){t.container.onmouseup=function(e){t.container.onmouseup=void 0,e.target===t.container&&(ie=!0)}}}(t),function(t){t.container.onmousedown=function(){t.popup.onmouseup=function(e){t.popup.onmouseup=void 0,(e.target===t.popup||t.popup.contains(e.target))&&(ie=!0)}}}(t),function(t,e,n){t.container.onclick=function(r){ie?ie=!1:r.target===t.container&&m(e.allowOutsideClick)&&n(y.backdrop)}}(t,e,n))}(n,r,u),function(t,e,n,r){e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1),n.toast||(e.keydownHandler=function(e){return function(t,e,n,r){var i,o;n.stopKeydownPropagation&&e.stopPropagation(),"Enter"===e.key?function(t,e,n){if(!e.isComposing&&e.target&&t.getInput()&&e.target.outerHTML===t.getInput().outerHTML){if(-1!==["textarea","file"].indexOf(n.input))return;yt(),e.preventDefault()}}(t,e,n):"Tab"===e.key?function(t,e){for(var n=t.target,r=tt(),i=-1,o=0;o<r.length;o++)if(n===r[o]){i=o;break}ee(0,i,t.shiftKey?-1:1),t.stopPropagation(),t.preventDefault()}(e):-1!==ne.indexOf(e.key)?(i=Q(),o=Y(),document.activeElement===i&&M(o)?o.focus():document.activeElement===o&&M(i)&&i.focus()):-1!==re.indexOf(e.key)&&function(t,e,n){m(e.allowEscapeKey)&&(t.preventDefault(),n(y.esc))}(e,n,r)}(t,e,n,r)},e.keydownTarget=n.keydownListenerCapture?window:U(),e.keydownListenerCapture=n.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)}(e,wt,r,u),r.toast&&(r.input||r.footer||r.showCloseButton)?O(document.body,b["toast-column"]):x(document.body,b["toast-column"]),function(e,n){"select"===n.input||"radio"===n.input?function(e,n){var r=H(),i=function(t){return Zt[n.input](r,function(t){var e=[];return"undefined"!=typeof Map&&t instanceof Map?t.forEach(function(t,n){e.push([n,t])}):Object.keys(t).forEach(function(n){e.push([n,t[n]])}),e}(t),n)};g(n.inputOptions)?(bt(),n.inputOptions.then(function(t){e.hideLoading(),i(t)})):"object"===t(n.inputOptions)?i(n.inputOptions):f("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(t(n.inputOptions)))}(e,n):-1!==["text","email","number","tel","textarea"].indexOf(n.input)&&g(n.inputValue)&&function(t,e){var n=t.getInput();P(n),e.inputValue.then(function(r){n.value="number"===e.input?parseFloat(r)||0:r+"",D(n),n.focus(),t.hideLoading()}).catch(function(e){f("Error in inputValue promise: "+e),n.value="",D(n),n.focus(),t.hideLoading()})}(e,n)}(e,r),o=r,a=L(),l=U(),"function"==typeof o.onBeforeOpen&&o.onBeforeOpen(l),function(t,e,n){n.animation&&(O(e,b.show),O(t,b.fade)),D(e),O([document.documentElement,document.body,t],b.shown),n.heightAuto&&n.backdrop&&!n.toast&&O([document.documentElement,document.body],b["height-auto"])}(a,l,o),function(t,e){ut&&j(e)?(t.style.overflowY="hidden",e.addEventListener(ut,Xt.bind(null,e,t))):t.style.overflowY="auto"}(a,l),et()&&function(t,e){!function(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!C(document.body,b.iosfix)){var t=document.body.scrollTop;document.body.style.top=-1*t+"px",O(document.body,b.iosfix),(n=L()).ontouchstart=function(t){var r;e=t.target===n||!((r=n).scrollHeight>r.clientHeight)&&"INPUT"!==t.target.tagName},n.ontouchmove=function(t){e&&(t.preventDefault(),t.stopPropagation())}}var e,n}(),"undefined"!=typeof window&&Mt()&&(jt(),window.addEventListener("resize",jt)),c(document.body.children).forEach(function(t){t===L()||function(t,e){if("function"==typeof t.contains)return t.contains(e)}(t,L())||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))}),e&&null===_.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(_.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=_.previousBodyPadding+function(){if("ontouchstart"in window||navigator.msMaxTouchPoints)return 0;var t=document.createElement("div");t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}()+"px"),setTimeout(function(){t.scrollTop=0})}(a,o.scrollbarPadding),nt()||wt.previousActiveElement||(wt.previousActiveElement=document.activeElement),"function"==typeof o.onOpen&&setTimeout(function(){return o.onOpen(l)}),le(n,r),n.container.scrollTop=0})},ae=function(t,e,n){e.timer&&(t.timeout=new Qt(function(){n("timer"),delete t.timeout},e.timer))},le=function(t,e){if(!e.toast)return m(e.allowEnterKey)?e.focusCancel&&M(t.cancelButton)?t.cancelButton.focus():e.focusConfirm&&M(t.confirmButton)?t.confirmButton.focus():void ee(0,-1,1):ue()},ue=function(){document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()},se=Object.freeze({hideLoading:Dt,disableLoading:Dt,getInput:function(t){var e=ct.innerParams.get(t||this),n=ct.domCache.get(t||this);return n?S(n.content,e.input):null},close:qt,closePopup:qt,closeModal:qt,closeToast:qt,enableButtons:function(){Gt(this,["confirmButton","cancelButton"],!1)},disableButtons:function(){Gt(this,["confirmButton","cancelButton"],!0)},enableConfirmButton:function(){d("Swal.enableConfirmButton()","Swal.getConfirmButton().removeAttribute('disabled')"),Gt(this,["confirmButton"],!1)},disableConfirmButton:function(){d("Swal.disableConfirmButton()","Swal.getConfirmButton().setAttribute('disabled', '')"),Gt(this,["confirmButton"],!0)},enableInput:function(){return Wt(this.getInput(),!1)},disableInput:function(){return Wt(this.getInput(),!0)},showValidationMessage:function(t){var e=ct.domCache.get(this);e.validationMessage.innerHTML=t;var n=window.getComputedStyle(e.popup);e.validationMessage.style.marginLeft="-".concat(n.getPropertyValue("padding-left")),e.validationMessage.style.marginRight="-".concat(n.getPropertyValue("padding-right")),D(e.validationMessage);var r=this.getInput();r&&(r.setAttribute("aria-invalid",!0),r.setAttribute("aria-describedBy",b["validation-message"]),I(r),O(r,b.inputerror))},resetValidationMessage:function(){var t=ct.domCache.get(this);t.validationMessage&&P(t.validationMessage);var e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedBy"),x(e,b.inputerror))},getProgressSteps:function(){return d("Swal.getProgressSteps()","const swalInstance = Swal.fire({progressSteps: ['1', '2', '3']}); const progressSteps = swalInstance.params.progressSteps"),ct.innerParams.get(this).progressSteps},setProgressSteps:function(t){d("Swal.setProgressSteps()","Swal.update()");var e=i({},ct.innerParams.get(this),{progressSteps:t});mt(0,e),ct.innerParams.set(this,e)},showProgressSteps:function(){var t=ct.domCache.get(this);D(t.progressSteps)},hideProgressSteps:function(){var t=ct.domCache.get(this);P(t.progressSteps)},_main:function(t){(function(t){for(var e in t)Ot(e),t.toast&&xt(e),At()})(t),U()&&wt.swalCloseEventFinishedCallback&&(wt.swalCloseEventFinishedCallback(),delete wt.swalCloseEventFinishedCallback),wt.deferDisposalTimer&&(clearTimeout(wt.deferDisposalTimer),delete wt.deferDisposalTimer);var e,n=i({},Ct,t);(function(t){t.inputValidator||Object.keys(Yt).forEach(function(e){t.input===e&&(t.inputValidator=Yt[e])})})(e=n),e.showLoaderOnConfirm&&!e.preConfirm&&h("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),e.animation=m(e.animation),function(t){(!t.target||"string"==typeof t.target&&!document.querySelector(t.target)||"string"!=typeof t.target&&!t.target.appendChild)&&(h('Target parameter is not valid, defaulting to "body"'),t.target="body")}(e),"string"==typeof e.title&&(e.title=e.title.split("\n").join("<br />")),function(t){if((p=L())&&(p.parentNode.removeChild(p),x([document.documentElement,document.body],[b["no-backdrop"],b["toast-shown"],b["has-column"]])),rt())f("SweetAlert2 requires document to initialize");else{var e=document.createElement("div");e.className=b.container,e.innerHTML=it;var n,r,i,o,a,l,u,s,c,h="string"==typeof(n=t.target)?document.querySelector(n):n;h.appendChild(e),function(t){var e=U();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")}(t),function(t){"rtl"===window.getComputedStyle(t).direction&&O(L(),b.rtl)}(h),r=H(),i=A(r,b.input),o=A(r,b.file),a=r.querySelector(".".concat(b.range," input")),l=r.querySelector(".".concat(b.range," output")),u=A(r,b.select),s=r.querySelector(".".concat(b.checkbox," input")),c=A(r,b.textarea),i.oninput=ot,o.onchange=ot,u.onchange=ot,s.onchange=ot,c.oninput=ot,a.oninput=function(t){ot(t),l.value=a.value},a.onchange=function(t){ot(t),a.nextSibling.value=a.value}}var p}(e),Object.freeze(n),wt.timeout&&(wt.timeout.stop(),delete wt.timeout),clearTimeout(wt.restoreFocusTimeout);var r=function(t){var e={popup:U(),container:L(),content:H(),actions:X(),confirmButton:Q(),cancelButton:Y(),closeButton:$(),validationMessage:W(),progressSteps:G()};return ct.domCache.set(t,e),e}(this);return gt(this,n),ct.innerParams.set(this,n),oe(this,r,n)},update:function(t){var e=U();if(!e||C(e,b.hide))return h("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");var n={};Object.keys(t).forEach(function(e){he.isUpdatableParameter(e)?n[e]=t[e]:h('Invalid parameter to update: "'.concat(e,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js'))});var r=i({},ct.innerParams.get(this),n);gt(this,r),ct.innerParams.set(this,r),Object.defineProperties(this,{params:{value:i({},this.params,t),writable:!1,enumerable:!0}})}});function ce(){if("undefined"!=typeof window){"undefined"==typeof Promise&&f("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)"),Jt=this;for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Object.freeze(this.constructor.argsToParams(e));Object.defineProperties(this,{params:{value:r,writable:!1,enumerable:!0,configurable:!0}});var i=this._main(this.params);ct.promise.set(this,i)}}ce.prototype.then=function(t){return ct.promise.get(this).then(t)},ce.prototype.finally=function(t){return ct.promise.get(this).finally(t)},i(ce.prototype,se),i(ce,Nt),Object.keys(se).forEach(function(t){ce[t]=function(){var e;if(Jt)return(e=Jt)[t].apply(e,arguments)}}),ce.DismissReason=y,ce.version="8.18.5";var he=ce;return he.default=he,he}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch(t){n.innerText=e}}(document,'@charset "UTF-8";.swal2-popup.swal2-toast{flex-direction:row;align-items:center;width:auto;padding:.625em;overflow-y:hidden;box-shadow:0 0 .625em #d9d9d9}.swal2-popup.swal2-toast .swal2-header{flex-direction:row}.swal2-popup.swal2-toast .swal2-title{flex-grow:1;justify-content:flex-start;margin:0 .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{position:static;width:.8em;height:.8em;line-height:.8}.swal2-popup.swal2-toast .swal2-content{justify-content:flex-start;font-size:1em}.swal2-popup.swal2-toast .swal2-icon{width:2em;min-width:2em;height:2em;margin:0}.swal2-popup.swal2-toast .swal2-icon::before{display:flex;align-items:center;font-size:2em;font-weight:700}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-popup.swal2-toast .swal2-icon::before{font-size:.25em}}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{flex-basis:auto!important;width:auto;height:auto;margin:0 .3125em}.swal2-popup.swal2-toast .swal2-styled{margin:0 .3125em;padding:.3125em .625em;font-size:1em}.swal2-popup.swal2-toast .swal2-styled:focus{box-shadow:0 0 0 .0625em #fff,0 0 0 .125em rgba(50,100,150,.4)}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-popup.swal2-toast .swal2-animate-success-icon .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-animate-success-icon .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-container{display:flex;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;flex-direction:row;align-items:center;justify-content:center;padding:.625em;overflow-x:hidden;background-color:transparent;-webkit-overflow-scrolling:touch}.swal2-container.swal2-top{align-items:flex-start}.swal2-container.swal2-top-left,.swal2-container.swal2-top-start{align-items:flex-start;justify-content:flex-start}.swal2-container.swal2-top-end,.swal2-container.swal2-top-right{align-items:flex-start;justify-content:flex-end}.swal2-container.swal2-center{align-items:center}.swal2-container.swal2-center-left,.swal2-container.swal2-center-start{align-items:center;justify-content:flex-start}.swal2-container.swal2-center-end,.swal2-container.swal2-center-right{align-items:center;justify-content:flex-end}.swal2-container.swal2-bottom{align-items:flex-end}.swal2-container.swal2-bottom-left,.swal2-container.swal2-bottom-start{align-items:flex-end;justify-content:flex-start}.swal2-container.swal2-bottom-end,.swal2-container.swal2-bottom-right{align-items:flex-end;justify-content:flex-end}.swal2-container.swal2-bottom-end>:first-child,.swal2-container.swal2-bottom-left>:first-child,.swal2-container.swal2-bottom-right>:first-child,.swal2-container.swal2-bottom-start>:first-child,.swal2-container.swal2-bottom>:first-child{margin-top:auto}.swal2-container.swal2-grow-fullscreen>.swal2-modal{display:flex!important;flex:1;align-self:stretch;justify-content:center}.swal2-container.swal2-grow-row>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container.swal2-grow-column{flex:1;flex-direction:column}.swal2-container.swal2-grow-column.swal2-bottom,.swal2-container.swal2-grow-column.swal2-center,.swal2-container.swal2-grow-column.swal2-top{align-items:center}.swal2-container.swal2-grow-column.swal2-bottom-left,.swal2-container.swal2-grow-column.swal2-bottom-start,.swal2-container.swal2-grow-column.swal2-center-left,.swal2-container.swal2-grow-column.swal2-center-start,.swal2-container.swal2-grow-column.swal2-top-left,.swal2-container.swal2-grow-column.swal2-top-start{align-items:flex-start}.swal2-container.swal2-grow-column.swal2-bottom-end,.swal2-container.swal2-grow-column.swal2-bottom-right,.swal2-container.swal2-grow-column.swal2-center-end,.swal2-container.swal2-grow-column.swal2-center-right,.swal2-container.swal2-grow-column.swal2-top-end,.swal2-container.swal2-grow-column.swal2-top-right{align-items:flex-end}.swal2-container.swal2-grow-column>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container:not(.swal2-top):not(.swal2-top-start):not(.swal2-top-end):not(.swal2-top-left):not(.swal2-top-right):not(.swal2-center-start):not(.swal2-center-end):not(.swal2-center-left):not(.swal2-center-right):not(.swal2-bottom):not(.swal2-bottom-start):not(.swal2-bottom-end):not(.swal2-bottom-left):not(.swal2-bottom-right):not(.swal2-grow-fullscreen)>.swal2-modal{margin:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-container .swal2-modal{margin:0!important}}.swal2-container.swal2-fade{transition:background-color .1s}.swal2-container.swal2-shown{background-color:rgba(0,0,0,.4)}.swal2-popup{display:none;position:relative;box-sizing:border-box;flex-direction:column;justify-content:center;width:32em;max-width:100%;padding:1.25em;border:none;border-radius:.3125em;background:#fff;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-header{display:flex;flex-direction:column;align-items:center}.swal2-title{position:relative;max-width:100%;margin:0 0 .4em;padding:0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;flex-wrap:wrap;align-items:center;justify-content:center;width:100%;margin:1.25em auto 0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-actions.swal2-loading .swal2-styled.swal2-confirm{box-sizing:border-box;width:2.5em;height:2.5em;margin:.46875em;padding:0;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border:.25em solid transparent;border-radius:100%;border-color:transparent;background-color:transparent!important;color:transparent;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-actions.swal2-loading .swal2-styled.swal2-cancel{margin-right:30px;margin-left:30px}.swal2-actions.swal2-loading :not(.swal2-styled).swal2-confirm::after{content:"";display:inline-block;width:15px;height:15px;margin-left:5px;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border:3px solid #999;border-radius:50%;border-right-color:transparent;box-shadow:1px 1px 1px #fff}.swal2-styled{margin:.3125em;padding:.625em 2em;box-shadow:none;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#3085d6;color:#fff;font-size:1.0625em}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#aaa;color:#fff;font-size:1.0625em}.swal2-styled:focus{outline:0;box-shadow:0 0 0 2px #fff,0 0 0 4px rgba(50,100,150,.4)}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1.25em 0 0;padding:1em 0 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-image{max-width:100%;margin:1.25em auto}.swal2-close{position:absolute;z-index:2;top:0;right:0;justify-content:center;width:1.2em;height:1.2em;padding:0;overflow:hidden;transition:color .1s ease-out;border:none;border-radius:0;outline:initial;background:0 0;color:#ccc;font-family:serif;font-size:2.5em;line-height:1.2;cursor:pointer}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-content{z-index:1;justify-content:center;margin:0;padding:0;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em auto}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:100%;transition:border-color .3s,box-shadow .3s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06);color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:0 0 3px #c4e6f5}.swal2-file::-webkit-input-placeholder,.swal2-input::-webkit-input-placeholder,.swal2-textarea::-webkit-input-placeholder{color:#ccc}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::-ms-input-placeholder,.swal2-input::-ms-input-placeholder,.swal2-textarea::-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em auto;background:inherit}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-input[type=number]{max-width:10em}.swal2-file{background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:inherit;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{margin:0 .4em}.swal2-validation-message{display:none;align-items:center;justify-content:center;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;zoom:normal;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:1.25em auto 1.875em;zoom:normal;border:.25em solid transparent;border-radius:50%;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon::before{display:flex;align-items:center;height:92%;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning::before{content:"!"}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info::before{content:"i"}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question::before{content:"?"}.swal2-icon.swal2-question.swal2-arabic-question-mark::before{content:"\u061f"}.swal2-icon.swal2-success{border-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.875em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-progress-steps{align-items:center;margin:0 0 1.25em;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;width:2em;height:2em;border-radius:2em;background:#3085d6;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#3085d6}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;width:2.5em;height:.4em;margin:0 -1px;background:#3085d6}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-show.swal2-noanimation{-webkit-animation:none;animation:none}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-hide.swal2-noanimation{-webkit-animation:none;animation:none}.swal2-rtl .swal2-close{right:auto;left:0}.swal2-animate-success-icon .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-animate-success-icon .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-animate-success-icon .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-animate-error-icon{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-animate-error-icon .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}@supports (-ms-accelerator:true){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@-moz-document url-prefix(){.swal2-close:focus{outline:2px solid rgba(50,100,150,.4)}}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.875em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.875em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-shown{top:auto;right:auto;bottom:auto;left:auto;max-width:calc(100% - .625em * 2);background-color:transparent}body.swal2-no-backdrop .swal2-shown>.swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-no-backdrop .swal2-shown.swal2-top{top:0;left:50%;transform:translateX(-50%)}body.swal2-no-backdrop .swal2-shown.swal2-top-left,body.swal2-no-backdrop .swal2-shown.swal2-top-start{top:0;left:0}body.swal2-no-backdrop .swal2-shown.swal2-top-end,body.swal2-no-backdrop .swal2-shown.swal2-top-right{top:0;right:0}body.swal2-no-backdrop .swal2-shown.swal2-center{top:50%;left:50%;transform:translate(-50%,-50%)}body.swal2-no-backdrop .swal2-shown.swal2-center-left,body.swal2-no-backdrop .swal2-shown.swal2-center-start{top:50%;left:0;transform:translateY(-50%)}body.swal2-no-backdrop .swal2-shown.swal2-center-end,body.swal2-no-backdrop .swal2-shown.swal2-center-right{top:50%;right:0;transform:translateY(-50%)}body.swal2-no-backdrop .swal2-shown.swal2-bottom{bottom:0;left:50%;transform:translateX(-50%)}body.swal2-no-backdrop .swal2-shown.swal2-bottom-left,body.swal2-no-backdrop .swal2-shown.swal2-bottom-start{bottom:0;left:0}body.swal2-no-backdrop .swal2-shown.swal2-bottom-end,body.swal2-no-backdrop .swal2-shown.swal2-bottom-right{right:0;bottom:0}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{background-color:transparent}body.swal2-toast-shown .swal2-container.swal2-shown{background-color:transparent}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}body.swal2-toast-column .swal2-toast{flex-direction:column;align-items:stretch}body.swal2-toast-column .swal2-toast .swal2-actions{flex:1;align-self:stretch;height:2.2em;margin-top:.3125em}body.swal2-toast-column .swal2-toast .swal2-loading{justify-content:center}body.swal2-toast-column .swal2-toast .swal2-input{height:2em;margin:.3125em auto;font-size:1em}body.swal2-toast-column .swal2-toast .swal2-validation-message{font-size:1em}')},PU8L:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("6blF");function i(t){var e=new r.a(function(e){e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}},S1nX:function(t,e,n){"use strict";var r=n("mrSG"),i=n("K9Ia"),o=n("6blF"),a=n("FFOo"),l=n("pugT");function u(){return function(t){return t.lift(new s(t))}}var s=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new c(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),c=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.c(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(a.a),h=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.c(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new l.a).add(this.source.subscribe(new p(this.getSubject(),this))),t.closed?(this._connection=null,t=l.a.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return u()(this)},e}(o.a).prototype,f={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:h._subscribe},_isComplete:{value:h._isComplete,writable:!0},getSubject:{value:h.getSubject},connect:{value:h.connect},refCount:{value:h.refCount}},p=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.c(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(i.b);function d(){return new i.a}function m(){return function(t){return u()((e=d,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}}n.d(e,"a",function(){return m})},S5XQ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DKTb"),i=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,r.a),e}}},UdJG:function(t,e,n){"use strict";n.d(e,"b",function(){return f}),n.d(e,"a",function(){return p});var r=n("0/uQ"),i=n("htu+"),o=n("67Y/"),a=n("VnD/"),l=n("dC0D"),u=n("83ve"),s=n("D4gr"),c=n("NKHs"),h=function(){return(h=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function f(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}var p=function(){function t(t,e,n){this.ref=t,this.query=e,this.afs=n}return t.prototype.stateChanges=function(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Object(u.c)(this.query))).pipe(Object(o.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),Object(a.a)(function(t){return t.length>0})):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Object(u.c)(this.query)))},t.prototype.auditTrail=function(t){return this.stateChanges(t).pipe(Object(l.a)(function(t,e){return t.concat(e)},[]))},t.prototype.snapshotChanges=function(t){var e=f(t),n=Object(u.d)(this.query,e),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)},t.prototype.valueChanges=function(t){void 0===t&&(t={});var e=Object(i.a)(this.query),n=this.afs.scheduler.runOutsideAngular(e);return this.afs.scheduler.keepUnstableUntilFirst(n).pipe(Object(o.a)(function(e){return e.payload.docs.map(function(e){var n;return t.idField?h({},e.data(),((n={})[t.idField]=e.id,n)):e.data()})}))},t.prototype.get=function(t){return Object(r.a)(this.query.get(t)).pipe(Object(c.b)(this.afs.scheduler.zone))},t.prototype.add=function(t){return this.ref.add(t)},t.prototype.doc=function(t){return new s.a(this.ref.doc(t),this.afs)},t}()},"VnD/":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),i=n("FFOo");function o(t,e){return function(n){return n.lift(new a(t,e))}}var a=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.predicate,this.thisArg))},t}(),l=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r.c(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)},e}(i.a)},Wcq6:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;t.exports=i},X8TH:function(t,e,n){"use strict";n("mrSG");var r=n("fvl4");n("6Joi"),n.d(e,"a",function(){return i});var i=function(){function t(){}var e;return e=t,t.enablePersistence=function(t){return{ngModule:e,providers:[{provide:r.c,useValue:!0},{provide:r.e,useValue:t}]}},t}()},ZBkt:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n("mrSG");var r=n("6blF"),i=n("0/uQ"),o=n("F/XL"),a=n("15JJ"),l=n("NKHs"),u=n("hDTV"),s=function(){return function(t,e,n,s){var c=this;this.zone=s;var h=new l.a(s,n);this.auth=s.runOutsideAngular(function(){return Object(u.e)(t,e).auth()}),this.authState=h.keepUnstableUntilFirst(h.runOutsideAngular(new r.a(function(t){return{unsubscribe:c.auth.onAuthStateChanged(t)}}))),this.user=h.keepUnstableUntilFirst(h.runOutsideAngular(new r.a(function(t){return{unsubscribe:c.auth.onIdTokenChanged(t)}}))),this.idToken=this.user.pipe(Object(a.a)(function(t){return t?Object(i.a)(t.getIdToken()):Object(o.a)(null)})),this.idTokenResult=this.user.pipe(Object(a.a)(function(t){return t?Object(i.a)(t.getIdTokenResult()):Object(o.a)(null)}))}}()},Zn8D:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("psW0"),i=n("mChF");function o(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(r.a)(i.a,t)}},crnd:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="crnd"},dC0D:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),i=n("FFOo");function o(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new a(t,e,n))}}var a=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.accumulator,this.seed,this.hasSeed))},t}(),l=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return r.c(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)},e}(i.a)},fvl4:function(t,e,n){"use strict";n.d(e,"c",function(){return d}),n.d(e,"e",function(){return m}),n.d(e,"d",function(){return g}),n.d(e,"b",function(){return v}),n.d(e,"f",function(){return b}),n.d(e,"a",function(){return w}),n("mrSG");var r=n("CcnG"),i=n("0/uQ"),o=n("F/XL"),a=n("D4gr"),l=n("UdJG"),u=n("9V49"),s=n("NKHs"),c=n("hDTV"),h=n("Ip0R"),f=n("Wcq6"),p=n.n(f),d=new r.p("angularfire2.enableFirestorePersistence"),m=new r.p("angularfire2.firestore.persistenceSettings"),g=new r.p("angularfire2.firestore.settings"),y=parseInt(p.a.SDK_VERSION.split(".")[0]),v=y<5||5==y&&parseInt(p.a.SDK_VERSION.split(".")[1])<8?{timestampsInSnapshots:!0}:{};function b(t,e){return void 0===e&&(e=function(t){return t}),{query:e(t),ref:t}}var w=function(){function t(t,e,n,r,a,l,u){var f=this;this.scheduler=new s.a(l,a),this.firestore=l.runOutsideAngular(function(){var n=Object(c.e)(t,e).firestore();return n.settings(r||v),n}),this.persistenceEnabled$=n&&!Object(h.p)(a)?l.runOutsideAngular(function(){try{return Object(i.a)(f.firestore.enablePersistence(u||void 0).then(function(){return!0},function(){return!1}))}catch(t){return Object(o.a)(!1)}}):Object(o.a)(!1)}return t.prototype.collection=function(t,e){var n=b("string"==typeof t?this.firestore.collection(t):t,e);return new l.a(n.ref,n.query,this)},t.prototype.collectionGroup=function(t,e){if(y<6)throw"collection group queries require Firebase JS SDK >= 6.0";var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new u.a(n(r),this)},t.prototype.doc=function(t){var e;return e="string"==typeof t?this.firestore.doc(t):t,new a.a(e,this)},t.prototype.createId=function(){return this.firestore.collection("_").doc().id},t}()},hDTV:function(t,e,n){"use strict";n.d(e,"d",function(){return a}),n.d(e,"c",function(){return l}),n.d(e,"b",function(){return u}),n.d(e,"e",function(){return s}),n.d(e,"a",function(){return c}),n("mrSG");var r=n("CcnG"),i=n("Wcq6"),o=n.n(i),a=new r.p("angularfire2.app.options"),l=new r.p("angularfire2.app.nameOrConfig"),u=function(){return function(){}}();function s(t,e){var n="object"==typeof e&&e||{};return n.name=n.name||"string"==typeof e&&e||"[DEFAULT]",o.a.apps.filter(function(t){return t&&t.name===n.name})[0]||o.a.initializeApp(t,n)}var c=function(){function t(){}var e;return e=t,t.initializeApp=function(t,n){return{ngModule:e,providers:[{provide:a,useValue:t},{provide:l,useValue:n}]}},t}()},"htu+":function(t,e,n){"use strict";n.d(e,"c",function(){return a}),n.d(e,"b",function(){return l}),n.d(e,"a",function(){return u});var r=n("6blF"),i=n("S1nX"),o=n("67Y/");function a(t){return function(t){return new r.a(function(e){return{unsubscribe:t.onSnapshot(e)}})}(t).pipe(Object(i.a)())}function l(t){return a(t).pipe(Object(o.a)(function(t){return{payload:t,type:"value"}}))}function u(t){return a(t).pipe(Object(o.a)(function(t){return{payload:t,type:"query"}}))}},iLxQ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},isby:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},mChF:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"e",function(){return l}),n.d(e,"d",function(){return u}),n.d(e,"h",function(){return s}),n.d(e,"f",function(){return c}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function l(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function s(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(l){i={error:l}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function h(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}},nkY7:function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},os0x:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return l}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return s}),n.d(e,"__awaiter",function(){return c}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return f}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return d}),n.d(e,"__spread",function(){return m}),n.d(e,"__spreadArrays",function(){return g}),n.d(e,"__await",function(){return y}),n.d(e,"__asyncGenerator",function(){return v}),n.d(e,"__asyncDelegator",function(){return b}),n.d(e,"__asyncValues",function(){return w}),n.d(e,"__makeTemplateObject",function(){return _}),n.d(e,"__importStar",function(){return C}),n.d(e,"__importDefault",function(){return E});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function l(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function s(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function l(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,l)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(l){o=[6,l],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(l){i={error:l}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,l=o.length;a<l;a++,i++)r[i]=o[a];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||l(t,e)})})}function l(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(u,s):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function u(t){l("next",t)}function s(t){l("throw",t)}function c(t,e){t(e),o.shift(),o.length&&l(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,i,(e=t[n](e)).done,e.value)})}}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},psW0:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("mrSG"),i=n("zotm"),o=n("MGBS"),a=n("rPjj"),l=n("67Y/"),u=n("0/uQ");function s(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(s(function(n,r){return Object(u.a)(t(n,r)).pipe(Object(l.a)(function(t,i){return e(n,t,r,i)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new c(t,n))})}var c=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.project,this.concurrent))},t}(),h=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.c(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new a.a(this,void 0,void 0);this.destination.add(r),Object(i.a)(this,t,e,n,r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.a)},pugT:function(t,e,n){"use strict";var r,i=n("isby"),o=n("McSo"),a=n("2Bdj"),l={e:{}};function u(){try{return r.apply(this,arguments)}catch(t){return l.e=t,l}}function s(t){return r=t,u}function c(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}c.prototype=Object.create(Error.prototype);var h=c;n.d(e,"a",function(){return f});var f=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,r=this._parents,u=this._unsubscribe,c=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var f=-1,d=r?r.length:0;n;)n.remove(this),n=++f<d&&r[f]||null;if(Object(a.a)(u)&&s(u).call(this)===l&&(e=!0,t=t||(l.e instanceof h?p(l.e.errors):[l.e])),Object(i.a)(c))for(f=-1,d=c.length;++f<d;){var m=c[f];if(Object(o.a)(m)&&s(m.unsubscribe).call(m)===l){e=!0,t=t||[];var g=l.e;g instanceof h?t=t.concat(p(g.errors)):t.push(g)}}if(e)throw new h(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=((e=new t).closed=!0,e),t}();function p(t){return t.reduce(function(t,e){return t.concat(e instanceof h?e.errors:e)},[])}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,l=o.length;a<l;a++,i++)r[i]=o[a];return r}n.r(e),n.d(e,"LogLevel",function(){return o}),n.d(e,"Logger",function(){return u}),n.d(e,"setLogLevel",function(){return s});var i=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a=o.INFO,l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var a=(new Date).toISOString();switch(e){case o.DEBUG:case o.VERBOSE:console.log.apply(console,r(["["+a+"]  "+t.name+":"],n));break;case o.INFO:console.info.apply(console,r(["["+a+"]  "+t.name+":"],n));break;case o.WARN:console.warn.apply(console,r(["["+a+"]  "+t.name+":"],n));break;case o.ERROR:console.error.apply(console,r(["["+a+"]  "+t.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},u=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=l,i.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function s(t){i.forEach(function(e){e.logLevel=t})}},rPjj:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),i=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.c(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n("FFOo").a)},tct4:function(t,e,n){"use strict";n.r(e);var r=n("fvl4"),i=n("X8TH"),o=n("UdJG"),a=n("9V49"),l=n("D4gr"),u=n("83ve"),s=n("htu+");n.d(e,"EnablePersistenceToken",function(){return r.c}),n.d(e,"PersistenceSettingsToken",function(){return r.e}),n.d(e,"FirestoreSettingsToken",function(){return r.d}),n.d(e,"DefaultFirestoreSettings",function(){return r.b}),n.d(e,"associateQuery",function(){return r.f}),n.d(e,"AngularFirestore",function(){return r.a}),n.d(e,"AngularFirestoreModule",function(){return i.a}),n.d(e,"validateEventsArray",function(){return o.b}),n.d(e,"AngularFirestoreCollection",function(){return o.a}),n.d(e,"AngularFirestoreCollectionGroup",function(){return a.a}),n.d(e,"AngularFirestoreDocument",function(){return l.a}),n.d(e,"docChanges",function(){return u.c}),n.d(e,"sortedChanges",function(){return u.d}),n.d(e,"combineChanges",function(){return u.b}),n.d(e,"combineChange",function(){return u.a}),n.d(e,"fromRef",function(){return s.c}),n.d(e,"fromDocRef",function(){return s.b}),n.d(e,"fromCollectionRef",function(){return s.a})},u67D:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("En8+"),i=function(t){return function(e){for(var n=t[r.a]();;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e}}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("30Go"),o=n("zVF4"),a=n("q/0M"),l=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),u=new o.ErrorFactory("app","Firebase",l),s="[DEFAULT]",c=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.services_={},this.tokenListeners_=[],this.analyticsEventRequests_=[],this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(t);var i=this;this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){r.tokenListeners_.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){r.tokenListeners_=r.tokenListeners_.filter(function(e){return e!==t})},analytics:{logEvent:function(){i.analyticsEventRequests_.push(arguments)}}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);for(var e=[],n=0,r=Object.keys(t.services_);n<r.length;n++)for(var i=r[n],o=0,a=Object.keys(t.services_[i]);o<a.length;o++)e.push(t.services_[i][a[o]]);return Promise.all(e.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=s),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==s?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=s),this.services_[t]&&this.services_[t][e]&&delete this.services_[t][e]},t.prototype.extendApp=function(t){if(o.deepExtend(this,t),t.INTERNAL){if(t.INTERNAL.addAuthTokenListener){for(var e=0,n=this.tokenListeners_;e<n.length;e++)this.INTERNAL.addAuthTokenListener(n[e]);this.tokenListeners_=[]}if(t.INTERNAL.analytics){for(var r=0,i=this.analyticsEventRequests_;r<i.length;r++)this.INTERNAL.analytics.logEvent.apply(void 0,i[r]);this.analyticsEventRequests_=[]}}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw u.create("app-deleted",{appName:this.name_})},t}();c.prototype.name&&c.prototype.options||c.prototype.delete||console.log("dc");var h=new a.Logger("@firebase/app");if(o.isBrowser()&&void 0!==self.firebase){h.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var f=self.firebase.SDK_VERSION;f&&f.indexOf("LITE")>=0&&h.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var p=function t(){var e=function(t){var e={},n={},r={},i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),("object"!=typeof r||null===r)&&(r={name:r});var a=r;void 0===a.name&&(a.name=s);var l=a.name;if("string"!=typeof l||!l)throw u.create("bad-app-name",{appName:String(l)});if(o.contains(e,l))throw u.create("duplicate-app",{appName:l});var h=new t(n,a,i);return e[l]=h,c(h,"create"),h},app:a,apps:null,SDK_VERSION:"7.2.1",INTERNAL:{registerService:function(e,s,c,f,p){if(void 0===p&&(p=!1),n[e])return h.debug("There were multiple attempts to register service "+e+"."),i[e];function d(t){if(void 0===t&&(t=a()),"function"!=typeof t[e])throw u.create("invalid-app-argument",{appName:e});return t[e]()}return n[e]=s,f&&(r[e]=f,l().forEach(function(t){f("create",t)})),void 0!==c&&o.deepExtend(d,c),i[e]=d,t.prototype[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._getService.bind(this,e).apply(this,p?t:[])},d},removeApp:function(t){c(e[t],"delete"),delete e[t]},factories:n,useAsService:f}};function a(t){if(!o.contains(e,t=t||s))throw u.create("no-app",{appName:t});return e[t]}function l(){return Object.keys(e).map(function(t){return e[t]})}function c(t,e){for(var i=0,o=Object.keys(n);i<o.length;i++){var a=f(0,o[i]);if(null===a)return;r[a]&&r[a](e,t)}}function f(t,e){return"serverAuth"===e?null:e}return i.default=i,Object.defineProperty(i,"apps",{get:l}),a.App=t,i}(c);return e.INTERNAL=i.__assign(i.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){o.deepExtend(e,t)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),e}(),d=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o.isNode()&&h.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),d.apply(void 0,t)};var m=p;e.default=m,e.firebase=m},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",function(){return lr}),n.d(e,"EventType",function(){return ur}),n.d(e,"WebChannel",function(){return sr}),n.d(e,"XhrIo",function(){return cr}),n.d(e,"createWebChannelTransport",function(){return ar});var r,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=o||{},a=i;function l(t){return"string"==typeof t}function u(t){return"number"==typeof t}function s(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function c(){}function h(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function f(t){return"array"==h(t)}function p(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:v).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var _=Date.now||function(){return+new Date};function C(t,e){function n(){}n.prototype=e.prototype,t.N=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.yb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function E(){this.j=this.j,this.i=this.i}E.prototype.j=!1,E.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[m]||(this[m]=++g))},E.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var S=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(l(t))return l(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},T=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=l(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function I(t){return Array.prototype.concat.apply([],arguments)}function k(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function O(t){return/^[\s\xa0]*$/.test(t)}var x,A=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function N(t,e){return-1!=t.indexOf(e)}function D(t,e){return t<e?-1:t>e?1:0}t:{var P=a.navigator;if(P){var R=P.userAgent;if(R){x=R;break t}}x=""}function M(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function j(t){var e,n={};for(e in t)n[e]=t[e];return n}var L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<L.length;o++)n=L[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function F(t){return F[" "](t),t}F[" "]=c;var U,q,B=N(x,"Opera"),z=N(x,"Trident")||N(x,"MSIE"),H=N(x,"Edge"),K=H||z,G=N(x,"Gecko")&&!(N(x.toLowerCase(),"webkit")&&!N(x,"Edge"))&&!(N(x,"Trident")||N(x,"MSIE"))&&!N(x,"Edge"),W=N(x.toLowerCase(),"webkit")&&!N(x,"Edge");function Q(){var t=a.document;return t?t.documentMode:void 0}t:{var Y="",X=(q=x,G?/rv:([^\);]+)(\)|;)/.exec(q):H?/Edge\/([\d\.]+)/.exec(q):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(q):W?/WebKit\/(\S+)/.exec(q):B?/(?:Version)[ \/]?(\S+)/.exec(q):void 0);if(X&&(Y=X?X[1]:""),z){var J=Q();if(null!=J&&J>parseFloat(Y)){U=String(J);break t}}U=Y}var Z,$={};function tt(t){return function(t,e){var n=$;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=A(String(U)).split("."),r=A(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",l=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==a[0].length&&0==l[0].length)break;e=D(0==a[1].length?0:parseInt(a[1],10),0==l[1].length?0:parseInt(l[1],10))||D(0==a[2].length,0==l[2].length)||D(a[2],l[2]),a=a[3],l=l[3]}while(0==e)}return 0<=e})}var et=a.document;Z=et&&z?Q()||("CSS1Compat"==et.compatMode?parseInt(U,10):5):void 0;var nt=!z||9<=Number(Z),rt=z&&!tt("9"),it=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",c,e),a.removeEventListener("test",c,e)}catch(n){}return t}();function ot(t,e){this.type=t,this.a=this.target=e,this.Ja=!0}function at(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(G){t:{try{F(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=l(t.pointerType)?t.pointerType:lt[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ot.prototype.b=function(){this.Ja=!1},C(at,ot);var lt={2:"touch",3:"pen",4:"mouse"};at.prototype.b=function(){at.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,rt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ut="closure_listenable_"+(1e6*Math.random()|0),st=0;function ct(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++st,this.X=this.Z=!1}function ht(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function ft(t){this.src=t,this.a={},this.b=0}function pt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=S(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ht(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function dt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.X&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}ft.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=dt(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new ct(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var mt="closure_lm_"+(1e6*Math.random()|0),gt={};function yt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(f(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=St(r),e&&e[ut]?e.Ba(n,r,d(i)?!!i.capture:!!i,o):vt(e,n,r,!0,i,o)}(t,e,n,r,i);if(f(e)){for(var o=0;o<e.length;o++)yt(t,e[o],n,r,i);return null}return n=St(n),t&&t[ut]?t.Aa(e,n,d(r)?!!r.capture:!!r,i):vt(t,e,n,!1,r,i)}function vt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=d(i)?!!i.capture:!!i;if(a&&!nt)return null;var l=Ct(t);if(l||(t[mt]=l=new ft(t)),(n=l.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=_t,e=nt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)it||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(wt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function bt(t){if(!u(t)&&t&&!t.X){var e=t.src;if(e&&e[ut])pt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(wt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ct(e))?(pt(n,t),0==n.b&&(n.src=null,e[mt]=null)):ht(t)}}}function wt(t){return t in gt?gt[t]:gt[t]="on"+t}function _t(t,e){return!!t.X||function(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&bt(t),n.call(r,e)}(t,nt?new at(e,this):e=new at(e||s("window.event"),this))}function Ct(t){return(t=t[mt])instanceof ft?t:null}var Et="__closure_events_fn_"+(1e9*Math.random()>>>0);function St(t){return"function"==h(t)?t:(t[Et]||(t[Et]=function(e){return t.handleEvent(e)}),t[Et])}function Tt(){E.call(this),this.c=new ft(this),this.J=this,this.B=null}function It(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.X&&a.capture==n){var l=a.listener,u=a.da||a.src;a.Z&&pt(t.c,a),i=!1!==l.call(u,r)&&i}}return i&&0!=r.Ja}C(Tt,E),Tt.prototype[ut]=!0,(r=Tt.prototype).addEventListener=function(t,e,n,r){yt(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(f(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=d(i)?!!i.capture:!!i,r=St(r),e&&e[ut]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=dt(a=e.a[n],r,i,o))&&(ht(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--))):e&&(e=Ct(e))&&(n=e.a[n.toString()],e=-1,n&&(e=dt(n,r,i,o)),(r=-1<e?n[e]:null)&&bt(r))}(this,t,e,n,r)},r.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var r=t.type||t;if(l(t))t=new ot(t,n);else if(t instanceof ot)t.target=t.target||n;else{var i=t;V(t=new ot(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.a=e[o];i=It(a,r,!0,t)&&i}if(i=It(a=t.a=n,r,!0,t)&&i,i=It(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=It(a=t.a=e[o],r,!1,t)&&i;return i},r.G=function(){if(Tt.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ht(n[r]);delete e.a[t],e.b--}}this.B=null},r.Aa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},r.Ba=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var kt=a.JSON.stringify;function Ot(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function xt(){this.b=this.a=null}Ot.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var At,Nt=new Ot(function(){return new Pt},function(t){t.reset()});function Dt(){var t=Lt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Pt(){this.next=this.b=this.a=null}function Rt(t){a.setTimeout(function(){throw t},0)}function Mt(t,e){At||function(){var t=a.Promise.resolve(void 0);At=function(){t.then(Vt)}}(),jt||(At(),jt=!0),Lt.add(t,e)}xt.prototype.add=function(t,e){var n=Nt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Pt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Pt.prototype.reset=function(){this.next=this.b=this.a=null};var jt=!1,Lt=new xt;function Vt(){for(var t;t=Dt();){try{t.a.call(t.b)}catch(n){Rt(n)}var e=Nt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}jt=!1}function Ft(t,e){Tt.call(this),this.b=t||1,this.a=e||a,this.f=b(this.gb,this),this.g=_()}function Ut(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function qt(t,e,n){if("function"==h(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Bt(t,e,n){E.call(this),this.f=null!=n?b(t,n):t,this.c=e,this.b=b(this.ab,this),this.a=[]}function zt(t){t.U=qt(t.b,t.c),t.f.apply(null,t.a)}function Ht(t){E.call(this),this.b=t,this.a={}}C(Ft,Tt),(r=Ft.prototype).ba=!1,r.L=null,r.gb=function(){if(this.ba){var t=_()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Ut(this),this.start()))}},r.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=_())},r.G=function(){Ft.N.G.call(this),Ut(this),delete this.a},C(Bt,E),(r=Bt.prototype).ea=!1,r.U=null,r.Ua=function(t){this.a=arguments,this.U?this.ea=!0:zt(this)},r.G=function(){Bt.N.G.call(this),this.U&&(a.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},r.ab=function(){this.U=null,this.ea&&(this.ea=!1,zt(this))},C(Ht,E);var Kt=[];function Gt(t,e,n,r){f(n)||(n&&(Kt[0]=n.toString()),n=Kt);for(var i=0;i<n.length;i++){var o=yt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Wt(t){M(t.a,function(t,e){this.a.hasOwnProperty(e)&&bt(t)},t),t.a={}}function Qt(){}Ht.prototype.G=function(){Ht.N.G.call(this),Wt(this)},Ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yt=new Tt;function Xt(t){ot.call(this,"serverreachability",t)}function Jt(t){Yt.dispatchEvent(new Xt(Yt,t))}function Zt(t){ot.call(this,"statevent",t)}function $t(t){Yt.dispatchEvent(new Zt(Yt,t))}function te(t){ot.call(this,"timingevent",t)}function ee(t,e){if("function"!=h(t))throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){t()},e)}C(Xt,ot),C(Zt,ot),C(te,ot);var ne={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},re={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function ie(){}function oe(){}ie.prototype.a=null;var ae,le={OPEN:"a",ib:"b",Na:"c",rb:"d"};function ue(){ot.call(this,"d")}function se(){ot.call(this,"c")}function ce(){}function he(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new Ht(this),this.O=fe,this.P=new Ft(t=K?125:void 0),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}C(ue,ot),C(se,ot),C(ce,ie),ae=new ce;var fe=45e3,pe={},de={};function me(t,e,n){t.F=1,t.f=Ue(Pe(e)),t.l=n,t.H=!0,ye(t,null)}function ge(t,e,n,r){t.F=1,t.f=Ue(Pe(e)),t.l=null,t.H=n,ye(t,r)}function ye(t,e){t.v=_(),we(t),t.D=Pe(t.f),Fe(t.D,"t",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new Bt(b(t.Ka,t,t.a),t.J)),Gt(t.I,t.a,"readystatechange",t.eb),e=t.h?j(t.h):{},t.l?(t.w||(t.w="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ca(t.D,t.w,t.l,e)):(t.w="GET",t.a.ca(t.D,t.w,null,e)),Jt(1)}function ve(t,e,n){for(var r=!0;!t.m&&t.A<n.length;){var i=be(t,n);if(i==de){4==e&&(t.c=4,$t(14),r=!1);break}if(i==pe){t.c=4,$t(15),r=!1;break}Te(t,i)}4==e&&0==n.length&&(t.c=1,$t(16),r=!1),t.b=t.b&&r,r||(Se(t),Ee(t))}function be(t,e){var n=t.A,r=e.indexOf("\n",n);return-1==r?de:(n=Number(e.substring(n,r)),isNaN(n)?pe:(r+=1)+n>e.length?de:(e=e.substr(r,n),t.A=r+n,e))}function we(t){t.R=_()+t.O,_e(t,t.O)}function _e(t,e){if(null!=t.i)throw Error("WatchDog timer not null");t.i=ee(b(t.bb,t),e)}function Ce(t){t.i&&(a.clearTimeout(t.i),t.i=null)}function Ee(t){t.g.Da()||t.m||t.g.na(t)}function Se(t){Ce(t);var e=t.B;e&&"function"==typeof e.la&&e.la(),t.B=null,Ut(t.P),Wt(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function Te(t,e){try{t.g.Ga(t,e),Jt(4)}catch(n){}}function Ie(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||l(t))T(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.C&&"function"==typeof t.C)n=void 0;else if(p(t)||l(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.C&&"function"==typeof t.C)return t.C();if(l(t))return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ke(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ke)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Oe(t,e){Ae(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&xe(t))}function xe(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ae(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ae(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ae(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=he.prototype).setTimeout=function(t){this.O=t},r.eb=function(t){t=t.target;var e=this.B;e&&3==Pn(t)?e.Ua():this.Ka(t)},r.Ka=function(t){try{if(t==this.a)t:{var e=Pn(this.a),n=this.a.ya(),r=this.a.T();if(!(3>e||3==e&&!K&&!this.a.aa())){this.m||4!=e||7==n||Jt(8==n||0>=r?3:2),Ce(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){e:{if(this.a){var a=Rn(this.a,"X-HTTP-Initial-Response");if(a&&!O(a)){var l=a;break e}}l=null}if(!l){this.b=!1,this.c=3,$t(12),Se(this),Ee(this);break t}this.s=!0,Te(this,l)}this.H?(ve(this,e,o),K&&this.b&&3==e&&(Gt(this.I,this.P,"tick",this.cb),this.P.start())):Te(this,o),4==e&&Se(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,we(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,$t(12)):(this.c=0,$t(13)),Se(this),Ee(this)}}}catch(u){}},r.cb=function(){if(this.a){var t=Pn(this.a),e=this.a.aa();this.A<e.length&&(Ce(this),ve(this,t,e),this.b&&4!=t&&we(this))}},r.cancel=function(){this.m=!0,Se(this)},r.bb=function(){this.i=null;var t=_();0<=t-this.R?(2!=this.F&&(Jt(3),$t(17)),Se(this),this.c=2,Ee(this)):_e(this,this.R-t)},(r=ke.prototype).C=function(){xe(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},r.K=function(){return xe(this),this.a.concat()},r.get=function(t,e){return Ae(this.b,t)?this.b[t]:e},r.set=function(t,e){Ae(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},r.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ne=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function De(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof De?(this.h=void 0!==e?e:t.h,Re(this,t.f),this.j=t.j,Me(this,t.b),je(this,t.i),this.a=t.a,Le(this,tn(t.c)),this.g=t.g):t&&(n=String(t).match(Ne))?(this.h=!!e,Re(this,n[1]||"",!0),this.j=qe(n[2]||""),Me(this,n[3]||"",!0),je(this,n[4]),this.a=qe(n[5]||"",!0),Le(this,n[6]||"",!0),this.g=qe(n[7]||"")):(this.h=!!e,this.c=new Ye(null,this.h))}function Pe(t){return new De(t)}function Re(t,e,n){t.f=n?qe(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Me(t,e,n){t.b=n?qe(e,!0):e}function je(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Le(t,e,n){e instanceof Ye?(t.c=e,function(t,e){e&&!t.f&&(Xe(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Je(this,e),$e(this,n,t))},t)),t.f=e}(t.c,t.h)):(n||(e=Be(e,We)),t.c=new Ye(e,t.h))}function Ve(t,e,n){t.c.set(e,n)}function Fe(t,e,n){f(n)||(n=[String(n)]),$e(t.c,e,n)}function Ue(t){return Ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^_()).toString(36)),t}function qe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Be(t,e,n){return l(t)?(t=encodeURI(t).replace(e,ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}De.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Be(e,He,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Be(e,He,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Be(n,"/"==n.charAt(0)?Ge:Ke,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",Be(n,Qe)),t.join("")},De.prototype.resolve=function(t){var e=Pe(this),n=!!t.f;n?Re(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?Me(e,t.b):n=null!=t.i;var r=t.a;if(n)je(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=e.a.lastIndexOf("/");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(N(i,"./")||N(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var l=i[a++];"."==l?r&&a==i.length&&o.push(""):".."==l?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(l),r=!0)}r=o.join("/")}else r=i}return n?e.a=r:n=""!==t.c.toString(),n?Le(e,tn(t.c)):n=!!t.g,n&&(e.g=t.g),e};var He=/[#\/\?@]/g,Ke=/[#\?:]/g,Ge=/[#\?]/g,We=/[#\?@]/g,Qe=/#/g;function Ye(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Xe(t){t.a||(t.a=new ke,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Je(t,e){Xe(t),e=en(t,e),Ae(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Oe(t.a,e))}function Ze(t,e){return Xe(t),e=en(t,e),Ae(t.a.b,e)}function $e(t,e,n){Je(t,e),0<n.length&&(t.c=null,t.a.set(en(t,e),k(n)),t.b+=n.length)}function tn(t){var e=new Ye;return e.c=t.c,t.a&&(e.a=new ke(t.a),e.b=t.b),e}function en(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nn(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function rn(t){var e=t.a.F.a;if(null!=e)$t(4),e?($t(10),Gn(t.a,t,!1)):($t(11),Gn(t.a,t,!0));else{t.b=new he(t,void 0,void 0),t.b.h=t.h,e=Jn(e=t.a,e.Y()?t.f:null,t.i),$t(4),Fe(e,"TYPE","xmlhttp");var n=t.a.j,r=t.a.I;n&&r&&Ve(e,n,r),ge(t.b,e,!1,t.f)}}function on(){this.a=this.b=null}function an(){this.a=new ke}function ln(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[m]||(t[m]=++g)):e.charAt(0)+t}function un(t,e){this.b=t,this.a=e}function sn(t){this.g=t||cn,t=a.PerformanceNavigationTiming?0<(t=a.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(a.ka&&a.ka.Ea&&a.ka.Ea()&&a.ka.Ea().zb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new an),this.b=null,this.c=[]}(r=Ye.prototype).add=function(t,e){Xe(this),this.c=null,t=en(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},r.forEach=function(t,e){Xe(this),this.a.forEach(function(n,r){T(n,function(n){t.call(e,n,r,this)},this)},this)},r.K=function(){Xe(this);for(var t=this.a.C(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},r.C=function(t){Xe(this);var e=[];if(l(t))Ze(this,t)&&(e=I(e,this.a.get(en(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=I(e,t[n])}return e},r.set=function(t,e){return Xe(this),this.c=null,Ze(this,t=en(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},r.get=function(t,e){return t&&0<(t=this.C(t)).length?String(t[0]):e},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")},C(function(){},function(){}),(r=nn.prototype).M=null,r.$=function(t){return this.a.$(t)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Da=function(){return!1},r.Ga=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=Rn(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(t=Rn(t,"X-HTTP-Session-Id"))&&(this.a.I=t)}if(e){try{var r=this.a.ja.a.parse(e)}catch(i){return(e=this.a).m=this.c,void Yn(e,2)}this.f=r[0]}else(e=this.a).m=this.c,Yn(e,2)}else 1==this.M&&(this.g?$t(6):"11111"==e?($t(5),this.g=!0,(!z||10<=Number(Z))&&(this.c=200,this.b.cancel(),$t(11),Gn(this.a,this,!0))):($t(7),this.g=!1))},r.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,rn(this)):1==this.M&&(this.g?($t(11),Gn(this.a,this,!0)):($t(10),Gn(this.a,this,!1)));else{0==this.M?$t(8):1==this.M&&$t(9);var t=this.a;t.m=this.c,Yn(t,2)}},r.Y=function(){return this.a.Y()},r.ma=function(){return this.a.ma()},an.prototype.add=function(t){this.a.set(ln(t),t)},an.prototype.C=function(){return this.a.C()};var cn=10;function hn(t,e){!t.a&&(N(e,"spdy")||N(e,"quic")||N(e,"h2"))&&(t.f=t.g,t.a=new an,t.b&&(mn(t,t.b),t.b=null))}function fn(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function pn(t){return t.b?1:t.a?t.a.a.c:0}function dn(t,e){return t.b?t=t.b==e:t.a?(e=ln(e),t=Ae(t.a.a.b,e)):t=!1,t}function mn(t,e){t.a?t.a.add(e):t.b=e}function gn(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=ln(e),n=Ae(t.a.a.b,n)),n&&Oe(t.a.a,ln(e)))}function yn(t){if(null!=t.b)return t.c.concat(t.b.j);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return T(t.a.C(),function(t){e=e.concat(t.j)}),e}return k(t.c)}function vn(){}function bn(){this.a=new vn}function wn(t,e,n){var r=n||"";try{Ie(t,function(t,n){var i=t;d(t)&&(i=kt(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function _n(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}sn.prototype.cancel=function(){var t;this.c=yn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(T(this.a.C(),function(t){t.cancel()}),(t=this.a.a).b={},t.a.length=0,t.c=0)},vn.prototype.stringify=function(t){return a.JSON.stringify(t,void 0)},vn.prototype.parse=function(t){return a.JSON.parse(t,void 0)};var Cn=a.JSON.parse;function En(t){Tt.call(this),this.headers=new ke,this.H=t||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=Sn,this.D=this.F=!1}C(En,Tt);var Sn="",Tn=/^https?$/i,In=["POST","PUT"];function kn(t){return"content-type"==t.toLowerCase()}function On(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,xn(t),Nn(t)}function xn(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function An(t){if(t.b&&void 0!==o&&(!t.s[1]||4!=Pn(t)||2!=t.T()))if(t.l&&4==Pn(t))qt(t.Fa,0,t);else if(t.dispatchEvent("readystatechange"),4==Pn(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var l=String(t.A).match(Ne)[1]||null;if(!l&&a.self&&a.self.location){var u=a.self.location.protocol;l=u.substr(0,u.length-1)}i=!Tn.test(l?l.toLowerCase():"")}e=i}e?(t.dispatchEvent("complete"),t.dispatchEvent("success")):(t.h=6,t.f=t.za()+" ["+t.T()+"]",xn(t))}finally{Nn(t)}}}function Nn(t,e){if(t.a){Dn(t);var n=t.a,r=t.s[0]?c:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function Dn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(a.clearTimeout(t.m),t.m=null)}function Pn(t){return t.a?t.a.readyState:0}function Rn(t,e){return t.a?t.a.getResponseHeader(e):null}function Mn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var e="";return M(n,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(),l(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return Ve(t,e,n),t}function jn(t){this.f=[],this.F=new on,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!s("internalChannelParams.failFast",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=s("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Sa=s("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Qa=s("internalChannelParams.forwardChannelMaxRetries",t)||2,this.qa=s("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.La=t&&t.Ab||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H="",this.b=new sn(t&&t.concurrentRequestLimit),this.ja=new bn,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Ln(t){if(Vn(t),3==t.u){var e=t.P++,n=Pe(t.B);Ve(n,"SID",t.H),Ve(n,"RID",e),Ve(n,"TYPE","terminate"),Bn(t,n),(e=new he(t,e,void 0)).F=2,e.f=Ue(Pe(n)),n=!1,a.navigator&&a.navigator.sendBeacon&&(n=a.navigator.sendBeacon(e.f.toString(),"")),!n&&a.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=_(),we(e)}Xn(t)}function Vn(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(a.clearTimeout(t.l),t.l=null),Wn(t),t.b.cancel(),t.h&&(u(t.h)&&a.clearTimeout(t.h),t.h=null)}function Fn(t,e){t.f.push(new un(t.Ra++,e)),3==t.u&&Un(t)}function Un(t){fn(t.b)||t.h||(t.h=!0,Mt(t.Ia,t),t.A=0)}function qn(t,e){var n;n=e?e.W:t.P++;var r=Pe(t.B);Ve(r,"SID",t.H),Ve(r,"RID",n),Ve(r,"AID",t.O),Bn(t,r),t.g&&t.i&&Mn(r,t.g,t.i),n=new he(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=zn(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),mn(t.b,n),me(n,r,e)}function Bn(t,e){t.c&&Ie({},function(t,n){Ve(e,n,t)})}function zn(t,e,n){n=Math.min(t.f.length,n);var r=t.c?b(t.c.Ta,t.c,t):null;t:for(var i=t.f,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var l=!0,u=0;u<n;u++){var s=i[u].b,c=i[u].a;if(0>(s-=o))o=Math.max(0,i[u].b-100),l=!1;else try{wn(c,a,"req"+s+"_")}catch(h){r&&r(c)}}if(l){r=a.join("&");break t}}return t=t.f.splice(0,n),e.j=t,r}function Hn(t){t.a||t.l||(t.S=1,Mt(t.Ha,t),t.v=0)}function Kn(t){return!(t.a||t.l||3<=t.v||(t.S++,t.l=ee(b(t.Ha,t),Qn(t,t.v)),t.v++,0))}function Gn(t,e,n){var r=e.l;r&&hn(t.b,r),t.ia=t.oa&&n,t.m=e.c,t.B=Jn(t,null,t.ha),Un(t)}function Wn(t){null!=t.s&&(a.clearTimeout(t.s),t.s=null)}function Qn(t,e){var n=t.Oa+Math.floor(Math.random()*t.Sa);return t.ma()||(n*=2),n*e}function Yn(t,e){if(2==e){var n=null;t.c&&(n=null);var r=b(t.fb,t);n||(n=new De("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||Re(n,"https"),Ue(n)),function(t,e){var n=new Qt;if(a.Image){var r=new Image;r.onload=w(_n,n,r,"TestLoadImage: loaded",!0,e),r.onerror=w(_n,n,r,"TestLoadImage: error",!1,e),r.onabort=w(_n,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=w(_n,n,r,"TestLoadImage: timeout",!1,e),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else $t(2);t.u=0,t.c&&t.c.ta(e),Xn(t),Vn(t)}function Xn(t){t.u=0,t.m=-1,t.c&&(0==yn(t.b).length&&0==t.f.length||(t.b.c.length=0,k(t.f),t.f.length=0),t.c.sa())}function Jn(t,e,n){var r=function(t){return t instanceof De?Pe(t):new De(t,void 0)}(n);if(""!=r.b)e&&Me(r,e+"."+r.b),je(r,r.i);else{var i=a.location;r=function(t,e,n,r){var i=new De(null,void 0);return t&&Re(i,t),e&&Me(i,e),n&&je(i,n),r&&(i.a=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&M(t.V,function(t,e){Ve(r,e,t)}),n=t.I,(e=t.j)&&n&&Ve(r,e,n),Ve(r,"VER",t.wa),Bn(t,r),r}function Zn(){}function $n(){if(z&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function tr(t,e){Tt.call(this),this.a=new jn(e),this.g=t,this.m=e&&e.testUrl?e.testUrl:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?e=i:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?i:"/"+i)}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.xa&&(t?t["X-WebChannel-Client-Profile"]=e.xa:t={"X-WebChannel-Client-Profile":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!O(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!O(e)&&(this.a.j=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new rr(this)}function er(t){ue.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function nr(){se.call(this),this.status=1}function rr(t){this.a=t}(r=En.prototype).ca=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+t);e=e?e.toUpperCase():"GET",this.A=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:ae),this.a.onreadystatechange=b(this.Fa,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(o){return void On(this,o)}t=n||"";var i=new ke(this.headers);r&&Ie(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=kn,n=t.length,r=l(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:l(t)?t.charAt(e):t[e]}(i.K()),n=a.FormData&&t instanceof a.FormData,!(0<=S(In,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Dn(this),0<this.o&&((this.D=function(t){return z&&tt(9)&&u(t.timeout)&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=b(this.Ca,this)):this.m=qt(this.Ca,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){On(this,o)}},r.Ca=function(){void 0!==o&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Nn(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Nn(this,!0)),En.N.G.call(this)},r.Fa=function(){this.j||(this.w||this.l||this.g?An(this):this.$a())},r.$a=function(){An(this)},r.T=function(){try{return 2<Pn(this)?this.a.status:-1}catch(q){return-1}},r.za=function(){try{return 2<Pn(this)?this.a.statusText:""}catch(q){return""}},r.aa=function(){try{return this.a?this.a.responseText:""}catch(q){return""}},r.Va=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Cn(e)}},r.ya=function(){return this.h},r.Ya=function(){return l(this.f)?this.f:String(this.f)},(r=jn.prototype).wa=8,r.u=1,r.Da=function(){return 0==this.u},r.Ia=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random());var e,n=new he(this,t=this.P++,void 0),r=this.i;if(this.J&&(r?V(r=j(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&l(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=zn(this,n,e),Ve(i=Pe(this.B),"RID",t),Ve(i,"CVER",22),this.o&&this.j&&Ve(i,"X-HTTP-Session-Id",this.j),Bn(this,i),this.g&&r&&Mn(i,this.g,r),mn(this.b,n),this.W?(Ve(i,"$req",e),Ve(i,"SID","null"),n.S=!0,me(n,i,null)):me(n,i,e),this.u=2}}else 3==this.u&&(t?qn(this,t):0==this.f.length||fn(this.b)||qn(this))},r.Ha=function(){this.l=null,this.a=new he(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=Pe(this.pa);Ve(t,"RID","rpc"),Ve(t,"SID",this.H),Ve(t,"CI",this.ia?"0":"1"),Ve(t,"AID",this.O),Bn(this,t),Ve(t,"TYPE","xmlhttp"),this.g&&this.i&&Mn(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),ge(this.a,t,!0,this.ga)},r.Ga=function(t,e){if(0!=this.u&&(this.a==t||dn(this.b,t)))if(this.m=t.o,!t.s&&dn(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(o){n=null}if(f(n)&&3==n.length){if(0==(e=n)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;Wn(this),this.a.cancel(),this.a=null}Kn(this),$t(18)}}else this.ra=e[1],0<this.ra-this.O&&37500>e[2]&&this.ia&&0==this.v&&!this.s&&(this.s=ee(b(this.Za,this),6e3));if(1>=pn(this.b)&&this.fa){try{this.fa()}catch(o){}this.fa=void 0}}else Yn(this,11)}else if((t.s||this.a==t)&&Wn(this),!O(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var r=e[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&u(r)&&0<r&&(this.D=1.5*r),this.o&&(r=t.a)&&((i=Rn(r,"X-Client-Wire-Protocol"))&&hn(this.b,i),this.j&&(r=Rn(r,"X-HTTP-Session-Id")))&&(this.I=r,Ve(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=t,this.pa=Jn(this,this.Y()?this.ga:null,this.ha),r.s?(gn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(Ce(r),we(r)),this.a=r):Hn(this),0<this.f.length&&Un(this)}else"stop"!=r[0]&&"close"!=r[0]||Yn(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?Yn(this,7):Ln(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},r.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Kn(this),$t(19))},r.na=function(t){var e=null;if(this.a==t){Wn(this),this.a=null;var n=2}else{if(!dn(this.b,t))return;e=t.j,gn(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=_()-t.v,Yt.dispatchEvent(new te(Yt,t.l?t.l.length:0,e,this.A)),Un(this)):Hn(this);else{var r=t.c;if(3==r||0==r&&0<this.m||!(1==n&&function(t,e){return!(pn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.f=e.j.concat(t.f),0):1==t.u||2==t.u||t.A>=(t.Pa?0:t.Qa)||(t.h=ee(b(t.Ia,t,e),Qn(t,t.A)),t.A++,0)))}(this,t)||2==n&&Kn(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),r){case 1:Yn(this,5);break;case 4:Yn(this,10);break;case 3:Yn(this,6);break;default:Yn(this,2)}}},r.fb=function(t){$t(t?2:1)},r.$=function(t){if(t&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new En(this.La)).F=this.R,t},r.ma=function(){return!!this.c&&!0},r.Y=function(){return this.R},(r=Zn.prototype).va=function(){},r.ua=function(){},r.ta=function(){},r.sa=function(){},r.Ta=function(){},$n.prototype.a=function(t,e){return new tr(t,e)},C(tr,Tt),(r=tr.prototype).addEventListener=function(t,e,n,r){tr.N.addEventListener.call(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){tr.N.removeEventListener.call(this,t,e,n,r)},r.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,r=this.b||void 0;$t(0),t.ha=n,t.V=r||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new nn(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=Mn(e,t.g,t.i)),(t=t.w).i=n,e=Jn(t.a,null,t.i),$t(3),null!=(n=t.a.F.b)?(t.f=n[0],t.M=1,rn(t)):(Fe(e,"MODE","init"),!t.a.o&&t.a.j&&Fe(e,"X-HTTP-Session-Id",t.a.j),t.b=new he(t,void 0,void 0),t.b.h=t.h,ge(t.b,e,!1,null),t.M=0)},r.close=function(){Ln(this.a)},r.Xa=function(t){if(l(t)){var e={};e.__data__=t,Fn(this.a,e)}else this.h?((e={}).__data__=kt(t),Fn(this.a,e)):Fn(this.a,t)},r.G=function(){this.a.c=null,delete this.f,Ln(this.a),delete this.a,tr.N.G.call(this)},C(er,ue),C(nr,se),C(rr,Zn),rr.prototype.va=function(){this.a.dispatchEvent("a")},rr.prototype.ua=function(t){this.a.dispatchEvent(new er(t))},rr.prototype.ta=function(t){this.a.dispatchEvent(new nr(t))},rr.prototype.sa=function(){this.a.dispatchEvent("b")};var ir=w(function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r},$n);$n.prototype.createWebChannel=$n.prototype.a,tr.prototype.send=tr.prototype.Xa,tr.prototype.open=tr.prototype.Wa,tr.prototype.close=tr.prototype.close,ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,re.COMPLETE="complete",oe.EventType=le,le.OPEN="a",le.CLOSE="b",le.ERROR="c",le.MESSAGE="d",Tt.prototype.listen=Tt.prototype.Aa,En.prototype.listenOnce=En.prototype.Ba,En.prototype.getLastError=En.prototype.Ya,En.prototype.getLastErrorCode=En.prototype.ya,En.prototype.getStatus=En.prototype.T,En.prototype.getStatusText=En.prototype.za,En.prototype.getResponseJson=En.prototype.Va,En.prototype.getResponseText=En.prototype.aa,En.prototype.send=En.prototype.ca;var or={createWebChannelTransport:ir,ErrorCode:ne,EventType:re,WebChannel:oe,XhrIo:En},ar=or.createWebChannelTransport,lr=or.ErrorCode,ur=or.EventType,sr=or.WebChannel,cr=or.XhrIo;e.default=or},xTla:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},y3By:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("+umK");function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}function o(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:r.a}},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("CcnG"),i=function(){return function(){}}(),o=n("mrSG"),a=n("F/XL"),l=n("6blF"),u=n("psW0");function s(t,e){return Object(u.a)(t,e,1)}var c=n("VnD/"),h=n("67Y/"),f=n("Ip0R"),p=function(){return function(){}}(),d=function(){return function(){}}(),m=function(){function t(t){var e=this;this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){e.headers=new Map,t.split("\n").forEach(function(t){var n=t.indexOf(":");if(n>0){var r=t.slice(0,n),i=r.toLowerCase(),o=t.slice(n+1).trim();e.maybeSetNormalizedName(r,i),e.headers.has(i)?e.headers.get(i).push(o):e.headers.set(i,[o])}})}:function(){e.headers=new Map,Object.keys(t).forEach(function(n){var r=t[n],i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(e.headers.set(i,r),e.maybeSetNormalizedName(n,i))})}:this.headers=new Map}return t.prototype.has=function(t){return this.init(),this.headers.has(t.toLowerCase())},t.prototype.get=function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null},t.prototype.keys=function(){return this.init(),Array.from(this.normalizedNames.values())},t.prototype.getAll=function(t){return this.init(),this.headers.get(t.toLowerCase())||null},t.prototype.append=function(t,e){return this.clone({name:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({name:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({name:t,value:e,op:"d"})},t.prototype.maybeSetNormalizedName=function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)},t.prototype.init=function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))},t.prototype.copyFrom=function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})},t.prototype.clone=function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n},t.prototype.applyUpdate=function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,Object(o.g)(n)),this.headers.set(e,r);break;case"d":var i=t.value;if(i){var a=this.headers.get(e);if(!a)return;0===(a=a.filter(function(t){return-1===i.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}},t.prototype.forEach=function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})},t}(),g=function(){function t(){}return t.prototype.encodeKey=function(t){return y(t)},t.prototype.encodeValue=function(t){return y(t)},t.prototype.decodeKey=function(t){return decodeURIComponent(t)},t.prototype.decodeValue=function(t){return decodeURIComponent(t)},t}();function y(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var v=function(){function t(t){void 0===t&&(t={});var e,n,r,i=this;if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new g,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(e=t.fromString,n=this.encoder,r=new Map,e.length>0&&e.split("&").forEach(function(t){var e=t.indexOf("="),i=Object(o.f)(-1==e?[n.decodeKey(t),""]:[n.decodeKey(t.slice(0,e)),n.decodeValue(t.slice(e+1))],2),a=i[0],l=i[1],u=r.get(a)||[];u.push(l),r.set(a,u)}),r)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(function(e){var n=t.fromObject[e];i.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}return t.prototype.has=function(t){return this.init(),this.map.has(t)},t.prototype.get=function(t){this.init();var e=this.map.get(t);return e?e[0]:null},t.prototype.getAll=function(t){return this.init(),this.map.get(t)||null},t.prototype.keys=function(){return this.init(),Array.from(this.map.keys())},t.prototype.append=function(t,e){return this.clone({param:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({param:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({param:t,value:e,op:"d"})},t.prototype.toString=function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).join("&")},t.prototype.clone=function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n},t.prototype.init=function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}}),this.cloneFrom=null)},t}();function b(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function w(t){return"undefined"!=typeof Blob&&t instanceof Blob}function _(t){return"undefined"!=typeof FormData&&t instanceof FormData}var C=function(){function t(t,e,n,r){var i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new m),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{var a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new v,this.urlWithParams=e}return t.prototype.serializeBody=function(){return null===this.body?null:b(this.body)||w(this.body)||_(this.body)||"string"==typeof this.body?this.body:this.body instanceof v?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()},t.prototype.detectContentTypeHeader=function(){return null===this.body?null:_(this.body)?null:w(this.body)?this.body.type||null:b(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof v?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null},t.prototype.clone=function(e){void 0===e&&(e={});var n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,l=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,s=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce(function(t,n){return t.set(n,e.setHeaders[n])},u)),e.setParams&&(s=Object.keys(e.setParams).reduce(function(t,n){return t.set(n,e.setParams[n])},s)),new t(n,r,o,{params:s,headers:u,reportProgress:l,responseType:i,withCredentials:a})},t}(),E=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),S=function(){return function(t,e,n){void 0===e&&(e=200),void 0===n&&(n="OK"),this.headers=t.headers||new m,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}(),T=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.type=E.ResponseHeader,n}return Object(o.c)(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(S),I=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.type=E.Response,n.body=void 0!==e.body?e.body:null,n}return Object(o.c)(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(S),k=function(t){function e(e){var n=t.call(this,e,0,"Unknown Error")||this;return n.name="HttpErrorResponse",n.ok=!1,n.message=n.status>=200&&n.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):"Http failure response for "+(e.url||"(unknown url)")+": "+e.status+" "+e.statusText,n.error=e.error||null,n}return Object(o.c)(e,t),e}(S);function O(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var x=function(){function t(t){this.handler=t}return t.prototype.request=function(t,e,n){var r,i=this;if(void 0===n&&(n={}),t instanceof C)r=t;else{var o;o=n.headers instanceof m?n.headers:new m(n.headers);var l=void 0;n.params&&(l=n.params instanceof v?n.params:new v({fromObject:n.params})),r=new C(t,e,void 0!==n.body?n.body:null,{headers:o,params:l,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}var u=Object(a.a)(r).pipe(s(function(t){return i.handler.handle(t)}));if(t instanceof C||"events"===n.observe)return u;var f=u.pipe(Object(c.a)(function(t){return t instanceof I}));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return f.pipe(Object(h.a)(function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return f.pipe(Object(h.a)(function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return f.pipe(Object(h.a)(function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return f.pipe(Object(h.a)(function(t){return t.body}))}case"response":return f;default:throw new Error("Unreachable: unhandled observe type "+n.observe+"}")}},t.prototype.delete=function(t,e){return void 0===e&&(e={}),this.request("DELETE",t,e)},t.prototype.get=function(t,e){return void 0===e&&(e={}),this.request("GET",t,e)},t.prototype.head=function(t,e){return void 0===e&&(e={}),this.request("HEAD",t,e)},t.prototype.jsonp=function(t,e){return this.request("JSONP",t,{params:(new v).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})},t.prototype.options=function(t,e){return void 0===e&&(e={}),this.request("OPTIONS",t,e)},t.prototype.patch=function(t,e,n){return void 0===n&&(n={}),this.request("PATCH",t,O(n,e))},t.prototype.post=function(t,e,n){return void 0===n&&(n={}),this.request("POST",t,O(n,e))},t.prototype.put=function(t,e,n){return void 0===n&&(n={}),this.request("PUT",t,O(n,e))},t}(),A=function(){function t(t,e){this.next=t,this.interceptor=e}return t.prototype.handle=function(t){return this.interceptor.intercept(t,this.next)},t}(),N=new r.p("HTTP_INTERCEPTORS"),D=function(){function t(){}return t.prototype.intercept=function(t,e){return e.handle(t)},t}(),P=/^\)\]\}',?\n/,R=function(){return function(){}}(),M=function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t}(),j=function(){function t(t){this.xhrFactory=t}return t.prototype.handle=function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new l.a(function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach(function(t,e){return r.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=t.serializeBody(),l=null,u=function(){if(null!==l)return l;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new m(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return l=new T({headers:i,status:e,statusText:n,url:o})},s=function(){var e=u(),i=e.headers,o=e.status,a=e.statusText,l=e.url,s=null;204!==o&&(s=void 0===r.response?r.responseText:r.response),0===o&&(o=s?200:0);var c=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof s){var h=s;s=s.replace(P,"");try{s=""!==s?JSON.parse(s):null}catch(f){s=h,c&&(c=!1,s={error:f,text:s})}}c?(n.next(new I({body:s,headers:i,status:o,statusText:a,url:l||void 0})),n.complete()):n.error(new k({error:s,headers:i,status:o,statusText:a,url:l||void 0}))},c=function(t){var e=new k({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error"});n.error(e)},h=!1,f=function(e){h||(n.next(u()),h=!0);var i={type:E.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},p=function(t){var e={type:E.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",s),r.addEventListener("error",c),t.reportProgress&&(r.addEventListener("progress",f),null!==a&&r.upload&&r.upload.addEventListener("progress",p)),r.send(a),n.next({type:E.Sent}),function(){r.removeEventListener("error",c),r.removeEventListener("load",s),t.reportProgress&&(r.removeEventListener("progress",f),null!==a&&r.upload&&r.upload.removeEventListener("progress",p)),r.abort()}})},t}(),L=new r.p("XSRF_COOKIE_NAME"),V=new r.p("XSRF_HEADER_NAME"),F=function(){return function(){}}(),U=function(){function t(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return t.prototype.getToken=function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(f.s)(t,this.cookieName),this.lastCookieString=t),this.lastToken},t}(),q=function(){function t(t,e){this.tokenService=t,this.headerName=e}return t.prototype.intercept=function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)},t}(),B=function(){function t(t,e){this.backend=t,this.injector=e,this.chain=null}return t.prototype.handle=function(t){if(null===this.chain){var e=this.injector.get(N,[]);this.chain=e.reduceRight(function(t,e){return new A(t,e)},this.backend)}return this.chain.handle(t)},t}(),z=function(){function t(){}var e;return e=t,t.disable=function(){return{ngModule:e,providers:[{provide:q,useClass:D}]}},t.withOptions=function(t){return void 0===t&&(t={}),{ngModule:e,providers:[t.cookieName?{provide:L,useValue:t.cookieName}:[],t.headerName?{provide:V,useValue:t.headerName}:[]]}},t}(),H=function(){return function(){}}(),K=function(){function t(t){this.http=t,this.info={},this.cargada=!1,this.equipo=[],this.cargarInfo(),this.cargarEquipo()}return t.prototype.cargarInfo=function(){var t=this;this.http.get("assets/data/data-pagina.json").subscribe(function(e){t.cargada=!0,t.info=e})},t.prototype.cargarEquipo=function(){var t=this;this.http.get("https://angular-html-25cf9.firebaseio.com/equipo.json").subscribe(function(e){t.equipo=e})},t.ngInjectableDef=r.S({factory:function(){return new t(r.W(x))},token:t,providedIn:"root"}),t}(),G=function(){function t(t){this.http=t,this.url="https://sirenalive-5438a.firebaseio.com",this.cargando=!0,this.productosFiltrado=[],this.data=[],this.cargarProductos()}return t.prototype.cargarProductos=function(){var t=this;return new Promise(function(e){t.http.get("https://ovgsoft.com/api/peluches.php").subscribe(function(n){t.productos=n,t.cargando=!1,e()})})},t.prototype.getProducto=function(t){return this.http.get("https://sirenalive-5438a.firebaseio.com/peluches/"+t+".json")},t.prototype.buscarProducto=function(t){var e=this;0===this.productosFiltrado.length?this.cargarProductos().then(function(){e.filtrarProductos(t)}):this.filtrarProductos(t)},t.prototype.filtrarProductos=function(t){var e=this;this.productosFiltrado=[],t=t.toLocaleLowerCase(),this.productosFiltrado.forEach(function(n){var r=n.titulo.toLocaleLowerCase();(n.categoria.indexOf(t)>=0||r.indexOf(t)>=0)&&e.productosFiltrado.push(n)})},t.prototype.crearHeroe=function(t){return this.http.post(this.url+"/pedidos.json",t)},t.ngInjectableDef=r.S({factory:function(){return new t(r.W(x))},token:t,providedIn:"root"}),t}(),W=function(){function t(t){this.http=t,this.paises=[]}return t.prototype.getPaises=function(){var t=this;return this.paises.length>0?Promise.resolve(this.paises):new Promise(function(e){t.http.get("https://restcountries.eu/rest/v2/lang/es").subscribe(function(n){console.log(n),t.paises=n,e(n)})})},t.prototype.getPaisPorId=function(t){var e=this;if(this.paises.length>0){var n=this.paises.find(function(e){return e.alpha3Code===t});return Promise.resolve(n)}return this.getPaises().then(function(n){var r=e.paises.find(function(e){return e.alpha3Code===t});return Promise.resolve(r)})},t.ngInjectableDef=r.S({factory:function(){return new t(r.W(x))},token:t,providedIn:"root"}),t}(),Q=(n("CqG3"),n("Oipj"),n("Wcq6")),Y=function(){function t(t,e){var n=this;this.afs=t,this.afAuth=e,this.chats=[],this.usuario={},this.afAuth.authState.subscribe(function(t){console.log("Estado del usuario: ",t),t&&(n.usuario.nombre="Oscar",n.usuario.uid="idd")})}return t.prototype.login=function(t){this.afAuth.auth.signInWithPopup("google"===t?new Q.auth.GoogleAuthProvider:new Q.auth.TwitterAuthProvider)},t.prototype.logout=function(){this.usuario={},this.afAuth.auth.signOut()},t.prototype.cargarMensajes=function(){var t=this;return this.itemsCollection=this.afs.collection("chats",function(t){return t.orderBy("fecha","desc").limit(5)}),this.itemsCollection.valueChanges().pipe(Object(h.a)(function(e){console.log(e),t.chats=[];for(var n=0,r=e;n<r.length;n++)t.chats.unshift(r[n]);return t.chats}))},t.prototype.agregarMensaje=function(t){var e={nombre:this.usuario.nombre,mensaje:t,fecha:(new Date).getTime(),uid:this.usuario.uid};return this.itemsCollection.add(e)},t}(),X=function(){return function(t,e,n,r){this.infoPaginaService=t,this.productosService=e,this.paisesService=n,this._cs=r,this.productos=[]}}(),J=n("0/uQ"),Z=n("K9Ia"),$=n("8g8A"),tt=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return o.c(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new $.a;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(Z.a);function et(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}et.prototype=Object.create(Error.prototype);var nt=et,rt=n("nkY7"),it=n("isby"),ot=n("MGBS"),at=n("zotm"),lt=n("IUTb"),ut={},st=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new ct(t,this.resultSelector))},t}(),ct=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return o.c(e,t),e.prototype._next=function(t){this.values.push(ut),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(at.a)(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.values,a=this.toRespond?o[n]===ut?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(ot.a),ht=n("G5J1");function ft(t){return new l.a(function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(J.a)(n):Object(ht.b)()).subscribe(e)})}var pt=n("Zn8D");function dt(){return Object(pt.a)(1)}var mt=n("FFOo");function gt(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}gt.prototype=Object.create(Error.prototype);var yt=gt;function vt(t){return function(e){return 0===t?Object(ht.b)():e.lift(new bt(t))}}var bt=function(){function t(t){if(this.total=t,this.total<0)throw new yt}return t.prototype.call=function(t,e){return e.subscribe(new wt(t,this.total))},t}(),wt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.ring=new Array,r.count=0,r}return o.c(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(mt.a),_t=n("+umK"),Ct=n("2Bdj");function Et(t,e,n){return function(r){return r.lift(new St(t,e,n))}}var St=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new Tt(t,this.nextOrObserver,this.error,this.complete))},t}(),Tt=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o._tapNext=_t.a,o._tapError=_t.a,o._tapComplete=_t.a,o._tapError=r||_t.a,o._tapComplete=i||_t.a,Object(Ct.a)(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||_t.a,o._tapError=n.error||_t.a,o._tapComplete=n.complete||_t.a),o}return o.c(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(mt.a),It=function(t){return void 0===t&&(t=kt),Et({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw t()}})};function kt(){return new nt}function Ot(t){return void 0===t&&(t=null),function(e){return e.lift(new xt(t))}}var xt=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new At(t,this.defaultValue))},t}(),At=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return o.c(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(mt.a),Nt=n("mChF");function Dt(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Object(c.a)(function(e,n){return t(e,n,r)}):Nt.a,vt(1),n?Ot(e):It(function(){return new nt}))}}var Pt=n("rPjj");function Rt(t){return function(e){var n=new Mt(t),r=e.lift(n);return n.caught=r}}var Mt=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new jt(t,this.selector,this.caught))},t}(),jt=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.selector=n,i.caught=r,i}return o.c(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(i){return void t.prototype.error.call(this,i)}this._unsubscribeAndRecycle();var r=new Pt.a(this,void 0,void 0);this.add(r),Object(at.a)(this,n,void 0,void 0,r)}},e}(ot.a);function Lt(t){return function(e){return 0===t?Object(ht.b)():e.lift(new Vt(t))}}var Vt=function(){function t(t){if(this.total=t,this.total<0)throw new yt}return t.prototype.call=function(t,e){return e.subscribe(new Ft(t,this.total))},t}(),Ft=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return o.c(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(mt.a);function Ut(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Object(c.a)(function(e,n){return t(e,n,r)}):Nt.a,Lt(1),n?Ot(e):It(function(){return new nt}))}}var qt=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new Bt(t,this.predicate,this.thisArg,this.source))},t}(),Bt=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return o.c(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(mt.a),zt=n("15JJ"),Ht=n("PU8L"),Kt=n("dC0D"),Gt=n("y3By"),Wt=n("pugT"),Qt=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new Yt(t,this.callback))},t}(),Yt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.add(new Wt.a(n)),r}return o.c(e,t),e}(mt.a),Xt=null;function Jt(){return Xt}var Zt,$t={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},te={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ee={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};r.qb.Node&&(Zt=r.qb.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var ne,re=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){var t;t=new e,Xt||(Xt=t)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){var r;(r=t)[e].apply(r,Object(o.g)(n))},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return $t},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return Zt.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n.item(r);e.set(i.name,i.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ee.hasOwnProperty(e)&&(e=ee[e]))}return te[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e,n=ie||(ie=document.querySelector("base"))?ie.getAttribute("href"):null;return null==n?null:(e=n,ne||(ne=document.createElement("a")),ne.setAttribute("href",e),"/"===ne.pathname.charAt(0)?ne.pathname:"/"+ne.pathname)},e.prototype.resetBaseElement=function(){ie=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return Object(f.s)(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=e.getStyle(n,r[i]+"AnimationName")){e._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])})}catch(a){e._animationPrefix=null,e._transitionEnd=null}return e}return Object(o.c)(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}())),ie=null,oe=f.c;function ae(){return!!window.history.pushState}var le=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return Object(o.c)(e,t),e.prototype._init=function(){this.location=Jt().getLocation(),this._history=Jt().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return Jt().getBaseHref(this._doc)},e.prototype.onPopState=function(t){Jt().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){Jt().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){ae()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){ae()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},Object(o.b)([Object(o.e)(0,Object(r.o)(oe)),Object(o.d)("design:paramtypes",[Object])],e)}(f.n),ue=new r.p("TRANSITION_ID"),se=[{provide:r.d,useFactory:function(t,e,n){return function(){n.get(r.e).donePromise.then(function(){var n=Jt();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[ue,oe,r.q],multi:!0}],ce=function(){function t(){}return t.init=function(){Object(r.Z)(new t)},t.prototype.addToWindow=function(t){r.qb.getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.qb.getAllAngularTestabilities=function(){return t.getAllTestabilities()},r.qb.getAllAngularRootElements=function(){return t.getAllRootElements()},r.qb.frameworkStabilizers||(r.qb.frameworkStabilizers=[]),r.qb.frameworkStabilizers.push(function(t){var e=r.qb.getAllAngularTestabilities(),n=e.length,i=!1,o=function(e){i=i||e,0==--n&&t(i)};e.forEach(function(t){t.whenStable(o)})})},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?Jt().isShadowRoot(e)?this.findTestabilityInTree(t,Jt().getHost(e),!0):this.findTestabilityInTree(t,Jt().parentElement(e),!0):null},t}();function he(t,e){"undefined"!=typeof COMPILED&&COMPILED||((r.qb.ng=r.qb.ng||{})[t]=e)}var fe={ApplicationRef:r.g,NgZone:r.z};function pe(t){return Object(r.V)(t)}var de=new r.p("EventManagerPlugins"),me=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)},t}(),ge=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var r=Jt().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target "+r+" for event "+e);return this.addEventListener(r,e,n)},t}(),ye=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),ve=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return Object(o.c)(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return Jt().remove(t)})},e}(ye),be={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},we=/%COMP%/g,_e="_nghost-%COMP%",Ce="_ngcontent-%COMP%";function Ee(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?Ee(t,i,n):(i=i.replace(we,t),n.push(i))}return n}function Se(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var Te=function(){function t(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new Ie(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.P.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new Ae(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case r.P.Native:case r.P.ShadowDom:return new Ne(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=Ee(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),Ie=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(be[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'+t+'" did not match any elements');return e||(n.textContent=""),n},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var i=be[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=be[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,i){i&r.F.DashCase?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){Oe(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return Oe(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Se(n)):this.eventManager.addEventListener(t,e,Se(n))},t}(),ke="@".charCodeAt(0);function Oe(t,e){if(t.charCodeAt(0)===ke)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var xe,Ae=function(t){function e(e,n,r){var i=t.call(this,e)||this;i.component=r;var o=Ee(r.id,r.styles,[]);return n.addStyles(o),i.contentAttr=Ce.replace(we,r.id),i.hostAttr=_e.replace(we,r.id),i}return Object(o.c)(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(Ie),Ne=function(t){function e(e,n,i,o){var a=t.call(this,e)||this;a.sharedStylesHost=n,a.hostEl=i,a.component=o,a.shadowRoot=o.encapsulation===r.P.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var l=Ee(o.id,o.styles,[]),u=0;u<l.length;u++){var s=document.createElement("style");s.textContent=l[u],a.shadowRoot.appendChild(s)}return a}return Object(o.c)(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(Ie),De="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},Pe=De("addEventListener"),Re=De("removeEventListener"),Me={},je="__zone_symbol__propagationStopped";"undefined"!=typeof Zone&&Zone[De("BLACK_LISTED_EVENTS")]&&(xe={});var Le=function(t){return!!xe&&xe.hasOwnProperty(t)},Ve=function(t){var e=Me[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length)return(a=n[0]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r);for(var i=n.slice(),o=0;o<i.length&&!0!==t[je];o++){var a;(a=i[o]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r)}}}},Fe=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.ngZone=n,r&&Object(f.p)(r)||i.patchEvent(),i}return Object(o.c)(e,t),e.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[je]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var i=this,o=n;if(!t[Pe]||r.z.isInAngularZone()&&!Le(e))t.addEventListener(e,o,!1);else{var a=Me[e];a||(a=Me[e]=De("ANGULAR"+e+"FALSE"));var l=t[a],u=l&&l.length>0;l||(l=t[a]=[]);var s=Le(e)?Zone.root:Zone.current;if(0===l.length)l.push({zone:s,handler:o});else{for(var c=!1,h=0;h<l.length;h++)if(l[h].handler===o){c=!0;break}c||l.push({zone:s,handler:o})}u||t[Pe](e,Ve,!1)}return function(){return i.removeEventListener(t,e,o)}},e.prototype.removeEventListener=function(t,e,n){var r=t[Re];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);var i=Me[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);for(var a=!1,l=0;l<o.length;l++)if(o[l].handler===n){a=!0,o.splice(l,1);break}a?0===o.length&&r.apply(t,[e,Ve,!1]):t.removeEventListener.apply(t,[e,n,!1])},e}(ge),Ue={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},qe=new r.p("HammerGestureConfig"),Be=new r.p("HammerLoader"),ze=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e},t}(),He=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o._config=n,o.console=r,o.loader=i,o}return Object(o.c)(e,t),e.prototype.supports=function(t){return!(!Ue.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn('The "'+t+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),1))},e.prototype.addEventListener=function(t,e,n){var r=this,i=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){var o=!1,a=function(){o=!0};return this.loader().then(function(){if(!window.Hammer)return r.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(a=function(){});o||(a=r.addEventListener(t,e,n))}).catch(function(){r.console.warn('The "'+e+'" event cannot be bound because the custom Hammer.JS loader failed.'),a=function(){}}),function(){a()}}return i.runOutsideAngular(function(){var o=r._config.buildHammer(t),a=function(t){i.runGuarded(function(){n(t)})};return o.on(e,a),function(){o.off(e,a),"function"==typeof o.destroy&&o.destroy()}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(ge),Ke=["alt","control","meta","shift"],Ge={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},We=function(t){function e(e){return t.call(this,e)||this}var n;return Object(o.c)(e,t),n=e,e.prototype.supports=function(t){return null!=n.parseEventName(t)},e.prototype.addEventListener=function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return Jt().onAndCancel(t,i.domEventName,o)})},e.parseEventName=function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(Ke.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a},e.getEventFullKey=function(t){var e="",n=Jt().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Ke.forEach(function(r){r!=n&&(0,Ge[r])(t)&&(e+=r+".")}),e+=n},e.eventCallback=function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded(function(){return e(i)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(ge),Qe=function(){return function(){}}(),Ye=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return Object(o.c)(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case r.H.NONE:return e;case r.H.HTML:return e instanceof Je?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),Object(r.db)(this._doc,String(e)));case r.H.STYLE:return e instanceof Ze?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),Object(r.eb)(e));case r.H.SCRIPT:if(e instanceof $e)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case r.H.URL:return e instanceof en||e instanceof tn?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Object(r.fb)(String(e)));case r.H.RESOURCE_URL:if(e instanceof en)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof Xe)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new Je(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new Ze(t)},e.prototype.bypassSecurityTrustScript=function(t){return new $e(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new tn(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new en(t)},e}(Qe),Xe=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),Je=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(Xe),Ze=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.getTypeName=function(){return"Style"},e}(Xe),$e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.getTypeName=function(){return"Script"},e}(Xe),tn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.getTypeName=function(){return"URL"},e}(Xe),en=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(Xe),nn=[{provide:r.B,useValue:f.q},{provide:r.C,useValue:function(){re.makeCurrent(),ce.init()},multi:!0},{provide:f.n,useClass:le,deps:[oe]},{provide:oe,useFactory:function(){return document},deps:[]}],rn=Object(r.R)(r.Y,"browser",nn);function on(){return new r.l}var an=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}var e;return e=t,t.withServerTransition=function(t){return{ngModule:e,providers:[{provide:r.c,useValue:t.appId},{provide:ue,useExisting:r.c},se]}},t}();"undefined"!=typeof window&&window;var ln=function(){return function(t,e){this.id=t,this.url=e}}(),un=function(t){function e(e,n,r,i){void 0===r&&(r="imperative"),void 0===i&&(i=null);var o=t.call(this,e,n)||this;return o.navigationTrigger=r,o.restoredState=i,o}return Object(o.c)(e,t),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(ln),sn=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i}return Object(o.c)(e,t),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(ln),cn=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.reason=r,i}return Object(o.c)(e,t),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(ln),hn=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.error=r,i}return Object(o.c)(e,t),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(ln),fn=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(o.c)(e,t),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(ln),pn=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(o.c)(e,t),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(ln),dn=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n)||this;return a.urlAfterRedirects=r,a.state=i,a.shouldActivate=o,a}return Object(o.c)(e,t),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(ln),mn=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(o.c)(e,t),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(ln),gn=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(o.c)(e,t),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(ln),yn=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),vn=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),bn=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),wn=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),_n=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Cn=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),En=function(){function t(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}return t.prototype.toString=function(){return"Scroll(anchor: '"+this.anchor+"', position: '"+(this.position?this.position[0]+", "+this.position[1]:null)+"')"},t}(),Sn=function(){return function(){}}(),Tn="primary",In=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}();function kn(t){return new In(t)}var On="ngNavigationCancelingError";function xn(t){var e=Error("NavigationCancelingError: "+t);return e[On]=!0,e}function An(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],l=t[o];if(a.startsWith(":"))i[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var Nn=function(){return function(t,e){this.routes=t,this.module=e}}();function Dn(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var r=t[n];Pn(r,Rn(e,r))}}function Pn(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==Tn)throw new Error("Invalid configuration of route '"+e+"': a componentless route without children or loadChildren cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&Dn(t.children,e)}function Rn(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function Mn(t){var e=t.children&&t.children.map(Mn),n=e?Object(o.a)({},t,{children:e}):Object(o.a)({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Tn&&(n.component=Sn),n}function jn(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(t[n=r[o]]!==e[n])return!1;return!0}function Ln(t){return Array.prototype.concat.apply([],t)}function Vn(t){return t.length>0?t[t.length-1]:null}function Fn(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Un(t){return Object(r.tb)(t)?t:Object(r.ub)(t)?Object(J.a)(Promise.resolve(t)):Object(a.a)(t)}function qn(t,e,n){return n?function(t,e){return jn(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Kn(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Kn(a=n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Kn(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),l=i.slice(n.segments.length);return!!Kn(n.segments,a)&&!!n.children[Tn]&&e(n.children[Tn],r,l)}(e,n,n.segments)}(t.root,e.root)}var Bn=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=kn(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Yn.serialize(this)},t}(),zn=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,Fn(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Xn(this)},t}(),Hn=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=kn(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return nr(this)},t}();function Kn(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function Gn(t,e){var n=[];return Fn(t.children,function(t,r){r===Tn&&(n=n.concat(e(t,r)))}),Fn(t.children,function(t,r){r!==Tn&&(n=n.concat(e(t,r)))}),n}var Wn=function(){return function(){}}(),Qn=function(){function t(){}return t.prototype.parse=function(t){var e=new lr(t);return new Bn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){var e,n;return"/"+function t(e,n){if(!e.hasChildren())return Xn(e);if(n){var r=e.children[Tn]?t(e.children[Tn],!1):"",i=[];return Fn(e.children,function(e,n){n!==Tn&&i.push(n+":"+t(e,!1))}),i.length>0?r+"("+i.join("//")+")":r}var o=Gn(e,function(n,r){return r===Tn?[t(e.children[Tn],!1)]:[r+":"+t(n,!1)]});return Xn(e)+"/("+o.join("//")+")"}(t.root,!0)+(e=t.queryParams,(n=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return Zn(t)+"="+Zn(e)}).join("&"):Zn(t)+"="+Zn(n)})).length?"?"+n.join("&"):"")+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),Yn=new Qn;function Xn(t){return t.segments.map(function(t){return nr(t)}).join("/")}function Jn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zn(t){return Jn(t).replace(/%3B/gi,";")}function $n(t){return Jn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tr(t){return decodeURIComponent(t)}function er(t){return tr(t.replace(/\+/g,"%20"))}function nr(t){return""+$n(t.path)+(e=t.parameters,Object.keys(e).map(function(t){return";"+$n(t)+"="+$n(e[t])}).join(""));var e}var rr=/^[^\/()?;=#]+/;function ir(t){var e=t.match(rr);return e?e[0]:""}var or=/^[^=?&#]+/,ar=/^[^?&#]+/,lr=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zn([],{}):new zn([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Tn]=new zn(t,e)),n},t.prototype.parseSegment=function(){var t=ir(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new Hn(tr(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=ir(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=ir(this.remaining);r&&this.capture(n=r)}t[tr(e)]=tr(n)}},t.prototype.parseQueryParam=function(t){var e,n=(e=this.remaining.match(or))?e[0]:"";if(n){this.capture(n);var r="";if(this.consumeOptional("=")){var i=function(t){var e=t.match(ar);return e?e[0]:""}(this.remaining);i&&this.capture(r=i)}var o=er(n),a=er(r);if(t.hasOwnProperty(o)){var l=t[o];Array.isArray(l)||(t[o]=l=[l]),l.push(a)}else t[o]=a}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=ir(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Tn);var o=this.parseChildren();e[i]=1===Object.keys(o).length?o[Tn]:new zn([],o),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),ur=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=sr(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=sr(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=cr(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return cr(t,this._root).map(function(t){return t.value})},t}();function sr(t,e){var n,r;if(t===e.value)return e;try{for(var i=Object(o.h)(e.children),a=i.next();!a.done;a=i.next()){var l=sr(t,a.value);if(l)return l}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return null}function cr(t,e){var n,r;if(t===e.value)return[e];try{for(var i=Object(o.h)(e.children),a=i.next();!a.done;a=i.next()){var l=cr(t,a.value);if(l.length)return l.unshift(e),l}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return[]}var hr=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}();function fr(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var pr=function(t){function e(e,n){var r=t.call(this,e)||this;return r.snapshot=n,br(r,e),r}return Object(o.c)(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(ur);function dr(t,e){var n=function(t,e){var n=new yr([],{},{},"",{},Tn,e,null,t.root,-1,{});return new vr("",new hr(n,[]))}(t,e),r=new tt([new Hn("",{})]),i=new tt({}),o=new tt({}),a=new tt({}),l=new tt(""),u=new mr(r,i,a,l,o,Tn,e,n.root);return u.snapshot=n.root,new pr(new hr(u,[]),n)}var mr=function(){function t(t,e,n,r,i,o,a,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this._futureSnapshot=l}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(h.a)(function(t){return kn(t)}))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(h.a)(function(t){return kn(t)}))),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}();function gr(t,e){void 0===e&&(e="emptyOnly");var n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],a=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function(t){return t.reduce(function(t,e){return{params:Object(o.a)({},t.params,e.params),data:Object(o.a)({},t.data,e.data),resolve:Object(o.a)({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var yr=function(){function t(t,e,n,r,i,o,a,l,u,s,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=s,this._resolve=c}return Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=kn(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=kn(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},t}(),vr=function(t){function e(e,n){var r=t.call(this,n)||this;return r.url=e,br(r,n),r}return Object(o.c)(e,t),e.prototype.toString=function(){return wr(this._root)},e}(ur);function br(t,e){e.value._routerState=t,e.children.forEach(function(e){return br(t,e)})}function wr(t){var e=t.children.length>0?" { "+t.children.map(wr).join(", ")+" } ":"";return""+t.value+e}function _r(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,jn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),jn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!jn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),jn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Cr(t,e){var n,r;return jn(t.params,e.params)&&Kn(n=t.url,r=e.url)&&n.every(function(t,e){return jn(t.parameters,r[e].parameters)})&&!(!t.parent!=!e.parent)&&(!t.parent||Cr(t.parent,e.parent))}function Er(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Sr(t,e,n,r,i){var o={};return r&&Fn(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),new Bn(n.root===t?e:function t(e,n,r){var i={};return Fn(e.children,function(e,o){i[o]=e===n?r:t(e,n,r)}),new zn(e.segments,i)}(n.root,t,e),o,i)}var Tr=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Er(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(r&&r!==Vn(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),Ir=function(){return function(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}();function kr(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Tn]:""+t}function Or(t,e,n){if(t||(t=new zn([],{})),0===t.segments.length&&t.hasChildren())return xr(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],l=kr(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!Pr(l,u,a))return o;r+=2}else{if(!Pr(l,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new zn(t.segments.slice(0,r.pathIndex),{});return o.children[Tn]=new zn(t.segments.slice(r.pathIndex),t.children),xr(o,0,i)}return r.match&&0===i.length?new zn(t.segments,{}):r.match&&!t.hasChildren()?Ar(t,e,n):r.match?xr(t,0,i):Ar(t,e,n)}function xr(t,e,n){if(0===n.length)return new zn(t.segments,{});var r=function(t){var e,n;return"object"!=typeof t[0]?((e={})[Tn]=t,e):void 0===t[0].outlets?((n={})[Tn]=t,n):t[0].outlets}(n),i={};return Fn(r,function(n,r){null!==n&&(i[r]=Or(t.children[r],e,n))}),Fn(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new zn(t.segments,i)}function Ar(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=Nr(n[i].outlets);return new zn(r,o)}if(0===i&&Er(n[0]))r.push(new Hn(t.segments[e].path,n[0])),i++;else{var a=kr(n[i]),l=i<n.length-1?n[i+1]:null;a&&l&&Er(l)?(r.push(new Hn(a,Dr(l))),i+=2):(r.push(new Hn(a,{})),i++)}}return new zn(r,{})}function Nr(t){var e={};return Fn(t,function(t,n){null!==t&&(e[n]=Ar(new zn([],{}),0,t))}),e}function Dr(t){var e={};return Fn(t,function(t,n){return e[n]=""+t}),e}function Pr(t,e,n){return t==n.path&&jn(e,n.parameters)}var Rr=function(){function t(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),_r(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var r=this,i=fr(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),Fn(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})},t.prototype.deactivateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=fr(t),o=t.value.component?r.children:e;Fn(i,function(t,e){return n.deactivateRouteAndItsChildren(t,o)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var r=this,i=fr(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new Cn(t.value.snapshot))}),t.children.length&&this.forwardEvent(new wn(t.value.snapshot))},t.prototype.activateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(_r(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component)if(o=n.getOrCreateContext(r.outlet),this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Mr(a.route)}else{var l=function(t){for(var e=r.snapshot.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(),u=l?l.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=u,o.outlet&&o.outlet.activateWith(r,u),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,n)},t}();function Mr(t){_r(t.value),t.children.forEach(Mr)}function jr(t){return"function"==typeof t}function Lr(t){return t instanceof Bn}var Vr=function(){return function(t){this.segmentGroup=t||null}}(),Fr=function(){return function(t){this.urlTree=t}}();function Ur(t){return new l.a(function(e){return e.error(new Vr(t))})}function qr(t){return new l.a(function(e){return e.error(new Fr(t))})}function Br(t){return new l.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}var zr=function(){function t(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}return t.prototype.apply=function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Tn).pipe(Object(h.a)(function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)})).pipe(Rt(function(e){if(e instanceof Fr)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Vr)throw t.noMatchError(e);throw e}))},t.prototype.match=function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,Tn).pipe(Object(h.a)(function(n){return e.createUrlTree(n,t.queryParams,t.fragment)})).pipe(Rt(function(t){if(t instanceof Vr)throw e.noMatchError(t);throw t}))},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var r,i=t.segments.length>0?new zn([],((r={})[Tn]=t,r)):t;return new Bn(i,e,n)},t.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(h.a)(function(t){return new zn([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)},t.prototype.expandChildren=function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(a.a)({});var o=[],l=[],u={};return Fn(n,function(n,i){var a,s,c=(a=i,s=n,r.expandSegmentGroup(t,e,s,a)).pipe(Object(h.a)(function(t){return u[i]=t}));i===Tn?o.push(c):l.push(c)}),a.a.apply(null,o.concat(l)).pipe(dt(),Dt(),Object(h.a)(function(){return u}))}(n.children)},t.prototype.expandSegment=function(t,e,n,r,i,l){var u=this;return a.a.apply(void 0,Object(o.g)(n)).pipe(Object(h.a)(function(o){return u.expandSegmentAgainstRoute(t,e,n,o,r,i,l).pipe(Rt(function(t){if(t instanceof Vr)return Object(a.a)(null);throw t}))}),dt(),Ut(function(t){return!!t}),Rt(function(t,n){if(t instanceof nt||"EmptyError"===t.name){if(u.noLeftoversInUrl(e,r,i))return Object(a.a)(new zn([],{}));throw new Vr(e)}throw t}))},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,r,i,o,a){return Wr(r)!==o?Ur(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Ur(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?qr(o):this.lineralizeSegments(n,o).pipe(Object(u.a)(function(n){var o=new zn(n,{});return i.expandSegment(t,o,e,n,r,!1)}))},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){var a=this,l=Hr(e,r,i),s=l.consumedSegments,c=l.lastChild,h=l.positionalParamSegments;if(!l.matched)return Ur(e);var f=this.applyRedirectCommands(s,r.redirectTo,h);return r.redirectTo.startsWith("/")?qr(f):this.lineralizeSegments(r,f).pipe(Object(u.a)(function(r){return a.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)}))},t.prototype.matchSegmentAgainstRoute=function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(h.a)(function(t){return n._loadedConfig=t,new zn(r,{})})):Object(a.a)(new zn(r,{}));var l=Hr(e,n,r),s=l.consumedSegments,c=l.lastChild;if(!l.matched)return Ur(e);var f=r.slice(c);return this.getChildConfig(t,n,r).pipe(Object(u.a)(function(t){var n=t.module,r=t.routes,l=function(t,e,n,r){return n.length>0&&function(t,e,n){return r.some(function(n){return Gr(t,e,n)&&Wr(n)!==Tn})}(t,n)?{segmentGroup:Kr(new zn(e,function(t,e){var n,r,i={};i[Tn]=e;try{for(var a=Object(o.h)(t),l=a.next();!l.done;l=a.next()){var u=l.value;""===u.path&&Wr(u)!==Tn&&(i[Wr(u)]=new zn([],{}))}}catch(s){n={error:s}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i}(r,new zn(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return r.some(function(n){return Gr(t,e,n)})}(t,n)?{segmentGroup:Kr(new zn(t.segments,function(t,e,n,r){var i,a,l={};try{for(var u=Object(o.h)(n),s=u.next();!s.done;s=u.next()){var c=s.value;Gr(t,e,c)&&!r[Wr(c)]&&(l[Wr(c)]=new zn([],{}))}}catch(h){i={error:h}}finally{try{s&&!s.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return Object(o.a)({},r,l)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,f,r),u=l.segmentGroup,c=l.slicedSegments;return 0===c.length&&u.hasChildren()?i.expandChildren(n,r,u).pipe(Object(h.a)(function(t){return new zn(s,t)})):0===r.length&&0===c.length?Object(a.a)(new zn(s,{})):i.expandSegment(n,u,r,c,Tn,!0).pipe(Object(h.a)(function(t){return new zn(s.concat(t.segments),t.children)}))}))},t.prototype.getChildConfig=function(t,e,n){var r=this;return e.children?Object(a.a)(new Nn(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(a.a)(e._loadedConfig):function(t,e,n){var r,i=e.canLoad;return i&&0!==i.length?Object(J.a)(i).pipe(Object(h.a)(function(r){var i,o=t.get(r);if(function(t){return t&&jr(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!jr(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return Un(i)})).pipe(dt(),(r=function(t){return!0===t},function(t){return t.lift(new qt(r,void 0,t))})):Object(a.a)(!0)}(t.injector,e,n).pipe(Object(u.a)(function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(h.a)(function(t){return e._loadedConfig=t,t})):function(t){return new l.a(function(e){return e.error(xn("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))})}(e)})):Object(a.a)(new Nn([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(a.a)(n);if(r.numberOfChildren>1||!r.children[Tn])return Br(t.redirectTo);r=r.children[Tn]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new Bn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return Fn(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n},t.prototype.createSegmentGroup=function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return Fn(e.children,function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)}),new zn(o,a)},t.prototype.createSegments=function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return r},t.prototype.findOrReturn=function(t,e){var n,r,i=0;try{for(var a=Object(o.h)(e),l=a.next();!l.done;l=a.next()){var u=l.value;if(u.path===t.path)return e.splice(i),u;i++}}catch(s){n={error:s}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return t},t}();function Hr(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||An)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Kr(t){if(1===t.numberOfChildren&&t.children[Tn]){var e=t.children[Tn];return new zn(t.segments.concat(e.segments),e.children)}return t}function Gr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Wr(t){return t.outlet||Tn}var Qr=function(){return function(t){this.path=t,this.route=this.path[this.path.length-1]}}(),Yr=function(){return function(t,e){this.component=t,this.route=e}}();function Xr(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Jr(t,e,n){var r=fr(t),i=t.value;Fn(r,function(t,r){Jr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Yr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var Zr=Symbol("INITIAL_VALUE");function $r(){return Object(zt.a)(function(t){return(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,r=null;return Object(rt.a)(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&Object(it.a)(t[0])&&(t=t[0]),Object(lt.a)(t,r).lift(new st(n))}).apply(void 0,Object(o.g)(t.map(function(t){return t.pipe(Lt(1),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n=t[t.length-1];Object(rt.a)(n)?t.pop():n=null;var r=t.length;return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length||2===t.length&&Object(rt.a)(t[1])?Object(J.a)(t[0]):dt()(a.a.apply(void 0,t))}(1!==r||n?r>0?Object(lt.a)(t,n):Object(ht.b)(n):Object(Ht.a)(t[0]),e)}}(Zr))}))).pipe(Object(Kt.a)(function(t,e){var n=!1;return e.reduce(function(t,r,i){if(t!==Zr)return t;if(r===Zr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Lr(r))return r}return t},t)},Zr),Object(c.a)(function(t){return t!==Zr}),Object(h.a)(function(t){return Lr(t)?t:!0===t}),Lt(1))})}var ti=function(){return function(){}}(),ei=function(){function t(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}return t.prototype.recognize=function(){try{var t=ii(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Tn),n=new yr([],Object.freeze({}),Object.freeze(Object(o.a)({},this.urlTree.queryParams)),this.urlTree.fragment,{},Tn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new hr(n,e),i=new vr(this.url,r);return this.inheritParamsAndData(i._root),Object(a.a)(i)}catch(u){return new l.a(function(t){return t.error(u)})}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,r=gr(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n,r=this,i=Gn(e,function(e,n){return r.processSegmentGroup(t,e,n)});return n={},i.forEach(function(t){var e=n[t.value.outlet];if(e){var r=e.url.map(function(t){return t.toString()}).join("/"),i=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+i+"'.")}n[t.value.outlet]=t.value}),i.sort(function(t,e){return t.value.outlet===Tn?-1:e.value.outlet===Tn?1:t.value.outlet.localeCompare(e.value.outlet)}),i},t.prototype.processSegment=function(t,e,n,r){var i,a;try{for(var l=Object(o.h)(t),u=l.next();!u.done;u=l.next()){var s=u.value;try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(c){if(!(c instanceof ti))throw c}}}catch(h){i={error:h}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}if(this.noLeftoversInUrl(e,n,r))return[];throw new ti},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,r){if(t.redirectTo)throw new ti;if((t.outlet||Tn)!==r)throw new ti;var i,a=[],l=[];if("**"===t.path){var u=n.length>0?Vn(n).parameters:{};i=new yr(n,u,Object.freeze(Object(o.a)({},this.urlTree.queryParams)),this.urlTree.fragment,li(t),r,t.component,t,ni(e),ri(e)+n.length,ui(t))}else{var s=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new ti;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||An)(n,t,e);if(!r)throw new ti;var i={};Fn(r.posParams,function(t,e){i[e]=t.path});var a=r.consumed.length>0?Object(o.a)({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:a}}(e,t,n);a=s.consumedSegments,l=n.slice(s.lastChild),i=new yr(a,s.parameters,Object.freeze(Object(o.a)({},this.urlTree.queryParams)),this.urlTree.fragment,li(t),r,t.component,t,ni(e),ri(e)+a.length,ui(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),h=ii(e,a,l,c,this.relativeLinkResolution),f=h.segmentGroup,p=h.slicedSegments;if(0===p.length&&f.hasChildren()){var d=this.processChildren(c,f);return[new hr(i,d)]}if(0===c.length&&0===p.length)return[new hr(i,[])];var m=this.processSegment(c,f,p,Tn);return[new hr(i,m)]},t}();function ni(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function ri(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function ii(t,e,n,r,i){if(n.length>0&&function(t,e,n){return r.some(function(n){return oi(t,e,n)&&ai(n)!==Tn})}(t,n)){var a=new zn(e,function(t,e,n,r){var i,a,l={};l[Tn]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;try{for(var u=Object(o.h)(n),s=u.next();!s.done;s=u.next()){var c=s.value;if(""===c.path&&ai(c)!==Tn){var h=new zn([],{});h._sourceSegment=t,h._segmentIndexShift=e.length,l[ai(c)]=h}}}catch(f){i={error:f}}finally{try{s&&!s.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return l}(t,e,r,new zn(n,t.children)));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return r.some(function(n){return oi(t,e,n)})}(t,n)){var l=new zn(t.segments,function(t,e,n,r,i,a){var l,u,s={};try{for(var c=Object(o.h)(r),h=c.next();!h.done;h=c.next()){var f=h.value;if(oi(t,n,f)&&!i[ai(f)]){var p=new zn([],{});p._sourceSegment=t,p._segmentIndexShift="legacy"===a?t.segments.length:e.length,s[ai(f)]=p}}}catch(d){l={error:d}}finally{try{h&&!h.done&&(u=c.return)&&u.call(c)}finally{if(l)throw l.error}}return Object(o.a)({},i,s)}(t,e,n,r,t.children,i));return l._sourceSegment=t,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:n}}var u=new zn(t.segments,t.children);return u._sourceSegment=t,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:n}}function oi(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function ai(t){return t.outlet||Tn}function li(t){return t.data||{}}function ui(t){return t.resolve||{}}function si(t,e,n,r){var i=Xr(t,e,r);return Un(i.resolve?i.resolve(e,n):i(e,n))}function ci(t){return function(e){return e.pipe(Object(zt.a)(function(e){var n=t(e);return n?Object(J.a)(n).pipe(Object(h.a)(function(){return e})):Object(J.a)([e])}))}}var hi=function(){return function(){}}(),fi=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),pi=new r.p("ROUTES"),di=function(){function t(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}return t.prototype.load=function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(h.a)(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new Nn(Ln(i.injector.get(pi)).map(Mn),i)}))},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?Object(J.a)(this.loader.load(t)):Un(t()).pipe(Object(u.a)(function(t){return t instanceof r.v?Object(a.a)(t):Object(J.a)(e.compiler.compileModuleAsync(t))}))},t}(),mi=function(){return function(){}}(),gi=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}();function yi(t){throw t}function vi(t,e,n){return e.parse("/")}function bi(t,e){return Object(a.a)(null)}var wi=function(){function t(t,e,n,i,o,a,l,u){var s=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Z.a,this.errorHandler=yi,this.malformedUriErrorHandler=vi,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:bi,afterPreactivation:bi},this.urlHandlingStrategy=new gi,this.routeReuseStrategy=new fi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(r.x),this.console=o.get(r.cb);var c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new Bn(new zn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.configLoader=new di(a,l,function(t){return s.triggerEvent(new yn(t))},function(t){return s.triggerEvent(new vn(t))}),this.routerState=dr(this.currentUrlTree,this.rootComponentType),this.transitions=new tt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",state:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return t.prototype.setupNavigations=function(t){var e=this,n=this.events;return t.pipe(Object(c.a)(function(t){return 0!==t.id}),Object(h.a)(function(t){return Object(o.a)({},t,{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),Object(zt.a)(function(t){var r,i,l,f,p=!1,d=!1;return Object(a.a)(t).pipe(Object(zt.a)(function(t){var r,i,l,s,c=!e.navigated||t.extractedUrl.toString()!==e.currentUrlTree.toString();if(("reload"===e.onSameUrlNavigation||c)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(a.a)(t).pipe(Et(function(t){return"eager"===e.urlUpdateStrategy&&!t.extras.skipLocationChange&&e.setBrowserUrl(t.rawUrl,!!t.extras.replaceUrl,t.id)}),Object(zt.a)(function(t){var r=e.transitions.getValue();return n.next(new un(t.id,e.serializeUrl(t.extractedUrl),t.source,t.state)),r!==e.transitions.getValue()?ht.a:[t]}),Object(zt.a)(function(t){return Promise.resolve(t)}),(r=e.ngModule.injector,i=e.configLoader,l=e.urlSerializer,s=e.config,function(t){return t.pipe(Object(zt.a)(function(t){return function(e,n,r,i,o){return new zr(e,n,r,t.extractedUrl,o).apply()}(r,i,l,0,s).pipe(Object(h.a)(function(e){return Object(o.a)({},t,{urlAfterRedirects:e})}))}))}),function(t,n,r,i,a){return function(r){return r.pipe(Object(u.a)(function(r){return function(t,e,n,r,i,o){return void 0===i&&(i="emptyOnly"),void 0===o&&(o="legacy"),new ei(t,e,n,r,i,o).recognize()}(t,n,r.urlAfterRedirects,(l=r.urlAfterRedirects,e.serializeUrl(l)),i,a).pipe(Object(h.a)(function(t){return Object(o.a)({},r,{targetSnapshot:t})}));var l}))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Et(function(t){var r=new fn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)}));if(c&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var f=t.extractedUrl,p=t.source,d=t.state,m=t.extras,g=new un(t.id,e.serializeUrl(f),p,d);n.next(g);var y=dr(f,e.rootComponentType).snapshot;return Object(a.a)(Object(o.a)({},t,{targetSnapshot:y,urlAfterRedirects:f,extras:Object(o.a)({},m,{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,t.resolve(null),ht.a}),ci(function(t){var n=t.extras;return e.hooks.beforePreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),Et(function(t){var n=new pn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),Object(h.a)(function(t){return Object(o.a)({},t,{guards:(n=t.targetSnapshot,r=t.currentSnapshot,i=e.rootContexts,a=n._root,function t(e,n,r,i,o){void 0===o&&(o={canDeactivateChecks:[],canActivateChecks:[]});var a=fr(n);return e.children.forEach(function(e){!function(e,n,r,i,o){void 0===o&&(o={canDeactivateChecks:[],canActivateChecks:[]});var a=e.value,l=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(l&&a.routeConfig===l.routeConfig){var s=function(t,e,n){switch(n){case"pathParamsChange":return!Kn(t.url,e.url);case"always":return!0;case"paramsOrQueryParamsChange":return!Cr(t,e)||!jn(t.queryParams,e.queryParams);case"paramsChange":default:return!Cr(t,e)}}(l,a,a.routeConfig.runGuardsAndResolvers);s?o.canActivateChecks.push(new Qr(i)):(a.data=l.data,a._resolvedData=l._resolvedData),t(e,n,a.component?u?u.children:null:r,i,o),s&&o.canDeactivateChecks.push(new Yr(u&&u.outlet&&u.outlet.component||null,l))}else l&&Jr(n,u,o),o.canActivateChecks.push(new Qr(i)),t(e,null,a.component?u?u.children:null:r,i,o)}(e,a[e.value.outlet],r,i.concat([e.value]),o),delete a[e.value.outlet]}),Fn(a,function(t,e){return Jr(t,r.getContext(e),o)}),o}(a,r?r._root:null,i,[a.value]))});var n,r,i,a}),function(t,e){return function(n){return n.pipe(Object(u.a)(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,l=n.guards,c=l.canActivateChecks,f=l.canDeactivateChecks;return 0===f.length&&0===c.length?Object(a.a)(Object(o.a)({},n,{guardsResult:!0})):function(t,e,n,r){return Object(J.a)(t).pipe(Object(u.a)(function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(a.a)(!0);var l=o.map(function(o){var a,l=Xr(o,e,i);if(function(t){return t&&jr(t.canDeactivate)}(l))a=Un(l.canDeactivate(t,e,n,r));else{if(!jr(l))throw new Error("Invalid CanDeactivate guard");a=Un(l(t,e,n,r))}return a.pipe(Ut())});return Object(a.a)(l).pipe($r())}(t.component,t.route,n,e,r)}),Ut(function(t){return!0!==t},!0))}(f,r,i,t).pipe(Object(u.a)(function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(J.a)(e).pipe(s(function(e){return Object(J.a)([function(t,e){return null!==t&&e&&e(new bn(t)),Object(a.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new _n(t)),Object(a.a)(!0)}(e.route,r),function(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return ft(function(){var i=e.guards.map(function(i){var o,a=Xr(i,e.node,n);if(function(t){return t&&jr(t.canActivateChild)}(a))o=Un(a.canActivateChild(r,t));else{if(!jr(a))throw new Error("Invalid CanActivateChild guard");o=Un(a(r,t))}return o.pipe(Ut())});return Object(a.a)(i).pipe($r())})});return Object(a.a)(i).pipe($r())}(t,e.path,n),function(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(a.a)(!0);var i=r.map(function(r){return ft(function(){var i,o=Xr(r,e,n);if(function(t){return t&&jr(t.canActivate)}(o))i=Un(o.canActivate(e,t));else{if(!jr(o))throw new Error("Invalid CanActivate guard");i=Un(o(e,t))}return i.pipe(Ut())})});return Object(a.a)(i).pipe($r())}(t,e.route,n)]).pipe(dt(),Ut(function(t){return!0!==t},!0))}),Ut(function(t){return!0!==t},!0))}(r,c,t,e):Object(a.a)(n)}),Object(h.a)(function(t){return Object(o.a)({},n,{guardsResult:t})}))}))}}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),Et(function(t){if(Lr(t.guardsResult)){var n=xn('Redirecting to "'+e.serializeUrl(t.guardsResult)+'"');throw n.url=t.guardsResult,n}}),Et(function(t){var n=new dn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)}),Object(c.a)(function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new cn(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0}),ci(function(t){if(t.guards.canActivateChecks.length)return Object(a.a)(t).pipe(Et(function(t){var n=new mn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),(n=e.paramsInheritanceStrategy,r=e.ngModule.injector,function(t){return t.pipe(Object(u.a)(function(t){var e=t.targetSnapshot,i=t.guards.canActivateChecks;return i.length?Object(J.a)(i).pipe(s(function(t){return function(t,n,r,i){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Object(a.a)({});if(1===i.length){var o=i[0];return si(t[o],e,n,r).pipe(Object(h.a)(function(t){var e;return(e={})[o]=t,e}))}var l={};return Object(J.a)(i).pipe(Object(u.a)(function(i){return si(t[i],e,n,r).pipe(Object(h.a)(function(t){return l[i]=t,t}))})).pipe(Dt(),Object(h.a)(function(){return l}))}(t._resolve,t,e,i).pipe(Object(h.a)(function(e){return t._resolvedData=e,t.data=Object(o.a)({},t.data,gr(t,r).resolve),null}))}(t.route,0,n,r)}),function(t,e){return arguments.length>=2?function(e){return Object(Gt.a)(Object(Kt.a)(t,void 0),vt(1),Ot(void 0))(e)}:function(e){return Object(Gt.a)(Object(Kt.a)(function(e,n,r){return t(e)}),vt(1))(e)}}(function(t,e){return t}),Object(h.a)(function(e){return t})):Object(a.a)(t)}))}),Et(function(t){var n=new gn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}));var n,r}),ci(function(t){var n=t.extras;return e.hooks.afterPreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),Object(h.a)(function(t){var n,r,i,a=(i=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){(s=r.value)._futureSnapshot=n.value;var i=function(e,n,r){return n.children.map(function(n){var i,a;try{for(var l=Object(o.h)(r.children),u=l.next();!u.done;u=l.next()){var s=u.value;if(e.shouldReuseRoute(s.value.snapshot,n.value))return t(e,n,s)}}catch(c){i={error:c}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return t(e,n)})}(e,n,r);return new hr(s,i)}var a=e.retrieve(n.value);if(a){var l=a.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,l),l}var u,s=new mr(new tt((u=n.value).url),new tt(u.params),new tt(u.queryParams),new tt(u.fragment),new tt(u.data),u.outlet,u.component,u);return i=n.children.map(function(n){return t(e,n)}),new hr(s,i)}(e.routeReuseStrategy,(n=t.targetSnapshot)._root,(r=t.currentRouterState)?r._root:void 0),new pr(i,n));return Object(o.a)({},t,{targetRouterState:a})}),Et(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"!==e.urlUpdateStrategy||t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id)}),(i=e.rootContexts,l=e.routeReuseStrategy,f=function(t){return e.triggerEvent(t)},Object(h.a)(function(t){return new Rr(l,t.targetRouterState,t.currentRouterState,f).activate(i),t})),Et({next:function(){p=!0},complete:function(){p=!0}}),(r=function(){if(!p&&!d){e.resetUrlToCurrentUrlTree();var r=new cn(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID "+t.id+" is not equal to the current navigation id "+e.navigationId);n.next(r),t.resolve(!1)}},function(t){return t.lift(new Qt(r))}),Rt(function(r){if(d=!0,(l=r)&&l[On]){e.navigated=!0;var i=Lr(r.url);i||e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var o=new cn(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),t.resolve(!1),i&&e.navigateByUrl(r.url)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new hn(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(u){t.reject(u)}}var l;return ht.a}))}))},t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType},t.prototype.getTransition=function(){return this.transitions.value},t.prototype.setTransition=function(t){this.transitions.next(Object(o.a)({},this.getTransition(),t))},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?{navigationId:e.state.navigationId}:null;setTimeout(function(){t.scheduleNavigation(n,r,i,{replaceUrl:!0})},0)}))},Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),t.prototype.triggerEvent=function(t){this.events.next(t)},t.prototype.resetConfig=function(t){Dn(t),this.config=t.map(Mn),this.navigated=!1,this.lastSuccessfulId=-1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,i=e.queryParams,a=e.fragment,l=e.preserveQueryParams,u=e.queryParamsHandling,s=e.preserveFragment;Object(r.X)()&&l&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=n||this.routerState.root,h=s?this.currentUrlTree.fragment:a,f=null;if(u)switch(u){case"merge":f=Object(o.a)({},this.currentUrlTree.queryParams,i);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=i||null}else f=l?this.currentUrlTree.queryParams:i||null;return null!==f&&(f=this.removeEmptyProps(f)),function(t,e,n,r,i){if(0===n.length)return Sr(e.root,e.root,e,r,i);var a=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Tr(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var a={};return Fn(r.outlets,function(t,e){a[e]="string"==typeof t?t.split("/"):t}),Object(o.g)(t,[{outlets:a}])}if(r.segmentPath)return Object(o.g)(t,[r.segmentPath])}return"string"!=typeof r?Object(o.g)(t,[r]):0===i?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):Object(o.g)(t,[r])},[]);return new Tr(n,e,r)}(n);if(a.toRoot())return Sr(e.root,new zn([],{}),e,r,i);var l=function(t,n,r){if(t.isAbsolute)return new Ir(e.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new Ir(r.snapshot._urlSegment,!0,0);var i=Er(t.commands[0])?0:1;return function(e,n,o){for(var a=r.snapshot._urlSegment,l=r.snapshot._lastPathIndex+i,u=t.numberOfDoubleDots;u>l;){if(u-=l,!(a=a.parent))throw new Error("Invalid number of '../'");l=a.segments.length}return new Ir(a,!1,l-u)}()}(a,0,t),u=l.processChildren?xr(l.segmentGroup,l.index,a.commands):Or(l.segmentGroup,l.index,a.commands);return Sr(l.segmentGroup,u,e,r,i)}(c,this.currentUrlTree,t,f,h)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1}),Object(r.X)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=Lr(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e},t.prototype.isActive=function(t,e){if(Lr(t))return qn(this.currentUrlTree,t,e);var n=this.parseUrl(t);return qn(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!=r&&(e[n]=r),e},{})},t.prototype.processNavigations=function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new sn(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})},t.prototype.scheduleNavigation=function(t,e,n,r){var i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);var o=null,a=null,l=new Promise(function(t,e){o=t,a=e}),u=++this.navigationId;return this.setTransition({id:u,source:e,state:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(function(t){return Promise.reject(t)})},t.prototype.setBrowserUrl=function(t,e,n){var r=this.urlSerializer.serialize(t);this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",{navigationId:n}):this.location.go(r,"",{navigationId:n})},t.prototype.resetStateAndUrl=function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()},t.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})},t}(),_i=function(){function t(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){Object(r.X)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.onClick=function(){var t={skipLocationChange:Ei(this.skipLocationChange),replaceUrl:Ei(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Ei(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Ei(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}(),Ci=function(){function t(t,e,n){var r=this;this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(function(t){t instanceof sn&&r.updateTargetUrlAndHref()})}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){Object(r.X)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onClick=function(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:Ei(this.skipLocationChange),replaceUrl:Ei(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,i),!1},t.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Ei(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Ei(this.preserveFragment)})},enumerable:!0,configurable:!0}),Object(o.b)([Object(r.n)("attr.target"),Object(r.r)(),Object(o.d)("design:type",String)],t.prototype,"target",void 0),t}();function Ei(t){return""===t||!!t}var Si=function(){function t(t,e,n,r){var i=this;this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(function(t){t instanceof sn&&i.update()})}return t.prototype.ngAfterContentInit=function(){var t=this;this.links.changes.subscribe(function(e){return t.update()}),this.linksWithHrefs.changes.subscribe(function(e){return t.update()}),this.update()},Object.defineProperty(t.prototype,"routerLinkActive",{set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(function(t){return!!t})},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.update()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.update=function(){var t=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(function(){var e=t.hasActiveLinks();t.isActive!==e&&(t.isActive=e,t.classes.forEach(function(n){e?t.renderer.addClass(t.element.nativeElement,n):t.renderer.removeClass(t.element.nativeElement,n)}))})},t.prototype.isLinkActive=function(t){var e=this;return function(n){return t.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}},t.prototype.hasActiveLinks=function(){return this.links.some(this.isLinkActive(this.router))||this.linksWithHrefs.some(this.isLinkActive(this.router))},t}(),Ti=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ii,this.attachRef=null}}(),Ii=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new Ti,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),ki=function(){function t(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.m,this.deactivateEvents=new r.m,this.name=i||Tn,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Oi(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}(),Oi=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===mr?this.route:t===Ii?this.childContexts:this.parent.get(t,e)},t}(),xi=function(){return function(){}}(),Ai=function(){function t(){}return t.prototype.preload=function(t,e){return e().pipe(Rt(function(){return Object(a.a)(null)}))},t}(),Ni=function(){function t(){}return t.prototype.preload=function(t,e){return Object(a.a)(null)},t}(),Di=function(){function t(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new di(e,n,function(e){return t.triggerEvent(new yn(e))},function(e){return t.triggerEvent(new vn(e))})}return t.prototype.setUpPreloading=function(){var t=this;this.subscription=this.router.events.pipe(Object(c.a)(function(t){return t instanceof sn}),s(function(){return t.preload()})).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){var n,r,i=[];try{for(var a=Object(o.h)(e),l=a.next();!l.done;l=a.next()){var u=l.value;if(u.loadChildren&&!u.canLoad&&u._loadedConfig){var s=u._loadedConfig;i.push(this.processRoutes(s.module,s.routes))}else u.loadChildren&&!u.canLoad?i.push(this.preloadConfig(t,u)):u.children&&i.push(this.processRoutes(t,u.children))}}catch(c){n={error:c}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return Object(J.a)(i).pipe(Object(pt.a)(),Object(h.a)(function(t){}))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return n.loader.load(t.injector,e).pipe(Object(u.a)(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})},t}(),Pi=function(){function t(t,e,n){void 0===n&&(n={}),this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}return t.prototype.init=function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()},t.prototype.createScrollEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof un?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof sn&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})},t.prototype.consumeScrollEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof En&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})},t.prototype.scheduleScrollEvent=function(t,e){this.router.triggerEvent(new En(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))},t.prototype.ngOnDestroy=function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()},t}(),Ri=new r.p("ROUTER_CONFIGURATION"),Mi=new r.p("ROUTER_FORROOT_GUARD"),ji=[f.f,{provide:Wn,useClass:Qn},{provide:wi,useFactory:zi,deps:[r.g,Wn,Ii,f.f,r.q,r.w,r.i,pi,Ri,[mi,new r.A],[hi,new r.A]]},Ii,{provide:mr,useFactory:Hi,deps:[wi]},{provide:r.w,useClass:r.J},Di,Ni,Ai,{provide:Ri,useValue:{enableTracing:!1}}];function Li(){return new r.y("Router",wi)}var Vi=function(){function t(t,e){}var e;return e=t,t.forRoot=function(t,n){return{ngModule:e,providers:[ji,Bi(t),{provide:Mi,useFactory:qi,deps:[[wi,new r.A,new r.I]]},{provide:Ri,useValue:n||{}},{provide:f.g,useFactory:Ui,deps:[f.n,[new r.o(f.a),new r.A],Ri]},{provide:Pi,useFactory:Fi,deps:[wi,f.o,Ri]},{provide:xi,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Ni},{provide:r.y,multi:!0,useFactory:Li},[Ki,{provide:r.d,multi:!0,useFactory:Gi,deps:[Ki]},{provide:Qi,useFactory:Wi,deps:[Ki]},{provide:r.b,multi:!0,useExisting:Qi}]]}},t.forChild=function(t){return{ngModule:e,providers:[Bi(t)]}},t}();function Fi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Pi(t,e,n)}function Ui(t,e,n){return void 0===n&&(n={}),n.useHash?new f.d(t,e):new f.m(t,e)}function qi(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Bi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:pi,multi:!0,useValue:t}]}function zi(t,e,n,r,i,o,a,l,u,s,c){void 0===u&&(u={});var h=new wi(null,e,n,r,i,o,a,Ln(l));if(s&&(h.urlHandlingStrategy=s),c&&(h.routeReuseStrategy=c),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=Jt();h.events.subscribe(function(t){f.logGroup("Router Event: "+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h}function Hi(t){return t.routerState.root}var Ki=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Z.a}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(f.e,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(wi),i=t.injector.get(Ri);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '"+i.initialNavigation+"'");r.hooks.afterPreactivation=function(){return t.initNavigation?Object(a.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(Ri),n=this.injector.get(Di),i=this.injector.get(Pi),o=this.injector.get(wi),a=this.injector.get(r.g);t===a.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}();function Gi(t){return t.appInitializer.bind(t)}function Wi(t){return t.bootstrapListener.bind(t)}var Qi=new r.p("Router Initializer"),Yi=r.nb({encapsulation:2,styles:[],data:{}});function Xi(t){return r.Fb(0,[(t()(),r.pb(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.ob(1,212992,null,0,ki,[Ii,r.O,r.j,[8,null],r.h],null,null)],function(t,e){t(e,1,0)},null)}function Ji(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,1,"ng-component",[],null,null,null,Xi,Yi)),r.ob(1,49152,null,0,Sn,[],null,null)],null,null)}var Zi=r.lb("ng-component",Sn,Ji,{},{},[]),$i=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),to=r.nb({encapsulation:0,styles:[[""]],data:{}});function eo(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,48,"div",[["class","container-fluid"],["id","slide"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,47,"div",[["class","row"]],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,35,"ul",[["style","width: 600%;"]],null,null,null,null,null)),(t()(),r.pb(3,0,null,null,6,"li",[["style","width: 20%;"]],null,null,null,null,null)),(t()(),r.pb(4,0,null,null,0,"img",[["alt","https://dpeluche.com/backend/vistas/img/slide/slide6/fondo.jpg"],["src","https://dpeluche.com/backend/vistas/img/slide/slide6/fondo.jpg"]],null,null,null,null,null)),(t()(),r.pb(5,0,null,null,4,"div",[["class","slideOpciones slideOpcion1"]],null,null,null,null,null)),(t()(),r.pb(6,0,null,null,3,"div",[["class","textosSlide"],["style","top:20%; left:15%; width:40%; right:0%"]],null,null,null,null,null)),(t()(),r.pb(7,0,null,null,0,"h1",[["style","color:#333"]],null,null,null,null,null)),(t()(),r.pb(8,0,null,null,0,"h2",[["style","color:#777"]],null,null,null,null,null)),(t()(),r.pb(9,0,null,null,0,"h3",[["style","color:#888"]],null,null,null,null,null)),(t()(),r.pb(10,0,null,null,6,"li",[["style","width: 20%;"]],null,null,null,null,null)),(t()(),r.pb(11,0,null,null,0,"img",[["alt","https://dpeluche.com/backend/vistas/img/slide/slide5/fondo.jpg"],["src","https://dpeluche.com/backend/vistas/img/slide/slide5/fondo.jpg"]],null,null,null,null,null)),(t()(),r.pb(12,0,null,null,4,"div",[["class","slideOpciones slideOpcion1"]],null,null,null,null,null)),(t()(),r.pb(13,0,null,null,3,"div",[["class","textosSlide"],["style","top:20%; left:15%; width:40%; right:0%"]],null,null,null,null,null)),(t()(),r.pb(14,0,null,null,0,"h1",[["style","color:#ffffff"]],null,null,null,null,null)),(t()(),r.pb(15,0,null,null,0,"h2",[["style","color:#777777"]],null,null,null,null,null)),(t()(),r.pb(16,0,null,null,0,"h3",[["style","color:#888"]],null,null,null,null,null)),(t()(),r.pb(17,0,null,null,6,"li",[["style","width: 20%;"]],null,null,null,null,null)),(t()(),r.pb(18,0,null,null,0,"img",[["alt","https://dpeluche.com/backend/vistas/img/slide/slide7/fondo.jpg"],["src","https://dpeluche.com/backend/vistas/img/slide/slide7/fondo.jpg"]],null,null,null,null,null)),(t()(),r.pb(19,0,null,null,4,"div",[["class","slideOpciones slideOpcion1"]],null,null,null,null,null)),(t()(),r.pb(20,0,null,null,3,"div",[["class","textosSlide"],["style","top:20%; left:15%; width:40%; right:0%"]],null,null,null,null,null)),(t()(),r.pb(21,0,null,null,0,"h1",[["style","color:#333"]],null,null,null,null,null)),(t()(),r.pb(22,0,null,null,0,"h2",[["style","color:#777"]],null,null,null,null,null)),(t()(),r.pb(23,0,null,null,0,"h3",[["style","color:#888"]],null,null,null,null,null)),(t()(),r.pb(24,0,null,null,6,"li",[["style","width: 20%;"]],null,null,null,null,null)),(t()(),r.pb(25,0,null,null,0,"img",[["alt","https://dpeluche.com/backend/vistas/img/slide/slide8/fondo.jpg"],["src","https://dpeluche.com/backend/vistas/img/slide/slide8/fondo.jpg"]],null,null,null,null,null)),(t()(),r.pb(26,0,null,null,4,"div",[["class","slideOpciones slideOpcion1"]],null,null,null,null,null)),(t()(),r.pb(27,0,null,null,3,"div",[["class","textosSlide"],["style","top:20%; left:15%; width:40%; right:0%"]],null,null,null,null,null)),(t()(),r.pb(28,0,null,null,0,"h1",[["style","color:#333333"]],null,null,null,null,null)),(t()(),r.pb(29,0,null,null,0,"h2",[["style","color:#777777"]],null,null,null,null,null)),(t()(),r.pb(30,0,null,null,0,"h3",[["style","color:#888"]],null,null,null,null,null)),(t()(),r.pb(31,0,null,null,6,"li",[["style","width: 20%;"]],null,null,null,null,null)),(t()(),r.pb(32,0,null,null,0,"img",[["alt","https://dpeluche.com/backend/vistas/img/slide/slide9/fondo.jpg"],["src","https://dpeluche.com/backend/vistas/img/slide/slide9/fondo.jpg"]],null,null,null,null,null)),(t()(),r.pb(33,0,null,null,4,"div",[["class","slideOpciones slideOpcion1"]],null,null,null,null,null)),(t()(),r.pb(34,0,null,null,3,"div",[["class","textosSlide"],["style","top:20%; left:15%; width:40%; right:0%"]],null,null,null,null,null)),(t()(),r.pb(35,0,null,null,0,"h1",[["style","color:0"]],null,null,null,null,null)),(t()(),r.pb(36,0,null,null,0,"h2",[["style","color:0"]],null,null,null,null,null)),(t()(),r.pb(37,0,null,null,0,"h3",[["style","color:0"]],null,null,null,null,null)),(t()(),r.pb(38,0,null,null,10,"ol",[["id","paginacion"]],null,null,null,null,null)),(t()(),r.pb(39,0,null,null,1,"li",[["item","1"]],null,null,null,null,null)),(t()(),r.pb(40,0,null,null,0,"span",[["class","fa fa-circle"]],null,null,null,null,null)),(t()(),r.pb(41,0,null,null,1,"li",[["item","2"]],null,null,null,null,null)),(t()(),r.pb(42,0,null,null,0,"span",[["class","fa fa-circle"]],null,null,null,null,null)),(t()(),r.pb(43,0,null,null,1,"li",[["item","3"]],null,null,null,null,null)),(t()(),r.pb(44,0,null,null,0,"span",[["class","fa fa-circle"]],null,null,null,null,null)),(t()(),r.pb(45,0,null,null,1,"li",[["item","4"]],null,null,null,null,null)),(t()(),r.pb(46,0,null,null,0,"span",[["class","fa fa-circle"]],null,null,null,null,null)),(t()(),r.pb(47,0,null,null,1,"li",[["item","5"]],null,null,null,null,null)),(t()(),r.pb(48,0,null,null,0,"span",[["class","fa fa-circle"]],null,null,null,null,null)),(t()(),r.pb(49,0,null,null,28,"div",[["class","ae-masonry-xs-2 ae-masonry-md-2 ae-masonry-xl-2"]],null,null,null,null,null)),(t()(),r.pb(50,0,null,null,6,"a",[["class","rk-item ae-masonry__item"],["href","https://dpeluche.com/sin-categoria"]],null,null,null,null,null)),(t()(),r.pb(51,0,null,null,0,"img",[["alt","sin-categoria"],["class","img-thumbnail"],["src","https://dpeluche.com/backend/vistas/img/banner/545978590a984.jpeg.jpg"]],null,null,null,null,null)),(t()(),r.pb(52,0,null,null,4,"div",[["class","item-meta"]],null,null,null,null,null)),(t()(),r.pb(53,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["sin-categoria"])),(t()(),r.pb(55,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["sin-categoria"])),(t()(),r.pb(57,0,null,null,6,"a",[["class","rk-item ae-masonry__item"],["href","https://dpeluche.com/perro"]],null,null,null,null,null)),(t()(),r.pb(58,0,null,null,0,"img",[["alt","perro"],["class","img-thumbnail"],["src","https://dpeluche.com/backend/vistas/img/banner/558978dcce5e6.png.png"]],null,null,null,null,null)),(t()(),r.pb(59,0,null,null,4,"div",[["class","item-meta"]],null,null,null,null,null)),(t()(),r.pb(60,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["perro"])),(t()(),r.pb(62,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["perro"])),(t()(),r.pb(64,0,null,null,6,"a",[["class","rk-item ae-masonry__item"],["href","https://dpeluche.com/varios"]],null,null,null,null,null)),(t()(),r.pb(65,0,null,null,0,"img",[["alt","varios"],["class","img-thumbnail"],["src","https://dpeluche.com/backend/vistas/img/banner/5b0d808a581d6.jpeg.jpg"]],null,null,null,null,null)),(t()(),r.pb(66,0,null,null,4,"div",[["class","item-meta"]],null,null,null,null,null)),(t()(),r.pb(67,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["varios"])),(t()(),r.pb(69,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["varios"])),(t()(),r.pb(71,0,null,null,6,"a",[["class","rk-item ae-masonry__item"],["href","https://dpeluche.com/rana"]],null,null,null,null,null)),(t()(),r.pb(72,0,null,null,0,"img",[["alt","rana"],["class","img-thumbnail"],["src","https://dpeluche.com/backend/vistas/img/banner/5474db5747344.jpeg.jpg"]],null,null,null,null,null)),(t()(),r.pb(73,0,null,null,4,"div",[["class","item-meta"]],null,null,null,null,null)),(t()(),r.pb(74,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["rana"])),(t()(),r.pb(76,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["rana"]))],null,null)}var no=function(){return function(){}}(),ro=function(){function t(t){this.productosService=t,this.cargando=!1,this.peluches=new no}return t.prototype.ngOnInit=function(){},t}(),io=r.nb({encapsulation:0,styles:[[""]],data:{}});function oo(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,16,"li",[["class","col-md-4 col-sm-2 col-lg-4"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,10,"figure",[["style","padding: 10px; margin: 10px !important; max-height: 200px;"]],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,9,"a",[["class","pixelProducto"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.yb(t,3).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r.ob(3,671744,null,0,Ci,[wi,mr,f.g],{routerLink:[0,"routerLink"]},null),r.zb(4,2),(t()(),r.pb(5,0,null,null,2,"p",[["class","medidass"],["style","zoom: 0.7;"]],null,null,null,null,null)),(t()(),r.pb(6,0,null,null,1,"span",[["class","medidaNums"]],null,null,null,null,null)),(t()(),r.Eb(7,null,[""," cm"])),(t()(),r.pb(8,0,null,null,2,"p",[["class","medidas"],["style","zoom: 0.7;"]],null,null,null,null,null)),(t()(),r.pb(9,0,null,null,1,"span",[["class","medidaNum"]],null,null,null,null,null)),(t()(),r.Eb(10,null,[""," cm"])),(t()(),r.pb(11,0,null,null,0,"img",[["class","img-responsive"]],[[8,"src",4]],null,null,null,null)),(t()(),r.pb(12,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r.Eb(13,null,[" "," "])),(t()(),r.pb(14,0,null,null,2,"div",[["class","col-xs-6"]],null,null,null,null,null)),(t()(),r.pb(15,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),r.Eb(16,null,[" $ "," "]))],function(t,e){var n=t(e,4,0,"/item",e.context.$implicit.id_pel);t(e,3,0,n)},function(t,e){t(e,2,0,r.yb(e,3).target,r.yb(e,3).href),t(e,7,0,e.context.$implicit.stock),t(e,10,0,e.context.$implicit.stock),t(e,11,0,r.rb(1,"https://ovgsoft.com/DpelucheWeb/",e.context.$implicit.portada,"")),t(e,13,0,e.context.$implicit.titulo),t(e,16,0,e.context.$implicit.precio)})}function ao(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,4,"ul",[],null,null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,oo)),r.ob(2,278528,null,0,f.i,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(t()(),r.pb(3,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r.pb(4,0,null,null,0,"br",[],null,null,null,null,null))],function(t,e){t(e,2,0,e.component.productosService.productos)},null)}function lo(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,2,"div",[["class","col-md-10"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"app-dtemporada",[],null,null,null,eo,to)),r.ob(2,114688,null,0,$i,[],null,null),(t()(),r.pb(3,0,null,null,18,"div",[["class","col-md-10"]],null,null,null,null,null)),(t()(),r.pb(4,0,null,null,17,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),r.pb(5,0,null,null,16,"div",[["class","container"]],null,null,null,null,null)),(t()(),r.pb(6,0,null,null,15,"div",[["class","row"]],null,null,null,null,null)),(t()(),r.pb(7,0,null,null,10,"div",[["class","col-xs-12 tituloDestacado"]],null,null,null,null,null)),(t()(),r.pb(8,0,null,null,3,"div",[["class","col-sm-6 col-xs-12"]],null,null,null,null,null)),(t()(),r.pb(9,0,null,null,2,"h1",[],null,null,null,null,null)),(t()(),r.pb(10,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["PELUCHES MAS VENDIDOS "])),(t()(),r.pb(12,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r.pb(13,0,null,null,4,"div",[["class","col-sm-6 col-xs-12"]],null,null,null,null,null)),(t()(),r.pb(14,0,null,null,3,"a",[["href","articulos-gratis"],["id","oscar"]],null,null,null,null,null)),(t()(),r.pb(15,0,null,null,2,"button",[["class","btn btn-default backColor pull-right"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" VER M\xc1S "])),(t()(),r.pb(17,0,null,null,0,"span",[["class","fa fa-chevron-right"]],null,null,null,null,null)),(t()(),r.pb(18,0,null,null,0,"div",[["class","clearfix"]],null,null,null,null,null)),(t()(),r.pb(19,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,ao)),r.ob(21,16384,null,0,f.j,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0),t(e,21,0,!n.productosService.cargando)},null)}function uo(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,1,"app-portafolio",[],null,null,null,lo,io)),r.ob(1,114688,null,0,ro,[G],null,null)],function(t,e){t(e,1,0)},null)}var so=r.lb("app-portafolio",ro,uo,{},{},[]),co=function(t){function e(e,n){var r=t.call(this,e)||this;r.sources=n,r.completed=0,r.haveValues=0;var i=n.length;r.values=new Array(i);for(var o=0;o<i;o++){var a=n[o],l=Object(at.a)(r,a,null,o);l&&r.add(l)}return r}return o.c(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this.haveValues,r=this.values,i=r.length;t._hasValue?(this.completed++,this.completed===i&&(n===i&&e.next(r),e.complete())):e.complete()},e}(ot.a),ho=function(){function t(){}return Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return this.control?this.control.getError(t,e):null},t}(),fo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(ho);function po(t){return null==t||0===t.length}var mo=new r.p("NgValidators"),go=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,yo=function(){function t(){}return t.min=function(t){return function(e){if(po(e.value)||po(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}},t.max=function(t){return function(e){if(po(e.value)||po(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}},t.required=function(t){return po(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return po(t.value)?null:go.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(po(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(po(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(vo);return 0==e.length?null:function(t){return wo(function(t,n){return e.map(function(e){return e(t)})}(t))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(vo);return 0==e.length?null:function(t){return function t(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&Object(it.a)(n[0])&&(n=n[0]),0===n.length?ht.a:e?t(n).pipe(Object(h.a)(function(t){return e.apply(void 0,t)})):new l.a(function(t){return new co(t,n)})}(function(t,n){return e.map(function(e){return e(t)})}(t).map(bo)).pipe(Object(h.a)(wo))}},t}();function vo(t){return null!=t}function bo(t){var e=Object(r.ub)(t)?Object(J.a)(t):t;if(!Object(r.tb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function wo(t){var e=t.reduce(function(t,e){return null!=e?Object(o.a)({},t,e):t},{});return 0===Object.keys(e).length?null:e}var _o=new r.p("NgValueAccessor"),Co=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),Eo=new r.p("CompositionEventMode"),So=function(){function t(t,e,n){var r;this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=Jt()?Jt().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},t}();function To(t){return t.validate?function(e){return t.validate(e)}:t}function Io(t){return t.validate?function(e){return t.validate(e)}:t}var ko=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}();function Oo(){throw new Error("unimplemented")}var xo=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return Object(o.c)(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return Oo()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return Oo()},enumerable:!0,configurable:!0}),e}(ho),Ao=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name},t}(),No=function(){function t(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get(xo),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t}(),Do='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Po='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';function Ro(t,e){return Object(o.g)(e.path,[t])}function Mo(t,e){t||Lo(e,"Cannot find control with"),e.valueAccessor||Lo(e,"No value accessor for form control with"),t.validator=yo.compose([t.validator,e.validator]),t.asyncValidator=yo.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&jo(t,e)})}(t,e),function(t,e){t.registerOnChange(function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&jo(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(function(t){e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})}),e._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})})}function jo(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Lo(t,e){var n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}function Vo(t){return null!=t?yo.compose(t.map(To)):null}function Fo(t){return null!=t?yo.composeAsync(t.map(Io)):null}var Uo=[Co,function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),ko,function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=r.vb}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){var e,n;try{for(var r=Object(o.h)(Array.from(this._optionMap.keys())),i=r.next();!i.done;i=r.next()){var a=i.value;if(this._compareWith(this._optionMap.get(a),t))return a}}catch(l){e={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t},t}(),function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=r.vb}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map(function(t){return n._getOptionId(t)});e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),l=e._getOptionValue(a.value);r.push(l)}else for(i=n.options,o=0;o<i.length;o++)(a=i.item(o)).selected&&(l=e._getOptionValue(a.value),r.push(l));e.value=r,t(r)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){var e,n;try{for(var r=Object(o.h)(Array.from(this._optionMap.keys())),i=r.next();!i.done;i=r.next()){var a=i.value;if(this._compareWith(this._optionMap.get(a)._value,t))return a}}catch(l){e={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t}(),No],qo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return Ro(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return Vo(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return Fo(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(fo),Bo=function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}(),zo=function(t){function e(e){return t.call(this,e)||this}return Object(o.c)(e,t),e}(Bo),Ho=function(t){function e(e){return t.call(this,e)||this}return Object(o.c)(e,t),e}(Bo);function Ko(t){var e=Wo(t)?t.validators:t;return Array.isArray(e)?Vo(e):e||null}function Go(t,e){var n=Wo(e)?e.asyncValidators:t;return Array.isArray(n)?Fo(n):n||null}function Wo(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var Qo=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=Ko(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=Go(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){void 0===t&&(t={}),this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype.markAsPending=function(t){void 0===t&&(t={}),this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},t.prototype.disable=function(t){void 0===t&&(t={}),this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(Object(o.a)({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!0)})},t.prototype.enable=function(t){void 0===t&&(t={}),this.status="VALID",this._forEachChild(function(e){e.enable(Object(o.a)({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!1)})},t.prototype._updateAncestors=function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._updateTreeValidity=function(t){void 0===t&&(t={emitEvent:!0}),this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},t.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=bo(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return e.setErrors(n,{emitEvent:t})})}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.get=function(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce(function(t,e){return t instanceof Xo?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof Jo&&t.at(e)||null},t))}(this,t)},t.prototype.getError=function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this.valueChanges=new r.m,this.statusChanges=new r.m},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls(function(e){return e.status===t})},t.prototype._anyControlsDirty=function(){return this._anyControls(function(t){return t.dirty})},t.prototype._anyControlsTouched=function(){return this._anyControls(function(t){return t.touched})},t.prototype._updatePristine=function(t){void 0===t&&(t={}),this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype._updateTouched=function(t){void 0===t&&(t={}),this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t.prototype._setUpdateStrategy=function(t){Wo(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)},t}(),Yo=function(t){function e(e,n,r){void 0===e&&(e=null);var i=t.call(this,Ko(n),Go(r,n))||this;return i._onChange=[],i._applyFormState(e),i._setUpdateStrategy(n),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i._initObservables(),i}return Object(o.c)(e,t),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(function(t){return t(n.value,!1!==e.emitViewToModelChange)}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t},e}(Qo),Xo=function(t){function e(e,n,r){var i=t.call(this,Ko(n),Go(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return Object(o.c)(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){n._throwIfControlMissing(r),n.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),Object.keys(t).forEach(function(r){n.controls[r]&&n.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof Yo?e.value:e.getRawValue(),t})},e.prototype._syncPendingControls=function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})},e.prototype._updateValue=function(){this.value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild(function(r,i){n=n||e.contains(i)&&t(r)}),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n},e.prototype._allControlsDisabled=function(){var t,e;try{for(var n=Object(o.h)(Object.keys(this.controls)),r=n.next();!r.done;r=n.next())if(this.controls[r.value].enabled)return!1}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},e}(Qo),Jo=function(t){function e(e,n,r){var i=t.call(this,Ko(n),Go(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return Object(o.c)(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach(function(t,r){n._throwIfControlMissing(r),n.at(r).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),t.forEach(function(t,r){n.at(r)&&n.at(r).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this.controls.map(function(t){return t instanceof Yo?t.value:t.getRawValue()})},e.prototype._syncPendingControls=function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach(function(e,n){t(e,n)})},e.prototype._updateValue=function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})},e.prototype._anyControls=function(t){return this.controls.some(function(e){return e.enabled&&t(e)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")})},e.prototype._allControlsDisabled=function(){var t,e;try{for(var n=Object(o.h)(this.controls),r=n.next();!r.done;r=n.next())if(r.value.enabled)return!1}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(Qo),Zo=Promise.resolve(null),$o=function(t){function e(e,n){var i=t.call(this)||this;return i.submitted=!1,i._directives=[],i.ngSubmit=new r.m,i.form=new Xo({},Vo(e),Fo(n)),i}return Object(o.c)(e,t),e.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;Zo.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),Mo(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e=this;Zo.then(function(){var n,r,i=e._findContainer(t.path);i&&i.removeControl(t.name),(r=(n=e._directives).indexOf(t))>-1&&n.splice(r,1)})},e.prototype.addFormGroup=function(t){var e=this;Zo.then(function(){var n=e._findContainer(t.path),r=new Xo({});(function(t,e){null==t&&Lo(e,"Cannot find control with"),t.validator=yo.compose([t.validator,e.validator]),t.asyncValidator=yo.composeAsync([t.asyncValidator,e.asyncValidator])})(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})},e.prototype.removeFormGroup=function(t){var e=this;Zo.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var n=this;Zo.then(function(){n.form.get(t.path).setValue(e)})},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.onSubmit=function(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},e.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},e}(fo),ta=function(){function t(){}return t.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')},t.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+Do+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+Po)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},t.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+Do+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+Po)},t.ngFormWarning=function(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")},t}(),ea=new r.p("NgFormSelectorWarning"),na=function(t){function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}var n;return Object(o.c)(e,t),n=e,e.prototype._checkParentType=function(){this._parent instanceof n||this._parent instanceof $o||ta.modelGroupParentException()},e}(qo),ra=Promise.resolve(null),ia=function(t){function e(e,n,i,o){var a=t.call(this)||this;return a.control=new Yo,a._registered=!1,a.update=new r.m,a._parent=e,a._rawValidators=n||[],a._rawAsyncValidators=i||[],a.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||Lo(t,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return e.forEach(function(e){var o;e.constructor===So?n=e:(o=e,Uo.some(function(t){return o.constructor===t})?(r&&Lo(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Lo(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(Lo(t,"No valid value accessor for form control with"),null)}(a,o),a}return Object(o.c)(e,t),e.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object(r.vb)(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"path",{get:function(){return this._parent?Ro(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return Vo(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return Fo(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},e.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},e.prototype._setUpStandalone=function(){Mo(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof na)&&this._parent instanceof qo?ta.formGroupNameException():this._parent instanceof na||this._parent instanceof $o||ta.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||ta.missingNameException()},e.prototype._updateValue=function(t){var e=this;ra.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})},e.prototype._updateDisabled=function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;ra.then(function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()})},e}(xo),oa=function(){function t(){}return Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this.required?yo.required(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t}(),aa=function(){function t(){}return Object.defineProperty(t.prototype,"email",{set:function(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this._enabled?yo.email(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t}(),la=function(){function t(){}return t.prototype.ngOnChanges=function(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null==this.minlength?null:this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=yo.minLength(parseInt(this.minlength,10))},t}(),ua=function(){return function(){}}(),sa=function(){return function(){}}(),ca=function(){function t(){}var e;return e=t,t.withConfig=function(t){return{ngModule:e,providers:[{provide:ea,useValue:t.warnOnDeprecatedNgFormSelector}]}},t}(),ha=function(){return function(){}}(),fa=function(){function t(t){this.http=t,this.url="https://www.googleapis.com/identitytoolkit/v3/relyingparty",this.apikey="AIzaSyDpR_yxp-P71vhs3K5MaMlGmZQhTcBhCHc",this.leerToken()}return t.prototype.logout=function(){localStorage.removeItem("token")},t.prototype.login=function(t){var e=this,n=o.a({},t,{returnSecureToken:!0});return this.http.post(this.url+"/verifyPassword?key="+this.apikey,n).pipe(Object(h.a)(function(t){return e.guardarToken(t.idToken),t}))},t.prototype.nuevoUsuario=function(t){var e=this,n=o.a({},t,{returnSecureToken:!0});return this.http.post(this.url+"/signupNewUser?key="+this.apikey,n).pipe(Object(h.a)(function(t){return e.guardarToken(t.idToken),t}))},t.prototype.guardarToken=function(t){this.userToken=t,localStorage.setItem("token",t);var e=new Date;e.setSeconds(3600),localStorage.setItem("expira",e.getTime().toString())},t.prototype.leerToken=function(){return this.userToken=localStorage.getItem("token")?localStorage.getItem("token"):"",this.userToken},t.prototype.estaAutenticado=function(){if(this.userToken.length<2)return!1;var t=Number(localStorage.getItem("expira")),e=new Date;return e.setTime(t),e>new Date},t.ngInjectableDef=r.S({factory:function(){return new t(r.W(x))},token:t,providedIn:"root"}),t}(),pa=n("PSD3"),da=n.n(pa),ma=function(){function t(t,e,n){this.auth=t,this.router=e,this._cs=n,this.usuario=new ha,this.recordarme=!1}return t.prototype.ngOnInit=function(){localStorage.getItem("email")&&(this.usuario.email=localStorage.getItem("email"),this.recordarme=!0)},t.prototype.ingresar=function(t){this._cs.login(t)},t.prototype.login=function(t){var e=this;t.invalid||(da.a.fire({allowOutsideClick:!1,type:"info",text:"Espere por favor..."}),da.a.showLoading(),this.auth.login(this.usuario).subscribe(function(t){console.log(t),da.a.close(),e.recordarme&&localStorage.setItem("email",e.usuario.email),e.ingresar(e.usuario.nombre),e.router.navigateByUrl("/chat")},function(t){console.log(t.error.error.message),da.a.fire({type:"error",title:"Error al autenticar",text:t.error.error.message})}))},t}(),ga=r.nb({encapsulation:0,styles:[['a[_ngcontent-%COMP%]{font-family:Ubuntu-Regular;font-size:14px;line-height:1.7;color:#666;margin:0;transition:all .4s;-webkit-transition:.4s;-o-transition:.4s;-moz-transition:.4s}a[_ngcontent-%COMP%]:focus{outline:0!important}a[_ngcontent-%COMP%]:hover{text-decoration:none;color:#403866}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:0}p[_ngcontent-%COMP%]{font-family:Ubuntu-Regular;font-size:14px;line-height:1.7;color:#666;margin:0}li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;list-style-type:none}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{outline:0;border:none}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:transparent!important}input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#8f8fa1}input[_ngcontent-%COMP%]:-moz-placeholder{color:#8f8fa1}input[_ngcontent-%COMP%]::-moz-placeholder{color:#8f8fa1}input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#8f8fa1}textarea[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#8f8fa1}textarea[_ngcontent-%COMP%]:-moz-placeholder{color:#8f8fa1}textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#8f8fa1}textarea[_ngcontent-%COMP%]:-ms-input-placeholder{color:#8f8fa1}label[_ngcontent-%COMP%]{display:block;margin:0}button[_ngcontent-%COMP%]{outline:0!important;border:none;background:0 0}button[_ngcontent-%COMP%]:hover{cursor:pointer}iframe[_ngcontent-%COMP%]{border:none!important}.txt1[_ngcontent-%COMP%]{font-family:Ubuntu-Regular;font-size:16px;color:#827ffe;line-height:1.4}.limiter[_ngcontent-%COMP%]{width:100%;margin:0 auto}.container-login100[_ngcontent-%COMP%]{width:100%;min-height:100vh;display:flex;flex-wrap:wrap;justify-content:center;align-items:center;padding:15px;background-position:center;background-size:cover;background-repeat:no-repeat}.wrap-login100[_ngcontent-%COMP%]{width:390px;background:#fff;border-radius:10px;position:relative}.login100-form[_ngcontent-%COMP%]{width:100%}.login100-form-title[_ngcontent-%COMP%]{font-family:Ubuntu-Bold;font-size:30px;color:#403866;line-height:1.2;text-transform:uppercase;text-align:center;width:100%;display:block}.wrap-input100[_ngcontent-%COMP%]{width:100%;position:relative;background-color:#e6e6e6;border:1px solid transparent;border-radius:3px}.input100[_ngcontent-%COMP%]{font-family:Ubuntu-Bold;color:#403866;line-height:1.2;font-size:18px;display:block;width:100%;background:0 0;height:62px;padding:0 20px 0 38px}.focus-input100[_ngcontent-%COMP%]{position:absolute;display:block;width:calc(100% + 2px);height:calc(100% + 2px);top:-1px;left:-1px;pointer-events:none;border:1px solid #827ffe;border-radius:3px;visibility:hidden;opacity:0;transition:all .4s;-webkit-transform:scaleX(1.1) scaleY(1.3);transform:scaleX(1.1) scaleY(1.3)}.eff-focus-selection[_ngcontent-%COMP%], .input100[_ngcontent-%COMP%]:focus + .focus-input100[_ngcontent-%COMP%]{visibility:visible;opacity:1;-webkit-transform:scale(1);transform:scale(1)}.input-checkbox100[_ngcontent-%COMP%]{display:none}.label-checkbox100[_ngcontent-%COMP%]{font-family:Ubuntu-Regular;font-size:16px;color:#999;line-height:1.2;display:block;position:relative;padding-left:26px;cursor:pointer}.label-checkbox100[_ngcontent-%COMP%]::before{content:"\\f00c";font-family:FontAwesome;font-size:13px;color:transparent;display:flex;justify-content:center;align-items:center;position:absolute;width:18px;height:18px;border-radius:3px;background:#fff;border:2px solid #827ffe;left:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.input-checkbox100[_ngcontent-%COMP%]:checked + .label-checkbox100[_ngcontent-%COMP%]::before{color:#827ffe}.container-login100-form-btn[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap}.login100-form-btn[_ngcontent-%COMP%]{font-family:Ubuntu-Bold;font-size:16px;color:#fff;line-height:1.2;text-transform:uppercase;display:flex;justify-content:center;align-items:center;padding:0 20px;width:100%;height:62px;background-color:#827ffe;border-radius:3px;transition:all .4s}.login100-form-btn[_ngcontent-%COMP%]:hover{background-color:#403866}.validate-input[_ngcontent-%COMP%]{position:relative}.alert-validate[_ngcontent-%COMP%]::before{content:attr(data-validate);position:absolute;max-width:70%;background-color:#fff;border:1px solid #c80000;border-radius:3px;padding:4px 25px 5px 10px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);right:12px;pointer-events:none;font-family:Ubuntu-Regular;color:#c80000;font-size:14px;line-height:1.4;text-align:left;visibility:hidden;opacity:0;transition:opacity .4s}.alert-validate[_ngcontent-%COMP%]::after{content:"\\f12a";font-family:FontAwesome;display:block;position:absolute;color:#c80000;font-size:18px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);right:18px}.alert-validate[_ngcontent-%COMP%]:hover:before{visibility:visible;opacity:1}@media (max-width:992px){.alert-validate[_ngcontent-%COMP%]::before{visibility:visible;opacity:1}}']],data:{}});function ya(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,1,"span",[["class","text-danger animated fadeIn"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,["El correo es obligatorio"]))],null,null)}function va(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,1,"span",[["class","text-danger animated fadeIn"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Al menos 6 letras"]))],null,null)}function ba(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,56,"div",[["class","col-md-10 limiter animated fadeInLeft"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,55,"div",[["class","container-login100"]],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,54,"div",[["class","wrap-login100"]],null,null,null,null,null)),(t()(),r.pb(3,0,null,null,53,"form",[["class","login100-form validate-form flex-sb flex-w"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(t,e,n){var i=!0,o=t.component;return"submit"===e&&(i=!1!==r.yb(t,5).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.yb(t,5).onReset()&&i),"ngSubmit"===e&&(i=!1!==o.login(r.yb(t,5))&&i),i},null,null)),r.ob(4,16384,null,0,ua,[],null,null),r.ob(5,4210688,[["f",4]],0,$o,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),r.Bb(2048,null,fo,null,[$o]),r.ob(7,16384,null,0,Ho,[[4,fo]],null,null),(t()(),r.pb(8,0,null,null,1,"span",[["class","login100-form-title p-b-51"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" Login "])),(t()(),r.gb(16777216,null,null,1,null,ya)),r.ob(11,16384,null,0,f.j,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(12,0,null,null,10,"div",[["class","wrap-input100 m-b-16"]],null,null,null,null,null)),(t()(),r.pb(13,0,null,null,8,"input",[["class","input100"],["email",""],["name","email"],["placeholder","Email"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.yb(t,14)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.yb(t,14).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.yb(t,14)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.yb(t,14)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.usuario.email=n)&&i),i},null,null)),r.ob(14,16384,null,0,So,[r.D,r.k,[2,Eo]],null,null),r.ob(15,16384,null,0,oa,[],{required:[0,"required"]},null),r.ob(16,16384,null,0,aa,[],{email:[0,"email"]},null),r.Bb(1024,null,mo,function(t,e){return[t,e]},[oa,aa]),r.Bb(1024,null,_o,function(t){return[t]},[So]),r.ob(19,671744,null,0,ia,[[2,fo],[6,mo],[8,null],[6,_o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Bb(2048,null,xo,null,[ia]),r.ob(21,16384,null,0,zo,[[4,xo]],null,null),(t()(),r.pb(22,0,null,null,0,"span",[["class","focus-input100"]],null,null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,va)),r.ob(24,16384,null,0,f.j,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(25,0,null,null,10,"div",[["class","wrap-input100 m-b-16"],["data-validate","Password is required"]],null,null,null,null,null)),(t()(),r.pb(26,0,null,null,8,"input",[["class","input100"],["minlength","6"],["name","password"],["placeholder","Password"],["required",""],["type","password"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.yb(t,27)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.yb(t,27).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.yb(t,27)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.yb(t,27)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.usuario.password=n)&&i),i},null,null)),r.ob(27,16384,null,0,So,[r.D,r.k,[2,Eo]],null,null),r.ob(28,16384,null,0,oa,[],{required:[0,"required"]},null),r.ob(29,540672,null,0,la,[],{minlength:[0,"minlength"]},null),r.Bb(1024,null,mo,function(t,e){return[t,e]},[oa,la]),r.Bb(1024,null,_o,function(t){return[t]},[So]),r.ob(32,671744,null,0,ia,[[2,fo],[6,mo],[8,null],[6,_o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Bb(2048,null,xo,null,[ia]),r.ob(34,16384,null,0,zo,[[4,xo]],null,null),(t()(),r.pb(35,0,null,null,0,"span",[["class","focus-input100"]],null,null,null,null,null)),(t()(),r.pb(36,0,null,null,13,"div",[["class","flex-sb-m w-full p-t-3 p-b-24"]],null,null,null,null,null)),(t()(),r.pb(37,0,null,null,8,"div",[["class","contact100-form-checkbox"]],null,null,null,null,null)),(t()(),r.pb(38,0,null,null,5,"input",[["class","input-checkbox100"],["id","ckb1"],["name","remember-me"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,e,n){var i=!0,o=t.component;return"change"===e&&(i=!1!==r.yb(t,39).onChange(n.target.checked)&&i),"blur"===e&&(i=!1!==r.yb(t,39).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.recordarme=n)&&i),i},null,null)),r.ob(39,16384,null,0,Co,[r.D,r.k],null,null),r.Bb(1024,null,_o,function(t){return[t]},[Co]),r.ob(41,671744,null,0,ia,[[2,fo],[8,null],[8,null],[6,_o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Bb(2048,null,xo,null,[ia]),r.ob(43,16384,null,0,zo,[[4,xo]],null,null),(t()(),r.pb(44,0,null,null,1,"label",[["class","label-checkbox100"],["for","ckb1"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" Recordar mi usuario "])),(t()(),r.pb(46,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),r.pb(47,0,null,null,2,"a",[["class","txt1"],["routerLink","/registro"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.yb(t,48).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r.ob(48,671744,null,0,Ci,[wi,mr,f.g],{routerLink:[0,"routerLink"]},null),(t()(),r.Eb(-1,null,[" \xbfNo tienes cuenta? "])),(t()(),r.pb(50,0,null,null,6,"div",[["class","container-login100-form-btn m-t-17"]],null,null,null,null,null)),(t()(),r.pb(51,0,null,null,1,"button",[["class","login100-form-btn"],["type","submit"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" Ingresar "])),(t()(),r.pb(53,0,null,null,1,"button",[["class","btn btn-outline-primary"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.ingresar("google")&&r),r},null,null)),(t()(),r.Eb(-1,null,[" Google "])),(t()(),r.pb(55,0,null,null,1,"button",[["class","btn btn-outline-info"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.ingresar("twitter")&&r),r},null,null)),(t()(),r.Eb(-1,null,[" Twitter "]))],function(t,e){var n=e.component;t(e,11,0,r.yb(e,5).submitted&&r.yb(e,5).controls.email.errors),t(e,15,0,""),t(e,16,0,""),t(e,19,0,"email",n.usuario.email),t(e,24,0,r.yb(e,5).submitted&&r.yb(e,5).controls.password.errors),t(e,28,0,""),t(e,29,0,"6"),t(e,32,0,"password",n.usuario.password),t(e,41,0,"remember-me",n.recordarme),t(e,48,0,"/registro")},function(t,e){t(e,3,0,r.yb(e,7).ngClassUntouched,r.yb(e,7).ngClassTouched,r.yb(e,7).ngClassPristine,r.yb(e,7).ngClassDirty,r.yb(e,7).ngClassValid,r.yb(e,7).ngClassInvalid,r.yb(e,7).ngClassPending),t(e,13,0,r.yb(e,15).required?"":null,r.yb(e,21).ngClassUntouched,r.yb(e,21).ngClassTouched,r.yb(e,21).ngClassPristine,r.yb(e,21).ngClassDirty,r.yb(e,21).ngClassValid,r.yb(e,21).ngClassInvalid,r.yb(e,21).ngClassPending),t(e,26,0,r.yb(e,28).required?"":null,r.yb(e,29).minlength?r.yb(e,29).minlength:null,r.yb(e,34).ngClassUntouched,r.yb(e,34).ngClassTouched,r.yb(e,34).ngClassPristine,r.yb(e,34).ngClassDirty,r.yb(e,34).ngClassValid,r.yb(e,34).ngClassInvalid,r.yb(e,34).ngClassPending),t(e,38,0,r.yb(e,43).ngClassUntouched,r.yb(e,43).ngClassTouched,r.yb(e,43).ngClassPristine,r.yb(e,43).ngClassDirty,r.yb(e,43).ngClassValid,r.yb(e,43).ngClassInvalid,r.yb(e,43).ngClassPending),t(e,47,0,r.yb(e,48).target,r.yb(e,48).href)})}function wa(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,1,"app-login",[],null,null,null,ba,ga)),r.ob(1,114688,null,0,ma,[fa,wi,Y],null,null)],function(t,e){t(e,1,0)},null)}var _a=r.lb("app-login",ma,wa,{},{},[]),Ca=function(){function t(t,e){this.auth=t,this.router=e,this.recordarme=!1}return t.prototype.ngOnInit=function(){this.usuario=new ha},t.prototype.onSubmit=function(t){var e=this;t.invalid||(da.a.fire({allowOutsideClick:!1,type:"info",text:"Espere por favor..."}),da.a.showLoading(),this.auth.nuevoUsuario(this.usuario).subscribe(function(t){console.log(t),da.a.close(),e.recordarme&&localStorage.setItem("email",e.usuario.email),e.router.navigateByUrl("/home")},function(t){console.log(t.error.error.message),da.a.fire({type:"error",title:"Error al autenticar",text:t.error.error.message})}))},t}(),Ea=r.nb({encapsulation:0,styles:[['a[_ngcontent-%COMP%]{font-family:Ubuntu-Regular;font-size:14px;line-height:1.7;color:#666;margin:0;transition:all .4s;-webkit-transition:.4s;-o-transition:.4s;-moz-transition:.4s}a[_ngcontent-%COMP%]:focus{outline:0!important}a[_ngcontent-%COMP%]:hover{text-decoration:none;color:#403866}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:0}p[_ngcontent-%COMP%]{font-family:Ubuntu-Regular;font-size:14px;line-height:1.7;color:#666;margin:0}li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;list-style-type:none}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{outline:0;border:none}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:transparent!important}input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#8f8fa1}input[_ngcontent-%COMP%]:-moz-placeholder{color:#8f8fa1}input[_ngcontent-%COMP%]::-moz-placeholder{color:#8f8fa1}input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#8f8fa1}textarea[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#8f8fa1}textarea[_ngcontent-%COMP%]:-moz-placeholder{color:#8f8fa1}textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#8f8fa1}textarea[_ngcontent-%COMP%]:-ms-input-placeholder{color:#8f8fa1}label[_ngcontent-%COMP%]{display:block;margin:0}button[_ngcontent-%COMP%]{outline:0!important;border:none;background:0 0}button[_ngcontent-%COMP%]:hover{cursor:pointer}iframe[_ngcontent-%COMP%]{border:none!important}.txt1[_ngcontent-%COMP%]{font-family:Ubuntu-Regular;font-size:16px;color:#827ffe;line-height:1.4}.limiter[_ngcontent-%COMP%]{width:100%;margin:0 auto}.container-login100[_ngcontent-%COMP%]{width:100%;min-height:100vh;display:flex;flex-wrap:wrap;justify-content:center;align-items:center;padding:15px;background-position:center;background-size:cover;background-repeat:no-repeat}.wrap-login100[_ngcontent-%COMP%]{width:390px;background:#fff;border-radius:10px;position:relative}.login100-form[_ngcontent-%COMP%]{width:100%}.login100-form-title[_ngcontent-%COMP%]{font-family:Ubuntu-Bold;font-size:30px;color:#403866;line-height:1.2;text-transform:uppercase;text-align:center;width:100%;display:block}.wrap-input100[_ngcontent-%COMP%]{width:100%;position:relative;background-color:#e6e6e6;border:1px solid transparent;border-radius:3px}.input100[_ngcontent-%COMP%]{font-family:Ubuntu-Bold;color:#403866;line-height:1.2;font-size:18px;display:block;width:100%;background:0 0;height:62px;padding:0 20px 0 38px}.focus-input100[_ngcontent-%COMP%]{position:absolute;display:block;width:calc(100% + 2px);height:calc(100% + 2px);top:-1px;left:-1px;pointer-events:none;border:1px solid #827ffe;border-radius:3px;visibility:hidden;opacity:0;transition:all .4s;-webkit-transform:scaleX(1.1) scaleY(1.3);transform:scaleX(1.1) scaleY(1.3)}.eff-focus-selection[_ngcontent-%COMP%], .input100[_ngcontent-%COMP%]:focus + .focus-input100[_ngcontent-%COMP%]{visibility:visible;opacity:1;-webkit-transform:scale(1);transform:scale(1)}.input-checkbox100[_ngcontent-%COMP%]{display:none}.label-checkbox100[_ngcontent-%COMP%]{font-family:Ubuntu-Regular;font-size:16px;color:#999;line-height:1.2;display:block;position:relative;padding-left:26px;cursor:pointer}.label-checkbox100[_ngcontent-%COMP%]::before{content:"\\f00c";font-family:FontAwesome;font-size:13px;color:transparent;display:flex;justify-content:center;align-items:center;position:absolute;width:18px;height:18px;border-radius:3px;background:#fff;border:2px solid #827ffe;left:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.input-checkbox100[_ngcontent-%COMP%]:checked + .label-checkbox100[_ngcontent-%COMP%]::before{color:#827ffe}.container-login100-form-btn[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap}.login100-form-btn[_ngcontent-%COMP%]{font-family:Ubuntu-Bold;font-size:16px;color:#fff;line-height:1.2;text-transform:uppercase;display:flex;justify-content:center;align-items:center;padding:0 20px;width:100%;height:62px;background-color:#827ffe;border-radius:3px;transition:all .4s}.login100-form-btn[_ngcontent-%COMP%]:hover{background-color:#403866}.validate-input[_ngcontent-%COMP%]{position:relative}.alert-validate[_ngcontent-%COMP%]::before{content:attr(data-validate);position:absolute;max-width:70%;background-color:#fff;border:1px solid #c80000;border-radius:3px;padding:4px 25px 5px 10px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);right:12px;pointer-events:none;font-family:Ubuntu-Regular;color:#c80000;font-size:14px;line-height:1.4;text-align:left;visibility:hidden;opacity:0;transition:opacity .4s}.alert-validate[_ngcontent-%COMP%]::after{content:"\\f12a";font-family:FontAwesome;display:block;position:absolute;color:#c80000;font-size:18px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);right:18px}.alert-validate[_ngcontent-%COMP%]:hover:before{visibility:visible;opacity:1}@media (max-width:992px){.alert-validate[_ngcontent-%COMP%]::before{visibility:visible;opacity:1}}']],data:{}});function Sa(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,1,"span",[["class","text-danger animated fadeIn"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,["El correo es obligatorio"]))],null,null)}function Ta(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,1,"span",[["class","text-danger animated fadeIn"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,["El nombre es obligatorio"]))],null,null)}function Ia(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,1,"span",[["class","text-danger animated fadeIn"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Al menos 6 letras"]))],null,null)}function ka(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,66,"div",[["class","col-md-10 limiter animated fadeInRight"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,64,"div",[["class","container-login100"]],null,null,null,null,null)),(t()(),r.pb(3,0,null,null,63,"div",[["class","wrap-login100 p-t-50 p-b-90"]],null,null,null,null,null)),(t()(),r.pb(4,0,null,null,62,"form",[["class","login100-form validate-form flex-sb flex-w"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(t,e,n){var i=!0,o=t.component;return"submit"===e&&(i=!1!==r.yb(t,6).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.yb(t,6).onReset()&&i),"ngSubmit"===e&&(i=!1!==o.onSubmit(r.yb(t,6))&&i),i},null,null)),r.ob(5,16384,null,0,ua,[],null,null),r.ob(6,4210688,[["f",4]],0,$o,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),r.Bb(2048,null,fo,null,[$o]),r.ob(8,16384,null,0,Ho,[[4,fo]],null,null),(t()(),r.pb(9,0,null,null,1,"span",[["class","login100-form-title p-b-51"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" Crear nueva cuenta "])),(t()(),r.gb(16777216,null,null,1,null,Sa)),r.ob(12,16384,null,0,f.j,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(13,0,null,null,10,"div",[["class","wrap-input100 m-b-16"]],null,null,null,null,null)),(t()(),r.pb(14,0,null,null,8,"input",[["class","input100"],["email",""],["name","email"],["placeholder","Email"],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.yb(t,15)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.yb(t,15).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.yb(t,15)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.yb(t,15)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.usuario.email=n)&&i),i},null,null)),r.ob(15,16384,null,0,So,[r.D,r.k,[2,Eo]],null,null),r.ob(16,16384,null,0,oa,[],{required:[0,"required"]},null),r.ob(17,16384,null,0,aa,[],{email:[0,"email"]},null),r.Bb(1024,null,mo,function(t,e){return[t,e]},[oa,aa]),r.Bb(1024,null,_o,function(t){return[t]},[So]),r.ob(20,671744,null,0,ia,[[2,fo],[6,mo],[8,null],[6,_o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Bb(2048,null,xo,null,[ia]),r.ob(22,16384,null,0,zo,[[4,xo]],null,null),(t()(),r.pb(23,0,null,null,0,"span",[["class","focus-input100"]],null,null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,Ta)),r.ob(25,16384,null,0,f.j,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(26,0,null,null,10,"div",[["class","wrap-input100 m-b-16"]],null,null,null,null,null)),(t()(),r.pb(27,0,null,null,8,"input",[["class","input100"],["minlength","2"],["name","nombre"],["placeholder","Nombre y apellidos"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.yb(t,28)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.yb(t,28).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.yb(t,28)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.yb(t,28)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.usuario.nombre=n)&&i),i},null,null)),r.ob(28,16384,null,0,So,[r.D,r.k,[2,Eo]],null,null),r.ob(29,16384,null,0,oa,[],{required:[0,"required"]},null),r.ob(30,540672,null,0,la,[],{minlength:[0,"minlength"]},null),r.Bb(1024,null,mo,function(t,e){return[t,e]},[oa,la]),r.Bb(1024,null,_o,function(t){return[t]},[So]),r.ob(33,671744,null,0,ia,[[2,fo],[6,mo],[8,null],[6,_o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Bb(2048,null,xo,null,[ia]),r.ob(35,16384,null,0,zo,[[4,xo]],null,null),(t()(),r.pb(36,0,null,null,0,"span",[["class","focus-input100"]],null,null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,Ia)),r.ob(38,16384,null,0,f.j,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(39,0,null,null,10,"div",[["class","wrap-input100 m-b-16"]],null,null,null,null,null)),(t()(),r.pb(40,0,null,null,8,"input",[["class","input100"],["minlength","6"],["name","password"],["placeholder","Password"],["required",""],["type","password"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.yb(t,41)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.yb(t,41).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.yb(t,41)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.yb(t,41)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.usuario.password=n)&&i),i},null,null)),r.ob(41,16384,null,0,So,[r.D,r.k,[2,Eo]],null,null),r.ob(42,16384,null,0,oa,[],{required:[0,"required"]},null),r.ob(43,540672,null,0,la,[],{minlength:[0,"minlength"]},null),r.Bb(1024,null,mo,function(t,e){return[t,e]},[oa,la]),r.Bb(1024,null,_o,function(t){return[t]},[So]),r.ob(46,671744,null,0,ia,[[2,fo],[6,mo],[8,null],[6,_o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Bb(2048,null,xo,null,[ia]),r.ob(48,16384,null,0,zo,[[4,xo]],null,null),(t()(),r.pb(49,0,null,null,0,"span",[["class","focus-input100"]],null,null,null,null,null)),(t()(),r.pb(50,0,null,null,13,"div",[["class","flex-sb-m w-full p-t-3 p-b-24"]],null,null,null,null,null)),(t()(),r.pb(51,0,null,null,8,"div",[["class","contact100-form-checkbox"]],null,null,null,null,null)),(t()(),r.pb(52,0,null,null,5,"input",[["class","input-checkbox100"],["id","ckb1"],["name","remember-me"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,e,n){var i=!0,o=t.component;return"change"===e&&(i=!1!==r.yb(t,53).onChange(n.target.checked)&&i),"blur"===e&&(i=!1!==r.yb(t,53).onTouched()&&i),"ngModelChange"===e&&(i=!1!==(o.recordarme=n)&&i),i},null,null)),r.ob(53,16384,null,0,Co,[r.D,r.k],null,null),r.Bb(1024,null,_o,function(t){return[t]},[Co]),r.ob(55,671744,null,0,ia,[[2,fo],[8,null],[8,null],[6,_o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Bb(2048,null,xo,null,[ia]),r.ob(57,16384,null,0,zo,[[4,xo]],null,null),(t()(),r.pb(58,0,null,null,1,"label",[["class","label-checkbox100"],["for","ckb1"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" Recordar mi usuario "])),(t()(),r.pb(60,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),r.pb(61,0,null,null,2,"a",[["class","txt1"],["routerLink","/login"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.yb(t,62).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r.ob(62,671744,null,0,Ci,[wi,mr,f.g],{routerLink:[0,"routerLink"]},null),(t()(),r.Eb(-1,null,[" \xbfYa tienes cuenta? / Ingresar "])),(t()(),r.pb(64,0,null,null,2,"div",[["class","container-login100-form-btn m-t-17"]],null,null,null,null,null)),(t()(),r.pb(65,0,null,null,1,"button",[["class","login100-form-btn"],["type","submit"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" Crear cuenta "]))],function(t,e){var n=e.component;t(e,12,0,r.yb(e,6).submitted&&r.yb(e,6).controls.email.errors),t(e,16,0,""),t(e,17,0,""),t(e,20,0,"email",n.usuario.email),t(e,25,0,r.yb(e,6).submitted&&r.yb(e,6).controls.nombre.errors),t(e,29,0,""),t(e,30,0,"2"),t(e,33,0,"nombre",n.usuario.nombre),t(e,38,0,r.yb(e,6).submitted&&r.yb(e,6).controls.password.errors),t(e,42,0,""),t(e,43,0,"6"),t(e,46,0,"password",n.usuario.password),t(e,55,0,"remember-me",n.recordarme),t(e,62,0,"/login")},function(t,e){t(e,4,0,r.yb(e,8).ngClassUntouched,r.yb(e,8).ngClassTouched,r.yb(e,8).ngClassPristine,r.yb(e,8).ngClassDirty,r.yb(e,8).ngClassValid,r.yb(e,8).ngClassInvalid,r.yb(e,8).ngClassPending),t(e,14,0,r.yb(e,16).required?"":null,r.yb(e,22).ngClassUntouched,r.yb(e,22).ngClassTouched,r.yb(e,22).ngClassPristine,r.yb(e,22).ngClassDirty,r.yb(e,22).ngClassValid,r.yb(e,22).ngClassInvalid,r.yb(e,22).ngClassPending),t(e,27,0,r.yb(e,29).required?"":null,r.yb(e,30).minlength?r.yb(e,30).minlength:null,r.yb(e,35).ngClassUntouched,r.yb(e,35).ngClassTouched,r.yb(e,35).ngClassPristine,r.yb(e,35).ngClassDirty,r.yb(e,35).ngClassValid,r.yb(e,35).ngClassInvalid,r.yb(e,35).ngClassPending),t(e,40,0,r.yb(e,42).required?"":null,r.yb(e,43).minlength?r.yb(e,43).minlength:null,r.yb(e,48).ngClassUntouched,r.yb(e,48).ngClassTouched,r.yb(e,48).ngClassPristine,r.yb(e,48).ngClassDirty,r.yb(e,48).ngClassValid,r.yb(e,48).ngClassInvalid,r.yb(e,48).ngClassPending),t(e,52,0,r.yb(e,57).ngClassUntouched,r.yb(e,57).ngClassTouched,r.yb(e,57).ngClassPristine,r.yb(e,57).ngClassDirty,r.yb(e,57).ngClassValid,r.yb(e,57).ngClassInvalid,r.yb(e,57).ngClassPending),t(e,61,0,r.yb(e,62).target,r.yb(e,62).href)})}function Oa(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,1,"app-registro",[],null,null,null,ka,Ea)),r.ob(1,114688,null,0,Ca,[fa,wi],null,null)],function(t,e){t(e,1,0)},null)}var xa=r.lb("app-registro",Ca,Oa,{},{},[]),Aa=function(){function t(t,e){this.prodService=t,this.rutaActiva=e}return t.prototype.ngOnInit=function(){var t=this;this.dato={id:this.rutaActiva.snapshot.params.id,portada:this.rutaActiva.snapshot.params.portada,titulo:this.rutaActiva.snapshot.params.titulo},this.rutaActiva.params.subscribe(function(e){t.dato.id=e.id,t.dato.portada=e.portada,t.dato.titulo=e.titulo})},t}(),Na=r.nb({encapsulation:0,styles:[[""]],data:{}});function Da(t){return r.Fb(0,[],null,null)}function Pa(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,1,"app-infoproducto",[],null,null,null,Da,Na)),r.ob(1,114688,null,0,Aa,[G,mr],null,null)],function(t,e){t(e,1,0)},null)}var Ra=r.lb("app-infoproducto",Aa,Pa,{},{},[]),Ma=function(){function t(t){this.infoService=t}return t.prototype.ngOnInit=function(){},t}(),ja=r.nb({encapsulation:0,styles:[[""]],data:{}});function La(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,38,"div",[["class","col-lg-10 col-md-10 col-sm-10"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,37,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,36,"div",[["class","body ocul_mns"],["id","empresa"]],null,null,null,null,null)),(t()(),r.pb(3,0,null,null,35,"div",[["class","emp_cen"]],null,null,null,null,null)),(t()(),r.pb(4,0,null,null,8,"div",[["class","page_titles"]],null,null,null,null,null)),(t()(),r.pb(5,0,null,null,7,"div",[["class","col-lg-12"]],null,null,null,null,null)),(t()(),r.pb(6,0,null,null,1,"div",[["class","col-lg-5"]],null,null,null,null,null)),(t()(),r.pb(7,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r.pb(8,0,null,null,2,"div",[["class","col-lg-2"]],null,null,null,null,null)),(t()(),r.pb(9,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["D' PELUCHE"])),(t()(),r.pb(11,0,null,null,1,"div",[["class","col-lg-5"]],null,null,null,null,null)),(t()(),r.pb(12,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r.pb(13,0,null,null,25,"div",[["class","col-lg-12"]],null,null,null,null,null)),(t()(),r.pb(14,0,null,null,0,"div",[["class","col-lg-3"]],null,null,null,null,null)),(t()(),r.pb(15,0,null,null,22,"div",[["class","col-lg-6"]],null,null,null,null,null)),(t()(),r.pb(16,0,null,null,21,"div",[["class","emp_bq1"]],null,null,null,null,null)),(t()(),r.pb(17,0,null,null,20,"div",[["class","txt_gral"]],null,null,null,null,null)),(t()(),r.pb(18,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Nuestra empresa:"])),(t()(),r.pb(20,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" Somos una Empresa Mexicana con m\xe1s de 21 a\xf1os de experiencia en la importaci\xf3n, comercializaci\xf3n y fabricaci\xf3n de mu\xf1ecos y art\xedculos de peluche. Operada por gente joven y comprometida en satisfacer las necesidades del cliente ofreciendo la m\xe1xima calidad en los productos y servicios tanto en productos de importaci\xf3n como nacionales. "])),(t()(),r.pb(22,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.pb(23,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["\xbfQu\xe9 nos hace diferentes?"])),(t()(),r.pb(25,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Desde su inicio D\xb4peluche se distingui\xf3 por una atenci\xf3n personalizada, una gran variedad de modelos y relaci\xf3n de calidad-precio, adem\xe1s de contar con un departamento de dise\xf1o e innovaci\xf3n para el desarrollo de proyectos institucionales para diversas empresas."])),(t()(),r.pb(27,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.pb(28,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Historia:"])),(t()(),r.pb(30,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["D\xb4peluche inicia en 1993 con la distribuci\xf3n a medio mayoreo a clientes de la Rep\xfablica Mexicana."])),(t()(),r.pb(32,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.pb(33,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" Teniendo el compromiso en ofrecer dise\xf1os exclusivos, diferenci\xe1ndose de sus competidores al tener mercanc\xeda de mejor calidad y desarrollando nuevos proveedores nacionales y extranjeros, motivo por el cual surge la necesidad de importar de Asia estableciendo importantes alianzas comerciales."])),(t()(),r.pb(35,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.pb(36,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.pb(37,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.pb(38,0,null,null,0,"div",[["class","col-lg-3"]],null,null,null,null,null))],null,null)}function Va(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,1,"app-about",[],null,null,null,La,ja)),r.ob(1,114688,null,0,Ma,[K],null,null)],function(t,e){t(e,1,0)},null)}var Fa=r.lb("app-about",Ma,Va,{},{},[]),Ua=function(){function t(t){this.infoService=t}return t.prototype.ngOnInit=function(){},t}(),qa=r.nb({encapsulation:0,styles:[[""]],data:{}});function Ba(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,128,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,127,"div",[["class","container"]],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,126,"div",[["class","ae-masonry-xs-2 ae-masonry-md-2 ae-masonry-xl-4"]],null,null,null,null,null)),(t()(),r.pb(3,0,null,null,6,"a",[["class","rk-item ae-masonry__item"],["href","https://dpeluche.com/vacas"]],null,null,null,null,null)),(t()(),r.pb(4,0,null,null,0,"img",[["alt","vacas"],["class","img-thumbnail"],["src","https://dpeluche.com/backend/vistas/img/cabeceras/vaca.jpg"]],null,null,null,null,null)),(t()(),r.pb(5,0,null,null,4,"div",[["class","item-meta"]],null,null,null,null,null)),(t()(),r.pb(6,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["vacas"])),(t()(),r.pb(8,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["vacas"])),(t()(),r.pb(10,0,null,null,6,"a",[["class","rk-item ae-masonry__item"],["href","https://dpeluche.com/caballo"]],null,null,null,null,null)),(t()(),r.pb(11,0,null,null,0,"img",[["alt","caballo"],["class","img-thumbnail"],["src","https://dpeluche.com/backend/vistas/img/cabeceras/caballo.jpg"]],null,null,null,null,null)),(t()(),r.pb(12,0,null,null,4,"div",[["class","item-meta"]],null,null,null,null,null)),(t()(),r.pb(13,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["caballo"])),(t()(),r.pb(15,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["caballo"])),(t()(),r.pb(17,0,null,null,6,"a",[["class","rk-item ae-masonry__item"],["href","https://dpeluche.com/chango"]],null,null,null,null,null)),(t()(),r.pb(18,0,null,null,0,"img",[["alt","chango"],["class","img-thumbnail"],["src","https://dpeluche.com/backend/vistas/img/cabeceras/chango.jpg"]],null,null,null,null,null)),(t()(),r.pb(19,0,null,null,4,"div",[["class","item-meta"]],null,null,null,null,null)),(t()(),r.pb(20,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["chango"])),(t()(),r.pb(22,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["chango"])),(t()(),r.pb(24,0,null,null,6,"a",[["class","rk-item ae-masonry__item"],["href","https://dpeluche.com/colecciones"]],null,null,null,null,null)),(t()(),r.pb(25,0,null,null,0,"img",[["alt","colecciones"],["class","img-thumbnail"],["src","https://dpeluche.com/backend/vistas/img/cabeceras/colecciones.jpg"]],null,null,null,null,null)),(t()(),r.pb(26,0,null,null,4,"div",[["class","item-meta"]],null,null,null,null,null)),(t()(),r.pb(27,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["colecciones"])),(t()(),r.pb(29,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["colecciones"])),(t()(),r.pb(31,0,null,null,6,"a",[["class","rk-item ae-masonry__item"],["href","https://dpeluche.com/conejo"]],null,null,null,null,null)),(t()(),r.pb(32,0,null,null,0,"img",[["alt","conejo"],["class","img-thumbnail"],["src","https://dpeluche.com/backend/vistas/img/cabeceras/conejo.jpg"]],null,null,null,null,null)),(t()(),r.pb(33,0,null,null,4,"div",[["class","item-meta"]],null,null,null,null,null)),(t()(),r.pb(34,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["conejo"])),(t()(),r.pb(36,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["conejo"])),(t()(),r.pb(38,0,null,null,6,"a",[["class","rk-item ae-masonry__item"],["href","https://dpeluche.com/elefante"]],null,null,null,null,null)),(t()(),r.pb(39,0,null,null,0,"img",[["alt","elefante"],["class","img-thumbnail"],["src","https://dpeluche.com/backend/vistas/img/cabeceras/elefante.jpg"]],null,null,null,null,null)),(t()(),r.pb(40,0,null,null,4,"div",[["class","item-meta"]],null,null,null,null,null)),(t()(),r.pb(41,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["elefante"])),(t()(),r.pb(43,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["elefante"])),(t()(),r.pb(45,0,null,null,6,"a",[["class","rk-item ae-masonry__item"],["href","https://dpeluche.com/gato"]],null,null,null,null,null)),(t()(),r.pb(46,0,null,null,0,"img",[["alt","gato"],["class","img-thumbnail"],["src","https://dpeluche.com/backend/vistas/img/cabeceras/gato.jpg"]],null,null,null,null,null)),(t()(),r.pb(47,0,null,null,4,"div",[["class","item-meta"]],null,null,null,null,null)),(t()(),r.pb(48,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["gato"])),(t()(),r.pb(50,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["gato"])),(t()(),r.pb(52,0,null,null,6,"a",[["class","rk-item ae-masonry__item"],["href","https://dpeluche.com/jirafa"]],null,null,null,null,null)),(t()(),r.pb(53,0,null,null,0,"img",[["alt","jirafa"],["class","img-thumbnail"],["src","https://dpeluche.com/backend/vistas/img/cabeceras/jirafa.jpg"]],null,null,null,null,null)),(t()(),r.pb(54,0,null,null,4,"div",[["class","item-meta"]],null,null,null,null,null)),(t()(),r.pb(55,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["jirafa"])),(t()(),r.pb(57,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["jirafa"])),(t()(),r.pb(59,0,null,null,6,"a",[["class","rk-item ae-masonry__item"],["href","https://dpeluche.com/leon"]],null,null,null,null,null)),(t()(),r.pb(60,0,null,null,0,"img",[["alt","leon"],["class","img-thumbnail"],["src","https://dpeluche.com/backend/vistas/img/cabeceras/leon.jpg"]],null,null,null,null,null)),(t()(),r.pb(61,0,null,null,4,"div",[["class","item-meta"]],null,null,null,null,null)),(t()(),r.pb(62,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["leon"])),(t()(),r.pb(64,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["leon"])),(t()(),r.pb(66,0,null,null,6,"a",[["class","rk-item ae-masonry__item"],["href","https://dpeluche.com/oso"]],null,null,null,null,null)),(t()(),r.pb(67,0,null,null,0,"img",[["alt","oso"],["class","img-thumbnail"],["src","https://dpeluche.com/backend/vistas/img/cabeceras/oso.jpg"]],null,null,null,null,null)),(t()(),r.pb(68,0,null,null,4,"div",[["class","item-meta"]],null,null,null,null,null)),(t()(),r.pb(69,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["oso"])),(t()(),r.pb(71,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["oso"])),(t()(),r.pb(73,0,null,null,6,"a",[["class","rk-item ae-masonry__item"],["href","https://dpeluche.com/oveja"]],null,null,null,null,null)),(t()(),r.pb(74,0,null,null,0,"img",[["alt","oveja"],["class","img-thumbnail"],["src","https://dpeluche.com/backend/vistas/img/cabeceras/oveja.jpg"]],null,null,null,null,null)),(t()(),r.pb(75,0,null,null,4,"div",[["class","item-meta"]],null,null,null,null,null)),(t()(),r.pb(76,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["oveja"])),(t()(),r.pb(78,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["oveja"])),(t()(),r.pb(80,0,null,null,6,"a",[["class","rk-item ae-masonry__item"],["href","https://dpeluche.com/panda"]],null,null,null,null,null)),(t()(),r.pb(81,0,null,null,0,"img",[["alt","panda"],["class","img-thumbnail"],["src","https://dpeluche.com/backend/vistas/img/cabeceras/panda.jpg"]],null,null,null,null,null)),(t()(),r.pb(82,0,null,null,4,"div",[["class","item-meta"]],null,null,null,null,null)),(t()(),r.pb(83,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["panda"])),(t()(),r.pb(85,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["panda"])),(t()(),r.pb(87,0,null,null,6,"a",[["class","rk-item ae-masonry__item"],["href","https://dpeluche.com/pato"]],null,null,null,null,null)),(t()(),r.pb(88,0,null,null,0,"img",[["alt","pato"],["class","img-thumbnail"],["src","https://dpeluche.com/backend/vistas/img/cabeceras/pato.jpg"]],null,null,null,null,null)),(t()(),r.pb(89,0,null,null,4,"div",[["class","item-meta"]],null,null,null,null,null)),(t()(),r.pb(90,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["pato"])),(t()(),r.pb(92,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["pato"])),(t()(),r.pb(94,0,null,null,6,"a",[["class","rk-item ae-masonry__item"],["href","https://dpeluche.com/perro"]],null,null,null,null,null)),(t()(),r.pb(95,0,null,null,0,"img",[["alt","perro"],["class","img-thumbnail"],["src","https://dpeluche.com/backend/vistas/img/cabeceras/perros.jpg"]],null,null,null,null,null)),(t()(),r.pb(96,0,null,null,4,"div",[["class","item-meta"]],null,null,null,null,null)),(t()(),r.pb(97,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["perro"])),(t()(),r.pb(99,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["perro"])),(t()(),r.pb(101,0,null,null,6,"a",[["class","rk-item ae-masonry__item"],["href","https://dpeluche.com/puerco"]],null,null,null,null,null)),(t()(),r.pb(102,0,null,null,0,"img",[["alt","puerco"],["class","img-thumbnail"],["src","https://dpeluche.com/backend/vistas/img/cabeceras/puerco.jpg"]],null,null,null,null,null)),(t()(),r.pb(103,0,null,null,4,"div",[["class","item-meta"]],null,null,null,null,null)),(t()(),r.pb(104,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["puerco"])),(t()(),r.pb(106,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["puerco"])),(t()(),r.pb(108,0,null,null,6,"a",[["class","rk-item ae-masonry__item"],["href","https://dpeluche.com/rana"]],null,null,null,null,null)),(t()(),r.pb(109,0,null,null,0,"img",[["alt","rana"],["class","img-thumbnail"],["src","https://dpeluche.com/backend/vistas/img/cabeceras/rana.jpg"]],null,null,null,null,null)),(t()(),r.pb(110,0,null,null,4,"div",[["class","item-meta"]],null,null,null,null,null)),(t()(),r.pb(111,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["rana"])),(t()(),r.pb(113,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["rana"])),(t()(),r.pb(115,0,null,null,6,"a",[["class","rk-item ae-masonry__item"],["href","https://dpeluche.com/tortuga"]],null,null,null,null,null)),(t()(),r.pb(116,0,null,null,0,"img",[["alt","tortuga"],["class","img-thumbnail"],["src","https://dpeluche.com/backend/vistas/img/cabeceras/tortuga.jpg"]],null,null,null,null,null)),(t()(),r.pb(117,0,null,null,4,"div",[["class","item-meta"]],null,null,null,null,null)),(t()(),r.pb(118,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["tortuga"])),(t()(),r.pb(120,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["tortuga"])),(t()(),r.pb(122,0,null,null,6,"a",[["class","rk-item ae-masonry__item"],["href","https://dpeluche.com/unicornio"]],null,null,null,null,null)),(t()(),r.pb(123,0,null,null,0,"img",[["alt","unicornio"],["class","img-thumbnail"],["src","https://dpeluche.com/backend/vistas/img/cabeceras/unicornio.jpg"]],null,null,null,null,null)),(t()(),r.pb(124,0,null,null,4,"div",[["class","item-meta"]],null,null,null,null,null)),(t()(),r.pb(125,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["unicornio"])),(t()(),r.pb(127,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["unicornio"]))],null,null)}function za(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,1,"app-categorias",[],null,null,null,Ba,qa)),r.ob(1,114688,null,0,Ua,[K],null,null)],function(t,e){t(e,1,0)},null)}var Ha=r.lb("app-categorias",Ua,za,{},{},[]),Ka=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Ga=r.nb({encapsulation:0,styles:[[""]],data:{}});function Wa(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,27,"div",[["class","col-lg-10 col-md-10 col-sm-10"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,26,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,25,"div",[["class","body ocul_mns"],["id","empresa"]],null,null,null,null,null)),(t()(),r.pb(3,0,null,null,24,"div",[["class","emp_cen"]],null,null,null,null,null)),(t()(),r.pb(4,0,null,null,8,"div",[["class","page_titles"]],null,null,null,null,null)),(t()(),r.pb(5,0,null,null,7,"div",[["class","col-lg-12"]],null,null,null,null,null)),(t()(),r.pb(6,0,null,null,1,"div",[["class","col-lg-5 col-md-3 col-sm-3"]],null,null,null,null,null)),(t()(),r.pb(7,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r.pb(8,0,null,null,2,"div",[["class","col-lg-2 col-md-6 col-sm-6"]],null,null,null,null,null)),(t()(),r.pb(9,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["POLITICAS"])),(t()(),r.pb(11,0,null,null,1,"div",[["class","col-lg-5 col-md-3 col-sm-3"]],null,null,null,null,null)),(t()(),r.pb(12,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r.pb(13,0,null,null,14,"div",[["class","col-lg-12"]],null,null,null,null,null)),(t()(),r.pb(14,0,null,null,0,"div",[["class","col-lg-3  col-md-3 col-sm-3"]],null,null,null,null,null)),(t()(),r.pb(15,0,null,null,11,"div",[["class","col-lg-6 col-md-6 col-sm-6"]],null,null,null,null,null)),(t()(),r.pb(16,0,null,null,10,"div",[["class","emp_bq1"]],null,null,null,null,null)),(t()(),r.pb(17,0,null,null,9,"div",[["class","txt_gral"]],null,null,null,null,null)),(t()(),r.pb(18,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Pol\xedticas de env\xedo:"])),(t()(),r.pb(20,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" Una vez efectuado el pago de su pedido se realiza el env\xedo por la paqueter\xeda de su elecci\xf3n, el pago del env\xedo corre por cuenta del cliente directamente a la empresa de transporte. "])),(t()(),r.pb(22,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.pb(23,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Garant\xedas"])),(t()(),r.pb(25,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Mercanc\xeda da\xf1ada por defecto de f\xe1brica se acepta devoluci\xf3n o cambio. V\xe1lido solamente en los siguientes 3 d\xedas despu\xe9s de haber recibido su mercanc\xeda, transcurrido ese tiempo no se aceptan devoluciones ni cambios. En caso de que cajas o bultos lleguen en malas condiciones y faltantes, la reclamaci\xf3n se hace directamente con la empresa de transporte."])),(t()(),r.pb(27,0,null,null,0,"div",[["class","col-lg-3 col-md-3 col-sm-3"]],null,null,null,null,null))],null,null)}function Qa(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,1,"app-politicas",[],null,null,null,Wa,Ga)),r.ob(1,114688,null,0,Ka,[],null,null)],function(t,e){t(e,1,0)},null)}var Ya=r.lb("app-politicas",Ka,Qa,{},{},[]),Xa=function(){function t(t){this.paisService=t,this.paises=[]}return t.prototype.ngOnInit=function(){var t=this;this.paisService.getPaises().then(function(e){return t.paises=e})},t}(),Ja=r.nb({encapsulation:0,styles:[[""]],data:{}});function Za(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,3,"a",[["class","list-group-item list-group-item-action animated fadeIn fast"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.yb(t,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r.ob(1,671744,null,0,Ci,[wi,mr,f.g],{routerLink:[0,"routerLink"]},null),r.zb(2,2),(t()(),r.Eb(3,null,[" "," "]))],function(t,e){var n=t(e,2,0,"/pais",e.context.$implicit.alpha3Code);t(e,1,0,n)},function(t,e){t(e,0,0,r.yb(e,1).target,r.yb(e,1).href),t(e,3,0,e.context.$implicit.name)})}function $a(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Paises"])),(t()(),r.pb(2,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r.pb(3,0,null,null,2,"ul",[["class","list-group"]],null,null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,Za)),r.ob(5,278528,null,0,f.i,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,5,0,e.component.paises)},null)}function tl(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,1,"app-paises",[],null,null,null,$a,Ja)),r.ob(1,114688,null,0,Xa,[W],null,null)],function(t,e){t(e,1,0)},null)}var el=r.lb("app-paises",Xa,tl,{},{},[]),nl=function(){function t(t){var e=this;this._cs=t,this.mensaje="",this._cs.cargarMensajes().subscribe(function(){setTimeout(function(){e.elemento.scrollTop=e.elemento.scrollHeight},20)})}return t.prototype.ngOnInit=function(){this.elemento=document.getElementById("app-mensajes")},t.prototype.enviar_mensaje=function(){var t=this;console.log(this.mensaje),0!==this.mensaje.length&&this._cs.agregarMensaje(this.mensaje).then(function(){return t.mensaje=""}).catch(function(t){return console.error("Error al enviar",t)})},t}(),rl=r.nb({encapsulation:0,styles:[[".main-container[_ngcontent-%COMP%]{margin-top:40px;margin-bottom:150px}.puntero[_ngcontent-%COMP%]{cursor:pointer}.chat-window[_ngcontent-%COMP%]{padding:10px;width:300px;height:400px;overflow:hidden;border:1px solid #4080ff;border-radius:20px}.app-mensajes[_ngcontent-%COMP%]{overflow-y:scroll;height:270px;padding:5px}.animated[_ngcontent-%COMP%]{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both}.fast[_ngcontent-%COMP%]{-webkit-animation-duration:.3s;animation-duration:.3s;-webkit-animation-fill-mode:both;animation-fill-mode:both}@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{-webkit-animation-name:fadeIn;animation-name:fadeIn}"]],data:{}});function il(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,8,"div",[],null,null,null,null,null)),r.ob(1,278528,null,0,f.h,[r.s,r.t,r.k,r.D],{ngClass:[0,"ngClass"]},null),r.Ab(2,{"text-right":0}),(t()(),r.pb(3,0,null,null,3,"span",[["class","badge"]],null,null,null,null,null)),r.ob(4,278528,null,0,f.h,[r.s,r.t,r.k,r.D],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.Ab(5,{"badge-primary":0,"badge-success":1}),(t()(),r.Eb(6,null,[" ",""])),(t()(),r.pb(7,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(8,null,[" "," "]))],function(t,e){var n=e.component,r=t(e,2,0,n._cs.usuario.uid==e.context.$implicit.uid);t(e,1,0,r);var i=t(e,5,0,n._cs.usuario.uid==e.context.$implicit.uid,n._cs.usuario.uid!=e.context.$implicit.uid);t(e,4,0,"badge",i)},function(t,e){t(e,6,0,e.context.$implicit.nombre),t(e,8,0,e.context.$implicit.mensaje)})}function ol(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,9,"div",[["class","col-md-9"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,2,"div",[["class","app-mensajes"],["id","app-mensajes"]],null,null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,il)),r.ob(3,278528,null,0,f.i,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(t()(),r.pb(4,0,null,null,5,"input",[["class","form-control"],["name","mensaje"],["placeholder","Enviar mensaje"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.yb(t,5)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.yb(t,5).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.yb(t,5)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.yb(t,5)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.mensaje=n)&&i),"keyup.enter"===e&&(i=!1!==o.enviar_mensaje()&&i),i},null,null)),r.ob(5,16384,null,0,So,[r.D,r.k,[2,Eo]],null,null),r.Bb(1024,null,_o,function(t){return[t]},[So]),r.ob(7,671744,null,0,ia,[[8,null],[8,null],[8,null],[6,_o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Bb(2048,null,xo,null,[ia]),r.ob(9,16384,null,0,zo,[[4,xo]],null,null)],function(t,e){var n=e.component;t(e,3,0,n._cs.chats),t(e,7,0,"mensaje",n.mensaje)},function(t,e){t(e,4,0,r.yb(e,9).ngClassUntouched,r.yb(e,9).ngClassTouched,r.yb(e,9).ngClassPristine,r.yb(e,9).ngClassDirty,r.yb(e,9).ngClassValid,r.yb(e,9).ngClassInvalid,r.yb(e,9).ngClassPending)})}function al(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,1,"app-carrito",[],null,null,null,ol,rl)),r.ob(1,114688,null,0,nl,[Y],null,null)],function(t,e){t(e,1,0)},null)}var ll=r.lb("app-carrito",nl,al,{},{},[]),ul=function(){function t(t,e){this.route=t,this.productoService=e,this.peluchu=new no,this.pel=new no}return t.prototype.ngOnInit=function(){var t=this,e=this.route.snapshot.paramMap.get("id_pel");"nuevo"!==e&&this.productoService.getProducto(e).subscribe(function(n){t.peluchu=n,t.peluchu.id_pel=e})},t.prototype.guardar=function(t){var e,n=this;t.invalid?console.log("Formulario no v\xe1lido"):(da.a.fire({title:"Espere",text:"Guardando informaci\xf3n",type:"info",allowOutsideClick:!1}),da.a.showLoading(),this.peluchu.id_pel&&(e=this.productoService.crearHeroe(this.peluchu)),e.subscribe(function(t){da.a.fire({title:n.peluchu.titulo,text:"Se actualiz\xf3 correctamente",type:"success"})}))},t}(),sl=r.nb({encapsulation:0,styles:[[""]],data:{}});function cl(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,136,"div",[["class","col-lg-10 col-md-9"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,7,"div",[["class","container-fluid well well-sm"]],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,6,"div",[["class","container"]],null,null,null,null,null)),(t()(),r.pb(3,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(t()(),r.pb(4,0,null,null,4,"ul",[["class","breadcrumb fondoBreadcrumb text-uppercase"]],null,null,null,null,null)),(t()(),r.pb(5,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),r.pb(6,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,["INICIO"])),(t()(),r.pb(8,0,null,null,0,"li",[["class","active pagActiva"]],null,null,null,null,null)),(t()(),r.pb(9,0,null,null,127,"div",[["class","container-fluid well well-sm infoproducto"]],null,null,null,null,null)),(t()(),r.pb(10,0,null,null,126,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),r.pb(11,0,null,null,125,"div",[["class","row"]],null,null,null,null,null)),(t()(),r.pb(12,0,null,null,2,"p",[["class","medidas"]],null,null,null,null,null)),(t()(),r.pb(13,0,null,null,1,"span",[["class","medidaNum"]],null,null,null,null,null)),(t()(),r.Eb(14,null,[""," cm"])),(t()(),r.pb(15,0,null,null,2,"p",[["class","medidass"]],null,null,null,null,null)),(t()(),r.pb(16,0,null,null,1,"span",[["class","medidaNums"]],null,null,null,null,null)),(t()(),r.Eb(17,null,[""," cm"])),(t()(),r.pb(18,0,null,null,115,"div",[["class","col-md-5 col-sm-6 col-xs-12"]],null,null,null,null,null)),(t()(),r.pb(19,0,null,null,1,"figure",[["class","visor visorImg"]],null,null,null,null,null)),(t()(),r.pb(20,0,null,null,0,"img",[["class","img-thumbnail"],["id","lupa1"]],[[8,"src",4]],null,null,null,null)),(t()(),r.pb(21,0,null,null,14,"div",[["class","flexslidess"]],null,null,null,null,null)),(t()(),r.pb(22,0,null,null,5,"div",[["class","flex-viewport"],["style","overflow: hidden; position: relative;"]],null,null,null,null,null)),(t()(),r.pb(23,0,null,null,4,"ul",[["class","slides"],["style","width: 400%; transition-duration: 0s; transform: translate3d(0px, 0px, 0px);"]],null,null,null,null,null)),(t()(),r.pb(24,0,null,null,1,"li",[["style","width: 100px; float: left; display: block;"]],null,null,null,null,null)),(t()(),r.pb(25,0,null,null,0,"img",[["class","img-thumbnail"],["draggable","false"],["value","1"]],[[8,"src",4],[8,"alt",0]],null,null,null,null)),(t()(),r.pb(26,0,null,null,1,"li",[["style","width: 100px; float: left; display: block;"]],null,null,null,null,null)),(t()(),r.pb(27,0,null,null,0,"img",[["class","img-thumbnail"],["draggable","false"],["value","2"]],[[8,"src",4],[8,"alt",0]],null,null,null,null)),(t()(),r.pb(28,0,null,null,0,"ol",[["class","flex-control-nav flex-control-paging"]],null,null,null,null,null)),(t()(),r.pb(29,0,null,null,6,"ul",[["class","flex-direction-nav"]],null,null,null,null,null)),(t()(),r.pb(30,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),r.pb(31,0,null,null,1,"a",[["class","flex-prev flex-disabled"],["href","#"],["tabindex","-1"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Previous"])),(t()(),r.pb(33,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),r.pb(34,0,null,null,1,"a",[["class","flex-next flex-disabled"],["href","#"],["tabindex","-1"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Next"])),(t()(),r.pb(36,0,null,null,4,"div",[["class","col-xs-6"]],null,null,null,null,null)),(t()(),r.pb(37,0,null,null,3,"h6",[],null,null,null,null,null)),(t()(),r.pb(38,0,null,null,2,"a",[["class","text-muted"],["href","javascript:history.back()"]],null,null,null,null,null)),(t()(),r.pb(39,0,null,null,0,"i",[["class","fa fa-reply"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" Continuar Comprando "])),(t()(),r.pb(41,0,null,null,13,"div",[["class","col-xs-6"]],null,null,null,null,null)),(t()(),r.pb(42,0,null,null,12,"h6",[],null,null,null,null,null)),(t()(),r.pb(43,0,null,null,2,"a",[["class","dropdown-toggle pull-right text-muted"],["data-toggle","dropdown"],["href",""]],null,null,null,null,null)),(t()(),r.pb(44,0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" Compartir "])),(t()(),r.pb(46,0,null,null,8,"ul",[["class","dropdown-menu pull-right compartirRedes"]],null,null,null,null,null)),(t()(),r.pb(47,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),r.pb(48,0,null,null,2,"p",[["class","btnFacebook"]],null,null,null,null,null)),(t()(),r.pb(49,0,null,null,0,"i",[["class","fa fa-facebook"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" Facebook "])),(t()(),r.pb(51,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),r.pb(52,0,null,null,2,"p",[["class","btnGoogle"]],null,null,null,null,null)),(t()(),r.pb(53,0,null,null,0,"i",[["class","fa fa-google"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" Google "])),(t()(),r.pb(55,0,null,null,0,"div",[["class","clearfix"]],null,null,null,null,null)),(t()(),r.pb(56,0,null,null,5,"h1",[["class","text-muted text-uppercase"]],null,null,null,null,null)),(t()(),r.Eb(57,null,[""," "])),(t()(),r.pb(58,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.pb(59,0,null,null,2,"small",[],null,null,null,null,null)),(t()(),r.pb(60,0,null,null,1,"span",[["class","label label-warning"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Nuevo"])),(t()(),r.pb(62,0,null,null,1,"h2",[["class","text-muted"]],null,null,null,null,null)),(t()(),r.Eb(63,null,["MXN $ ",""])),(t()(),r.pb(64,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(65,null,["",""])),(t()(),r.pb(66,0,null,null,0,"div",[["class","clearfix"]],null,null,null,null,null)),(t()(),r.pb(67,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.pb(68,0,null,null,25,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r.pb(69,0,null,null,11,"h4",[["class","col-md-12 col-sm-0 col-xs-0"]],null,null,null,null,null)),(t()(),r.pb(70,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r.pb(71,0,null,null,9,"span",[["class","label label-default"],["style","font-weight:100"]],null,null,null,null,null)),(t()(),r.pb(72,0,null,null,0,"i",[["class","fa fa-clock-o"],["style","margin-right:5px"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" 15 dias habiles para la entrega | "])),(t()(),r.pb(74,0,null,null,0,"i",[["class","fa fa-shopping-cart"],["style","margin:0px 5px"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" 0 ventas | "])),(t()(),r.pb(76,0,null,null,0,"i",[["class","fa fa-eye"],["style","margin:0px 5px"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" Visto por "])),(t()(),r.pb(78,0,null,null,1,"span",[["class","vistas"],["tipo","69"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,["59"])),(t()(),r.Eb(-1,null,[" personas "])),(t()(),r.pb(81,0,null,null,12,"h4",[["class","col-lg-0 col-md-0 col-xs-12"]],null,null,null,null,null)),(t()(),r.pb(82,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r.pb(83,0,null,null,10,"small",[],null,null,null,null,null)),(t()(),r.pb(84,0,null,null,0,"i",[["class","fa fa-clock-o"],["style","margin-right:5px"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" 15 dias habiles para la entrega | "])),(t()(),r.pb(86,0,null,null,0,"i",[["class","fa fa-shopping-cart"],["style","margin:0px 5px"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" 0 ventas "])),(t()(),r.pb(88,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r.pb(89,0,null,null,0,"i",[["class","fa fa-eye"],["style","margin:0px 5px"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" Visto por "])),(t()(),r.pb(91,0,null,null,1,"span",[["class","vistas"],["tipo","69"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,["6"])),(t()(),r.Eb(-1,null,[" personas "])),(t()(),r.pb(94,0,null,null,39,"div",[["class","row botonesCompra"]],null,null,null,null,null)),(t()(),r.pb(95,0,null,null,38,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(t,e,n){var i=!0,o=t.component;return"submit"===e&&(i=!1!==r.yb(t,97).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.yb(t,97).onReset()&&i),"ngSubmit"===e&&(i=!1!==o.guardar(r.yb(t,97))&&i),i},null,null)),r.ob(96,16384,null,0,ua,[],null,null),r.ob(97,4210688,[["f",4]],0,$o,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),r.Bb(2048,null,fo,null,[$o]),r.ob(99,16384,null,0,Ho,[[4,fo]],null,null),(t()(),r.pb(100,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),r.pb(101,0,null,null,5,"input",[["class","form-control"],["disabled","disabled"],["name","id"],["placeholder","Firebase ID"],["type","hidden"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.yb(t,102)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.yb(t,102).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.yb(t,102)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.yb(t,102)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.peluchu.id_pel=n)&&i),i},null,null)),r.ob(102,16384,null,0,So,[r.D,r.k,[2,Eo]],null,null),r.Bb(1024,null,_o,function(t){return[t]},[So]),r.ob(104,671744,null,0,ia,[[2,fo],[8,null],[8,null],[6,_o]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),r.Bb(2048,null,xo,null,[ia]),r.ob(106,16384,null,0,zo,[[4,xo]],null,null),(t()(),r.pb(107,0,null,null,7,"input",[["class","form-control"],["name","nombre"],["placeholder","Nombre del h\xe9roe"],["required",""],["type","hidden"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.yb(t,108)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.yb(t,108).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.yb(t,108)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.yb(t,108)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.peluchu.titulo=n)&&i),i},null,null)),r.ob(108,16384,null,0,So,[r.D,r.k,[2,Eo]],null,null),r.ob(109,16384,null,0,oa,[],{required:[0,"required"]},null),r.Bb(1024,null,mo,function(t){return[t]},[oa]),r.Bb(1024,null,_o,function(t){return[t]},[So]),r.ob(112,671744,null,0,ia,[[2,fo],[6,mo],[8,null],[6,_o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Bb(2048,null,xo,null,[ia]),r.ob(114,16384,null,0,zo,[[4,xo]],null,null),(t()(),r.pb(115,0,null,null,3,"div",[["class","col-lg-7 col-md-7 col-xs-12"]],null,null,null,null,null)),(t()(),r.pb(116,0,null,null,2,"button",[["class","btn btn-default btn-block btn-lg"],["style","background: rgb(255, 0, 0); color: rgb(255, 255, 255);"],["type","submit"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" Agregar al carrito "])),(t()(),r.pb(118,0,null,null,0,"i",[["class","fa fa-shopping-cart"]],null,null,null,null,null)),(t()(),r.pb(119,0,null,null,14,"div",[["class","col-md-7 col-xs-12"]],null,null,null,null,null)),(t()(),r.pb(120,0,null,null,13,"div",[["class","center"]],null,null,null,null,null)),(t()(),r.pb(121,0,null,null,12,"div",[["class","input-group"]],null,null,null,null,null)),(t()(),r.pb(122,0,null,null,2,"span",[["class","col-md-3 input-group-btn"]],null,null,null,null,null)),(t()(),r.pb(123,0,null,null,1,"button",[["class","btn btn-danger btn-number"],["data-field","quant[2]"],["data-type","minus"],["type","button"]],null,null,null,null,null)),(t()(),r.pb(124,0,null,null,0,"span",[["class","glyphicon glyphicon-minus"]],null,null,null,null,null)),(t()(),r.pb(125,0,null,null,5,"input",[["class","col-md-4 form-control input-number"],["max","100000"],["min","1"],["name","stock"],["style","text-align: center; font-size:20px; color:red;"],["type","text"],["value","1"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.yb(t,126)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.yb(t,126).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.yb(t,126)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.yb(t,126)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.peluchu.stock=n)&&i),i},null,null)),r.ob(126,16384,null,0,So,[r.D,r.k,[2,Eo]],null,null),r.Bb(1024,null,_o,function(t){return[t]},[So]),r.ob(128,671744,null,0,ia,[[2,fo],[8,null],[8,null],[6,_o]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Bb(2048,null,xo,null,[ia]),r.ob(130,16384,null,0,zo,[[4,xo]],null,null),(t()(),r.pb(131,0,null,null,2,"span",[["class","col-md-3 input-group-btn"]],null,null,null,null,null)),(t()(),r.pb(132,0,null,null,1,"button",[["class","btn btn-success btn-number"],["data-field","quant[2]"],["data-type","plus"],["type","button"]],null,null,null,null,null)),(t()(),r.pb(133,0,null,null,0,"span",[["class","glyphicon glyphicon-plus"]],null,null,null,null,null)),(t()(),r.pb(134,0,null,null,2,"div",[["class","col-md-5"]],null,null,null,null,null)),(t()(),r.pb(135,0,null,null,1,"figure",[["class","lupa"],["style","display: none; background: rgb(238, 238, 238); width: 100%;"]],null,null,null,null,null)),(t()(),r.pb(136,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null))],function(t,e){var n=e.component;t(e,104,0,"id","disabled",n.peluchu.id_pel),t(e,109,0,""),t(e,112,0,"nombre",n.peluchu.titulo),t(e,128,0,"stock",n.peluchu.stock)},function(t,e){var n=e.component;t(e,14,0,n.peluchu.stock),t(e,17,0,n.peluchu.stock),t(e,20,0,r.rb(1,"https://ovgsoft.com/DpelucheWeb/",n.peluchu.portada,"")),t(e,25,0,r.rb(1,"https://ovgsoft.com/DpelucheWeb/",n.peluchu.portada,""),r.rb(1,"",n.peluchu.titulo,"")),t(e,27,0,r.rb(1,"https://ovgsoft.com/DpelucheWeb/",n.peluchu.portada,""),r.rb(1,"",n.peluchu.titulo,"")),t(e,57,0,n.peluchu.titulo),t(e,63,0,n.peluchu.precio),t(e,65,0,n.peluchu.descripcion),t(e,95,0,r.yb(e,99).ngClassUntouched,r.yb(e,99).ngClassTouched,r.yb(e,99).ngClassPristine,r.yb(e,99).ngClassDirty,r.yb(e,99).ngClassValid,r.yb(e,99).ngClassInvalid,r.yb(e,99).ngClassPending),t(e,101,0,r.yb(e,106).ngClassUntouched,r.yb(e,106).ngClassTouched,r.yb(e,106).ngClassPristine,r.yb(e,106).ngClassDirty,r.yb(e,106).ngClassValid,r.yb(e,106).ngClassInvalid,r.yb(e,106).ngClassPending),t(e,107,0,r.yb(e,109).required?"":null,r.yb(e,114).ngClassUntouched,r.yb(e,114).ngClassTouched,r.yb(e,114).ngClassPristine,r.yb(e,114).ngClassDirty,r.yb(e,114).ngClassValid,r.yb(e,114).ngClassInvalid,r.yb(e,114).ngClassPending),t(e,125,0,r.yb(e,130).ngClassUntouched,r.yb(e,130).ngClassTouched,r.yb(e,130).ngClassPristine,r.yb(e,130).ngClassDirty,r.yb(e,130).ngClassValid,r.yb(e,130).ngClassInvalid,r.yb(e,130).ngClassPending),t(e,136,0,r.rb(1,"https://ovgsoft.com/DpelucheWeb/",n.peluchu.portada,""))})}function hl(t){return r.Fb(0,[(t()(),r.gb(16777216,null,null,1,null,cl)),r.ob(1,16384,null,0,f.j,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,1,0,e.component.peluchu)},null)}function fl(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,1,"app-item",[],null,null,null,hl,sl)),r.ob(1,114688,null,0,ul,[mr,G],null,null)],function(t,e){t(e,1,0)},null)}var pl=r.lb("app-item",ul,fl,{},{},[]),dl=function(){function t(t,e){this.route=t,this.productoService=e}return t.prototype.ngOnInit=function(){var t=this;this.route.params.subscribe(function(e){console.log(e.termino),t.productoService.buscarProducto(e.termino)})},t}(),ml=r.nb({encapsulation:0,styles:[[""]],data:{}});function gl(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,10,"a",[["class","animated fadeIn rk-item ae-masonry__item"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.yb(t,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r.ob(1,671744,null,0,Ci,[wi,mr,f.g],{routerLink:[0,"routerLink"]},null),r.zb(2,2),(t()(),r.pb(3,0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null)),(t()(),r.pb(4,0,null,null,6,"div",[["class","item-meta"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.yb(t,5).onClick()&&i),i},null,null)),r.ob(5,16384,null,0,_i,[wi,mr,[8,null],r.D,r.k],{routerLink:[0,"routerLink"]},null),r.zb(6,2),(t()(),r.pb(7,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(8,null,["",""])),(t()(),r.pb(9,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(10,null,["",""]))],function(t,e){var n=t(e,2,0,"/item",e.context.$implicit.id_pel);t(e,1,0,n);var r=t(e,6,0,"/item",e.context.$implicit.id_pel);t(e,5,0,r)},function(t,e){t(e,0,0,r.yb(e,1).target,r.yb(e,1).href),t(e,3,0,r.rb(1,"https://ovgsoft.com/DpelucheWeb/",e.context.$implicit.portada,".jpg")),t(e,8,0,e.context.$implicit.titulo),t(e,10,0,e.context.$implicit.descripcion)})}function yl(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,2,"div",[["class","ae-masonry ae-masonry-md-2 ae-masonry-xl-4"]],null,null,null,null,null)),(t()(),r.gb(16777216,null,null,1,null,gl)),r.ob(2,278528,null,0,f.i,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.productoService.productosFiltrado)},null)}function vl(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,1,"app-search",[],null,null,null,yl,ml)),r.ob(1,114688,null,0,dl,[mr,G],null,null)],function(t,e){t(e,1,0)},null)}var bl=r.lb("app-search",dl,vl,{},{},[]),wl=function(){function t(t,e,n){this._servicio=t,this.auth=e,this.router=n}return t.prototype.ngOnInit=function(){},t.prototype.buscarProducto=function(t){t.length<1||this.router.navigate(["/search",t])},t.prototype.salir=function(){this.auth.logout(),this.router.navigateByUrl("/login")},t}(),_l=r.nb({encapsulation:0,styles:[[".submenu[_ngcontent-%COMP%]{position:relative}.submenu[_ngcontent-%COMP%]   #carrito[_ngcontent-%COMP%]{display:none}.submenu[_ngcontent-%COMP%]:hover   #carrito[_ngcontent-%COMP%]{display:block;position:absolute;right:0;top:100%;z-index:1;background-color:#fff;padding:20px;min-height:400px;min-width:300px}.vacio[_ngcontent-%COMP%]{padding:10px;background-color:#dc143c;text-align:center;border-radius:10px;color:#fff}.contenido-hero[_ngcontent-%COMP%]{margin-top:80px;color:#fff}.contenido-hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{position:relative;margin-bottom:0}.contenido-hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   #buscador[_ngcontent-%COMP%]{height:50px;margin-bottom:0}.contenido-hero[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit-buscador[_ngcontent-%COMP%]{position:absolute;right:0;top:0;height:100%;padding:0;display:block;text-indent:-9999px;width:50px;background-image:url(logo.5f5672c26080808f31ad.png);background-position:right center;background-repeat:no-repeat;border:none}.barra[_ngcontent-%COMP%]{padding:20px 0;background:#741d51;background:linear-gradient(to right,#741d51 0,#e44e52 100%);filter:progid:DXImageTransform.Microsoft.gradient( startColorstr='#741d51', endColorstr='#e44e52', GradientType=1 )}.barra[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#fff}.icono[_ngcontent-%COMP%]{background-repeat:no-repeat;background-position:left center;padding-left:60px;background-size:30px;margin-bottom:40px;text-align:center}@media (min-width:750px){.icono[_ngcontent-%COMP%]{margin-bottom:0}}.icono1[_ngcontent-%COMP%]{background-image:url(favicon.155f12f56b02a279a32e.png)}.icono2[_ngcontent-%COMP%], .icono3[_ngcontent-%COMP%]{background-image:url(logo.5f5672c26080808f31ad.png)}#lista-cursos[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin-bottom:20px}.agregar-carrito[_ngcontent-%COMP%]{margin:10px 0}.card[_ngcontent-%COMP%]{text-align:center;border:1px solid #e1e1e1;background:#fff}@media (min-width:550px){.card[_ngcontent-%COMP%]{text-align:left}}.info-card[_ngcontent-%COMP%]{padding:10px 20px}.card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .info-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:5px}.info-card[_ngcontent-%COMP%]   .precio[_ngcontent-%COMP%]{text-decoration:line-through;font-size:18px;margin-top:10px}.info-card[_ngcontent-%COMP%]   .precio[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:22px}"]],data:{}});function Cl(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,121,"div",[["class","page-header-container"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,6,"figure",[["class","content_"]],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,5,"div",[["class","diV"]],null,null,null,null,null)),(t()(),r.pb(3,0,null,null,4,"span",[["class","mundo icon-logo"]],null,null,null,null,null)),(t()(),r.pb(4,0,null,null,3,"small",[["style","color:black; text-transform: capitalize; font-size: 5vh;"]],null,null,null,null,null)),(t()(),r.pb(5,0,null,null,1,"strong",[["style","color:red; text-transform: uppercase;"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,["D'"])),(t()(),r.Eb(-1,null,[" PELUCHE "])),(t()(),r.pb(8,0,null,null,35,"div",[["class","quick-access hidden-md hidden-lg"]],null,null,null,null,null)),(t()(),r.pb(9,0,null,null,29,"ul",[["class","top-links"]],null,null,null,null,null)),(t()(),r.pb(10,0,null,null,16,"li",[["class","link-search"]],null,null,null,null,null)),(t()(),r.pb(11,0,null,null,3,"a",[["href","javascript:void(0);"]],null,null,null,null,null)),(t()(),r.pb(12,0,null,null,0,"span",[["class","icon-magnifying-glass"]],null,null,null,null,null)),(t()(),r.pb(13,0,null,null,1,"span",[["class","link-label"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Buscar"])),(t()(),r.pb(15,0,null,null,11,"form",[["class","input-group search-bar cntr"],["id","search_mini_form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==r.yb(t,17).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.yb(t,17).onReset()&&i),i},null,null)),r.ob(16,16384,null,0,ua,[],null,null),r.ob(17,4210688,null,0,$o,[[8,null],[8,null]],null,null),r.Bb(2048,null,fo,null,[$o]),r.ob(19,16384,null,0,Ho,[[4,fo]],null,null),(t()(),r.pb(20,0,null,null,5,"div",[["class","input-box cntr-innr"]],null,null,null,null,null)),(t()(),r.pb(21,0,null,null,2,"label",[["for","urku-search"]],null,null,null,null,null)),(t()(),r.pb(22,0,null,null,1,":svg:svg",[],null,null,null,null,null)),(t()(),r.pb(23,0,null,null,0,":svg:use",[[":xlink:href","assets/img/symbols.svg#icon-search"]],null,null,null,null,null)),(t()(),r.pb(24,0,[["txtBuscar",1]],null,0,"input",[["class","rk-search-field"],["id","urku-search"],["placeholder","Buscar..."]],null,[[null,"keyup.enter"]],function(t,e,n){var i=!0;return"keyup.enter"===e&&(i=!1!==t.component.buscarProducto(r.yb(t,24).value)&&i),i},null,null)),(t()(),r.pb(25,0,null,null,0,"span",[["id","loader"]],null,null,null,null,null)),(t()(),r.pb(26,0,null,null,0,"div",[["class","search-autocomplete"],["id","search_autocomplete"]],null,null,null,null,null)),(t()(),r.pb(27,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),r.pb(28,0,null,null,2,"a",[["data-toggle","modal"],["href","#modalRegistro"]],null,null,null,null,null)),(t()(),r.pb(29,0,null,null,0,"span",[["class","icon-envelope"]],null,null,null,null,null)),(t()(),r.pb(30,0,null,null,0,"span",[["class","icon-furrynetwork novisible"],["id","modalColec"]],null,null,null,null,null)),(t()(),r.pb(31,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),r.pb(32,0,null,null,2,"a",[["href","#"]],null,null,null,null,null)),(t()(),r.pb(33,0,null,null,0,"span",[["class","icon-grid1"],["id","modalCat"]],null,null,null,null,null)),(t()(),r.pb(34,0,null,null,0,"span",[["class","icon-furrynetwork novisible"],["id","modalCaa"]],null,null,null,null,null)),(t()(),r.pb(35,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),r.pb(36,0,null,null,2,"a",[["data-toggle","modal"],["href","#modalRegistro"]],null,null,null,null,null)),(t()(),r.pb(37,0,null,null,0,"span",[["class","icon-basket1"]],null,null,null,null,null)),(t()(),r.pb(38,0,null,null,0,"span",[["class","icon-furrynetwork novisible"],["id","modalCop"]],null,null,null,null,null)),(t()(),r.pb(39,0,null,null,4,"div",[["class","skip-links"]],null,null,null,null,null)),(t()(),r.pb(40,0,null,null,3,"a",[["class","skip-link skip-nav iconos_"],["href","#header-nav"]],null,null,null,null,null)),(t()(),r.pb(41,0,null,null,0,"span",[["class","icon"]],null,null,null,null,null)),(t()(),r.pb(42,0,null,null,1,"span",[["class","link-label"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Menu"])),(t()(),r.pb(44,0,null,null,77,"div",[["class","skip-content"],["id","header-nav"]],null,null,null,null,null)),(t()(),r.pb(45,0,null,null,76,"nav",[["id","nav"]],null,null,null,null,null)),(t()(),r.pb(46,0,null,null,4,"ol",[["class","nav-primary AllCategoryNav"],["routerLink","home"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.yb(t,47).onClick()&&i),i},null,null)),r.ob(47,16384,null,0,_i,[wi,mr,[8,null],r.D,r.k],{routerLink:[0,"routerLink"]},null),(t()(),r.pb(48,0,null,null,2,"li",[["class","level0 nav-headwear"],["outerLinkActive","active"]],null,null,null,null,null)),(t()(),r.pb(49,0,null,null,1,"a",[["class","level0"],["href","javascript:;"],["style","padding-left: 9.27778px; padding-right: 9.27778px;"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Inicio:"])),(t()(),r.pb(51,0,null,null,4,"ol",[["class","nav-primary CategoriesNav"]],null,null,null,null,null)),(t()(),r.pb(52,0,null,null,3,"li",[["class","level0 nav-collections parent"],["outerLinkActive","active"]],null,null,null,null,null)),(t()(),r.pb(53,0,null,null,2,"a",[["class","level0 has-children"],["routerLink","categorias"],["style","padding-left: 9.27778px; padding-right: 9.27778px;"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.yb(t,54).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r.ob(54,671744,null,0,Ci,[wi,mr,f.g],{routerLink:[0,"routerLink"]},null),(t()(),r.Eb(-1,null,["CATEGORIAS"])),(t()(),r.pb(56,0,null,null,7,"ol",[["class","nav-primary cms-nav"]],null,null,null,null,null)),(t()(),r.pb(57,0,null,null,6,"li",[["class","level0 nav-collections parent"],["routerLinkActive","active"]],null,null,null,null,null)),r.ob(58,1720320,null,2,Si,[wi,r.k,r.D,r.h],{routerLinkActive:[0,"routerLinkActive"]},null),r.Cb(603979776,1,{links:1}),r.Cb(603979776,2,{linksWithHrefs:1}),(t()(),r.pb(61,0,null,null,2,"a",[["class","level0 has-children"],["routerLink","catalogos"],["style","padding-left: 9.27778px; padding-right: 9.27778px;"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.yb(t,62).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r.ob(62,671744,[[2,4]],0,Ci,[wi,mr,f.g],{routerLink:[0,"routerLink"]},null),(t()(),r.Eb(-1,null,["CATALOGOS"])),(t()(),r.pb(64,0,null,null,7,"ol",[["class","nav-primary cms-nav"]],null,null,null,null,null)),(t()(),r.pb(65,0,null,null,6,"li",[["class","level0 nav-collections parent"],["routerLinkActive","active"]],null,null,null,null,null)),r.ob(66,1720320,null,2,Si,[wi,r.k,r.D,r.h],{routerLinkActive:[0,"routerLinkActive"]},null),r.Cb(603979776,3,{links:1}),r.Cb(603979776,4,{linksWithHrefs:1}),(t()(),r.pb(69,0,null,null,2,"a",[["class","level0 has-children"],["routerLink","about"],["style","padding-left: 9.27778px; padding-right: 9.27778px;"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.yb(t,70).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r.ob(70,671744,[[4,4]],0,Ci,[wi,mr,f.g],{routerLink:[0,"routerLink"]},null),(t()(),r.Eb(-1,null,["EMPRESA"])),(t()(),r.pb(72,0,null,null,4,"ol",[["class","nav-primary cms-nav"]],null,null,null,null,null)),(t()(),r.pb(73,0,null,null,3,"li",[["class","level0 nav-collections parent"],["outerLinkActive","active"]],null,null,null,null,null)),(t()(),r.pb(74,0,null,null,2,"a",[["class","level0 has-children"],["routerLink","politicas"],["style","padding-left: 9.27778px; padding-right: 9.27778px;"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.yb(t,75).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r.ob(75,671744,null,0,Ci,[wi,mr,f.g],{routerLink:[0,"routerLink"]},null),(t()(),r.Eb(-1,null,["POLITICAS DE ENVIO"])),(t()(),r.pb(77,0,null,null,4,"ol",[["class","nav-primary cms-nav"]],null,null,null,null,null)),(t()(),r.pb(78,0,null,null,3,"li",[["class","level0 nav-collections parent"],["outerLinkActive","active"]],null,null,null,null,null)),(t()(),r.pb(79,0,null,null,2,"a",[["class","level0 has-children"],["routerLink","productos"],["style","padding-left: 9.27778px; padding-right: 9.27778px;"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.yb(t,80).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r.ob(80,671744,null,0,Ci,[wi,mr,f.g],{routerLink:[0,"routerLink"]},null),(t()(),r.Eb(-1,null,["PRODUCTOS"])),(t()(),r.pb(82,0,null,null,4,"ol",[["class","nav-primary cms-nav"]],null,null,null,null,null)),(t()(),r.pb(83,0,null,null,3,"li",[["class","level0 nav-collections parent"],["outerLinkActive","active"]],null,null,null,null,null)),(t()(),r.pb(84,0,null,null,2,"a",[["class","level0 has-children"],["routerLink","blog"],["style","padding-left: 9.27778px; padding-right: 9.27778px;"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.yb(t,85).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r.ob(85,671744,null,0,Ci,[wi,mr,f.g],{routerLink:[0,"routerLink"]},null),(t()(),r.Eb(-1,null,["BLOG"])),(t()(),r.pb(87,0,null,null,4,"ol",[["class","nav-primary cms-nav"]],null,null,null,null,null)),(t()(),r.pb(88,0,null,null,3,"li",[["class","level0 nav-collections parent"],["outerLinkActive","active"]],null,null,null,null,null)),(t()(),r.pb(89,0,null,null,2,"a",[["class","level0 has-children"],["routerLink","videos"],["style","padding-left: 9.27778px; padding-right: 9.27778px;"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.yb(t,90).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r.ob(90,671744,null,0,Ci,[wi,mr,f.g],{routerLink:[0,"routerLink"]},null),(t()(),r.Eb(-1,null,["videos"])),(t()(),r.pb(92,0,null,null,4,"ol",[["class","nav-primary cms-nav"]],null,null,null,null,null)),(t()(),r.pb(93,0,null,null,3,"li",[["class","level0 nav-collections parent"]],null,null,null,null,null)),(t()(),r.pb(94,0,null,null,2,"a",[["class","level0 has-children"],["routerLink","login"],["style","padding-left: 9.27778px; padding-right: 9.27778px;"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.yb(t,95).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r.ob(95,671744,null,0,Ci,[wi,mr,f.g],{routerLink:[0,"routerLink"]},null),(t()(),r.Eb(-1,null,["Chat"])),(t()(),r.pb(97,0,null,null,4,"ol",[["class","nav-primary cms-nav"]],null,null,null,null,null)),(t()(),r.pb(98,0,null,null,3,"li",[["class","level0 nav-collections parent"],["outerLinkActive","login"]],null,null,null,null,null)),(t()(),r.pb(99,0,null,null,2,"a",[["class","level0 has-children"],["routerLink","login"],["style","padding-left: 9.27778px; padding-right: 9.27778px;"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.yb(t,100).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r.ob(100,671744,null,0,Ci,[wi,mr,f.g],{routerLink:[0,"routerLink"]},null),(t()(),r.Eb(-1,null,["Quiero ser mayorista"])),(t()(),r.pb(102,0,null,null,3,"ol",[["class","nav-primary cms-nav"]],null,null,null,null,null)),(t()(),r.pb(103,0,null,null,2,"li",[["class","level0 nav-collections parent"],["outerLinkActive","login"]],null,null,null,null,null)),(t()(),r.pb(104,0,null,null,1,"button",[["class","btn btn-outline-danger"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.salir()&&r),r},null,null)),(t()(),r.Eb(-1,null,[" Salir "])),(t()(),r.pb(106,0,null,null,14,"ol",[["class","nav-primary cms-nav"]],null,null,null,null,null)),(t()(),r.pb(107,0,null,null,13,"li",[["class","submenu level0 nav-collections parent"]],null,null,null,null,null)),(t()(),r.pb(108,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),r.pb(109,0,null,null,0,"i",[["class","fa fa-shopping-bag"],["id","img-carrito"],["style","font-size: 20px;"]],null,null,null,null,null)),(t()(),r.pb(110,0,null,null,10,"div",[["id","carrito"]],null,null,null,null,null)),(t()(),r.pb(111,0,null,null,7,"table",[["class","u-full-width"]],null,null,null,null,null)),(t()(),r.pb(112,0,null,null,5,"thead",[],null,null,null,null,null)),(t()(),r.pb(113,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),r.pb(114,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Imagen"])),(t()(),r.pb(116,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Nombre"])),(t()(),r.pb(118,0,null,null,0,"tbody",[["id","lista"]],null,null,null,null,null)),(t()(),r.pb(119,0,null,null,1,"a",[["class","button u-full-width"],["href","#"],["id","vaciar-carrito"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Vaciar Carrito"])),(t()(),r.pb(121,0,null,null,0,"div",[["class","navPaddingTotal"]],null,null,null,null,null))],function(t,e){t(e,47,0,"home"),t(e,54,0,"categorias"),t(e,58,0,"active"),t(e,62,0,"catalogos"),t(e,66,0,"active"),t(e,70,0,"about"),t(e,75,0,"politicas"),t(e,80,0,"productos"),t(e,85,0,"blog"),t(e,90,0,"videos"),t(e,95,0,"login"),t(e,100,0,"login")},function(t,e){t(e,15,0,r.yb(e,19).ngClassUntouched,r.yb(e,19).ngClassTouched,r.yb(e,19).ngClassPristine,r.yb(e,19).ngClassDirty,r.yb(e,19).ngClassValid,r.yb(e,19).ngClassInvalid,r.yb(e,19).ngClassPending),t(e,53,0,r.yb(e,54).target,r.yb(e,54).href),t(e,61,0,r.yb(e,62).target,r.yb(e,62).href),t(e,69,0,r.yb(e,70).target,r.yb(e,70).href),t(e,74,0,r.yb(e,75).target,r.yb(e,75).href),t(e,79,0,r.yb(e,80).target,r.yb(e,80).href),t(e,84,0,r.yb(e,85).target,r.yb(e,85).href),t(e,89,0,r.yb(e,90).target,r.yb(e,90).href),t(e,94,0,r.yb(e,95).target,r.yb(e,95).href),t(e,99,0,r.yb(e,100).target,r.yb(e,100).href)})}var El=function(){function t(t){this._servicio=t,this.anio=(new Date).getFullYear()}return t.prototype.ngOnInit=function(){},t}(),Sl=r.nb({encapsulation:0,styles:[[""]],data:{}});function Tl(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,59,"div",[["class","footer-top"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,58,"div",[["class","container"]],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,57,"div",[["class","row"]],null,null,null,null,null)),(t()(),r.pb(3,0,null,null,7,"div",[["class","col-sm-2"]],null,null,null,null,null)),(t()(),r.pb(4,0,null,null,6,"div",[["class","companyinfo"]],null,null,null,null,null)),(t()(),r.pb(5,0,null,null,3,"h2",[],null,null,null,null,null)),(t()(),r.pb(6,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["D'"])),(t()(),r.Eb(-1,null,["PELUCHE"])),(t()(),r.pb(9,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["."])),(t()(),r.pb(11,0,null,null,44,"div",[["class","col-sm-7"]],null,null,null,null,null)),(t()(),r.pb(12,0,null,null,10,"div",[["class","col-sm-3"]],null,null,null,null,null)),(t()(),r.pb(13,0,null,null,9,"div",[["class","video-gallery text-center"]],null,null,null,null,null)),(t()(),r.pb(14,0,null,null,4,"a",[["href","#"]],null,null,null,null,null)),(t()(),r.pb(15,0,null,null,1,"div",[["class","iframe-img"]],null,null,null,null,null)),(t()(),r.pb(16,0,null,null,0,"img",[["alt",""],["src","./assets/img/peluchesicono.png"]],null,null,null,null,null)),(t()(),r.pb(17,0,null,null,1,"div",[["class","overlay-icon"]],null,null,null,null,null)),(t()(),r.pb(18,0,null,null,0,"i",[["class","fa fa-play-circle-o"]],null,null,null,null,null)),(t()(),r.pb(19,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Peluches"])),(t()(),r.pb(21,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Institucionales"])),(t()(),r.pb(23,0,null,null,10,"div",[["class","col-sm-3"]],null,null,null,null,null)),(t()(),r.pb(24,0,null,null,9,"div",[["class","video-gallery text-center"]],null,null,null,null,null)),(t()(),r.pb(25,0,null,null,4,"a",[["href","#"]],null,null,null,null,null)),(t()(),r.pb(26,0,null,null,1,"div",[["class","iframe-img"]],null,null,null,null,null)),(t()(),r.pb(27,0,null,null,0,"img",[["alt",""],["src","assets/img/ososicono.png"]],null,null,null,null,null)),(t()(),r.pb(28,0,null,null,1,"div",[["class","overlay-icon"]],null,null,null,null,null)),(t()(),r.pb(29,0,null,null,0,"i",[["class","fa fa-play-circle-o"]],null,null,null,null,null)),(t()(),r.pb(30,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Ofertas"])),(t()(),r.pb(32,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Osos"])),(t()(),r.pb(34,0,null,null,10,"div",[["class","col-sm-3"]],null,null,null,null,null)),(t()(),r.pb(35,0,null,null,9,"div",[["class","video-gallery text-center"]],null,null,null,null,null)),(t()(),r.pb(36,0,null,null,4,"a",[["href","#"]],null,null,null,null,null)),(t()(),r.pb(37,0,null,null,1,"div",[["class","iframe-img"]],null,null,null,null,null)),(t()(),r.pb(38,0,null,null,0,"img",[["alt",""],["src","assets/img/perrosicono.png"]],null,null,null,null,null)),(t()(),r.pb(39,0,null,null,1,"div",[["class","overlay-icon"]],null,null,null,null,null)),(t()(),r.pb(40,0,null,null,0,"i",[["class","fa fa-play-circle-o"]],null,null,null,null,null)),(t()(),r.pb(41,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Ofertas"])),(t()(),r.pb(43,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Perros"])),(t()(),r.pb(45,0,null,null,10,"div",[["class","col-sm-3"]],null,null,null,null,null)),(t()(),r.pb(46,0,null,null,9,"div",[["class","video-gallery text-center"]],null,null,null,null,null)),(t()(),r.pb(47,0,null,null,4,"a",[["href","#"]],null,null,null,null,null)),(t()(),r.pb(48,0,null,null,1,"div",[["class","iframe-img"]],null,null,null,null,null)),(t()(),r.pb(49,0,null,null,0,"img",[["alt",""],["src","assets/img/coleccionesicono.png"]],null,null,null,null,null)),(t()(),r.pb(50,0,null,null,1,"div",[["class","overlay-icon"]],null,null,null,null,null)),(t()(),r.pb(51,0,null,null,0,"i",[["class","fa fa-play-circle-o"]],null,null,null,null,null)),(t()(),r.pb(52,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Promociones"])),(t()(),r.pb(54,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["24 MAR 2018"])),(t()(),r.pb(56,0,null,null,3,"div",[["class","col-sm-3"]],null,null,null,null,null)),(t()(),r.pb(57,0,null,null,2,"div",[["class","address"]],null,null,null,null,null)),(t()(),r.pb(58,0,null,null,0,"img",[["alt",""],["src","assets/img/plantilla/map.png"]],null,null,null,null,null)),(t()(),r.pb(59,0,null,null,0,"p",[],null,null,null,null,null)),(t()(),r.pb(60,0,null,null,72,"div",[["class","footer-widget"]],null,null,null,null,null)),(t()(),r.pb(61,0,null,null,71,"div",[["class","container"]],null,null,null,null,null)),(t()(),r.pb(62,0,null,null,70,"div",[["class","row"]],null,null,null,null,null)),(t()(),r.pb(63,0,null,null,13,"div",[["class","col-sm-2"]],null,null,null,null,null)),(t()(),r.pb(64,0,null,null,12,"div",[["class","single-widget"]],null,null,null,null,null)),(t()(),r.pb(65,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Servicios"])),(t()(),r.pb(67,0,null,null,9,"ul",[["class","nav nav-pills nav-stacked"]],null,null,null,null,null)),(t()(),r.pb(68,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),r.pb(69,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Ayuda en l\xednea"])),(t()(),r.pb(71,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),r.pb(72,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Contacto"])),(t()(),r.pb(74,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),r.pb(75,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Registrate"])),(t()(),r.pb(77,0,null,null,13,"div",[["class","col-sm-2"]],null,null,null,null,null)),(t()(),r.pb(78,0,null,null,12,"div",[["class","single-widget"]],null,null,null,null,null)),(t()(),r.pb(79,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Compras"])),(t()(),r.pb(81,0,null,null,9,"ul",[["class","nav nav-pills nav-stacked"]],null,null,null,null,null)),(t()(),r.pb(82,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),r.pb(83,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Carrito de compras"])),(t()(),r.pb(85,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),r.pb(86,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Lista de deseo"])),(t()(),r.pb(88,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),r.pb(89,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Estado de mi orden"])),(t()(),r.pb(91,0,null,null,13,"div",[["class","col-sm-2"]],null,null,null,null,null)),(t()(),r.pb(92,0,null,null,12,"div",[["class","single-widget"]],null,null,null,null,null)),(t()(),r.pb(93,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Politicas"])),(t()(),r.pb(95,0,null,null,9,"ul",[["class","nav nav-pills nav-stacked"]],null,null,null,null,null)),(t()(),r.pb(96,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),r.pb(97,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Condiciones de uso"])),(t()(),r.pb(99,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),r.pb(100,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Pol\xedtica de privacidad"])),(t()(),r.pb(102,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),r.pb(103,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Pol\xedtica de reembolso"])),(t()(),r.pb(105,0,null,null,13,"div",[["class","col-sm-2"]],null,null,null,null,null)),(t()(),r.pb(106,0,null,null,12,"div",[["class","single-widget"]],null,null,null,null,null)),(t()(),r.pb(107,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["D'PELUCHE"])),(t()(),r.pb(109,0,null,null,9,"ul",[["class","nav nav-pills nav-stacked"]],null,null,null,null,null)),(t()(),r.pb(110,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),r.pb(111,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Informaci\xf3n de la empresa"])),(t()(),r.pb(113,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),r.pb(114,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Ubicaci\xf3n de la tienda"])),(t()(),r.pb(116,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),r.pb(117,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Programa de Afiliaci\xf3n"])),(t()(),r.pb(119,0,null,null,13,"div",[["class","col-sm-3 col-sm-offset-1"]],null,null,null,null,null)),(t()(),r.pb(120,0,null,null,12,"div",[["class","single-widget"]],null,null,null,null,null)),(t()(),r.pb(121,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Suscripci\xf3n"])),(t()(),r.pb(123,0,null,null,9,"form",[["action","#"],["class","searchform"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==r.yb(t,125).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.yb(t,125).onReset()&&i),i},null,null)),r.ob(124,16384,null,0,ua,[],null,null),r.ob(125,4210688,null,0,$o,[[8,null],[8,null]],null,null),r.Bb(2048,null,fo,null,[$o]),r.ob(127,16384,null,0,Ho,[[4,fo]],null,null),(t()(),r.pb(128,0,null,null,0,"input",[["placeholder","Ingrese su correo"],["type","text"]],null,null,null,null,null)),(t()(),r.pb(129,0,null,null,1,"button",[["class","btn btn-default"],["type","submit"]],null,null,null,null,null)),(t()(),r.pb(130,0,null,null,0,"i",[["class","fa fa-arrow-circle-o-right"]],null,null,null,null,null)),(t()(),r.pb(131,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Obtenga las actualizaciones m\xe1s recientes de nuestro sitio y productos en promoci\xf3n. "])),(t()(),r.pb(133,0,null,null,8,"div",[["class","footer-bottom"]],null,null,null,null,null)),(t()(),r.pb(134,0,null,null,7,"div",[["class","container"]],null,null,null,null,null)),(t()(),r.pb(135,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(t()(),r.pb(136,0,null,null,1,"p",[["class","pull-left"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Copyright \xa9 2019 . Todos los derechos reservados."])),(t()(),r.pb(138,0,null,null,3,"p",[["class","pull-right"]],null,null,null,null,null)),(t()(),r.pb(139,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),r.pb(140,0,null,null,1,"a",[["href","https://duckaliveapps.com"],["target","_blank"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Duck Alive Apps"]))],null,function(t,e){t(e,123,0,r.yb(e,127).ngClassUntouched,r.yb(e,127).ngClassTouched,r.yb(e,127).ngClassPristine,r.yb(e,127).ngClassDirty,r.yb(e,127).ngClassValid,r.yb(e,127).ngClassInvalid,r.yb(e,127).ngClassPending)})}var Il=r.nb({encapsulation:0,styles:[[""]],data:{}});function kl(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,9,"div",[],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Cargando"])),(t()(),r.pb(3,0,null,null,4,"div",[["class","loader loader--style1"],["title","0"]],null,null,null,null,null)),(t()(),r.pb(4,0,null,null,3,":svg:svg",[[":xml:space","preserve"],[":xmlns:xlink","http://www.w3.org/1999/xlink"],["enable-background","new 0 0 40 40"],["height","40px"],["id","loader-1"],["version","1.1"],["viewBox","0 0 40 40"],["width","40px"],["x","0px"],["xmlns","http://www.w3.org/2000/svg"],["y","0px"]],null,null,null,null,null)),(t()(),r.pb(5,0,null,null,0,":svg:path",[["d","M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946\n                s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634\n                c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z"],["fill","#000"],["opacity","0.2"]],null,null,null,null,null)),(t()(),r.pb(6,0,null,null,1,":svg:path",[["d","M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0\n                  C22.32,8.481,24.301,9.057,26.013,10.047z"],["fill","#000"]],null,null,null,null,null)),(t()(),r.pb(7,0,null,null,0,":svg:animateTransform",[["attributeName","transform"],["attributeType","xml"],["dur","0.5s"],["from","0 20 20"],["repeatCount","indefinite"],["to","360 20 20"],["type","rotate"]],null,null,null,null,null)),(t()(),r.pb(8,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),r.Eb(-1,null,["Espere por favor"]))],null,null)}function Ol(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,2,"header",[["class","page-header"],["id","header"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"app-header",[],null,null,null,Cl,_l)),r.ob(2,114688,null,0,wl,[K,fa,wi],null,null),(t()(),r.pb(3,0,null,null,0,"hr",[["class","separa"]],null,null,null,null,null)),(t()(),r.pb(4,0,null,null,189,"main",[["class","container-fluid"]],null,null,null,null,null)),(t()(),r.pb(5,0,null,null,184,"div",[["class","col-lg-2 col-md-2 novisible"],["id","manCategoria"],["style","padding: 0 20px 0 0px"]],null,null,null,null,null)),(t()(),r.pb(6,0,null,null,183,"div",[["class","column-inner"]],null,null,null,null,null)),(t()(),r.pb(7,0,null,null,182,"div",[["class","wpb_wrapper"]],null,null,null,null,null)),(t()(),r.pb(8,0,null,null,181,"div",[["id","page-content-custom-menu"]],null,null,null,null,null)),(t()(),r.pb(9,0,null,null,180,"div",[["class","shop-by-collections always-show"]],null,null,null,null,null)),(t()(),r.pb(10,0,null,null,179,"div",[["class","sidebar-collections"]],null,null,null,null,null)),(t()(),r.pb(11,0,null,null,2,"div",[["class","sdcollections-title sb-title"]],null,null,null,null,null)),(t()(),r.pb(12,0,null,null,1,"i",[["class","fa fa-list"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" categorias"])),(t()(),r.pb(14,0,null,null,175,"div",[["class","sdcollections-content"]],null,null,null,null,null)),(t()(),r.pb(15,0,null,null,174,"div",[["class","menu-categorias-container"]],null,null,null,null,null)),(t()(),r.pb(16,0,null,null,173,"ul",[["class","menu-categorias sdcollections-list"]],null,null,null,null,null)),(t()(),r.pb(17,0,null,null,9,"li",[["class","menu-item menu-item-type-taxonomy menu-item-object-product_cat menu-item-has-children sdc-element vetical-menu1 site-nav--has-dropdown"]],null,null,null,null,null)),(t()(),r.pb(18,0,null,null,8,"a",[["class","site-nav__link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.yb(t,19).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r.ob(19,671744,null,0,Ci,[wi,mr,f.g],{routerLink:[0,"routerLink"]},null),r.zb(20,2),(t()(),r.pb(21,0,null,null,0,"div",[["style","clear: both;"]],null,null,null,null,null)),(t()(),r.pb(22,0,null,null,4,"div",[["class","element-main"]],null,null,null,null,null)),(t()(),r.pb(23,0,null,null,3,"div",[["class","collection-area have-icons blank-featured-img"]],null,null,null,null,null)),(t()(),r.pb(24,0,null,null,2,"div",[["class","collection-name"]],null,null,null,null,null)),(t()(),r.pb(25,0,null,null,0,"img",[["alt","https://ovgsoft.com/api/ICONOS/oveja.svg"],["src","https://ovgsoft.com/api/ICONOS/oveja.svg"],["style","width: 30px;"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" Oveja "])),(t()(),r.pb(27,0,null,null,10,"li",[["class","menu-item menu-item-type-taxonomy menu-item-object-product_cat menu-item-has-children sdc-element vetical-menu1 site-nav--has-dropdown"],["style","width: 100%"]],null,null,null,null,null)),(t()(),r.pb(28,0,null,null,9,"a",[["class","site-nav__link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.yb(t,29).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r.ob(29,671744,null,0,Ci,[wi,mr,f.g],{routerLink:[0,"routerLink"]},null),r.zb(30,2),(t()(),r.pb(31,0,null,null,0,"img",[["alt",""],["class","blank-featured-img"],["src","#"]],null,null,null,null,null)),(t()(),r.pb(32,0,null,null,0,"div",[["style","clear: both;"]],null,null,null,null,null)),(t()(),r.pb(33,0,null,null,4,"div",[["class","element-main"]],null,null,null,null,null)),(t()(),r.pb(34,0,null,null,3,"div",[["class","collection-area have-icons blank-featured-img"]],null,null,null,null,null)),(t()(),r.pb(35,0,null,null,2,"div",[["class","collection-name"]],null,null,null,null,null)),(t()(),r.pb(36,0,null,null,0,"img",[["alt","https://ovgsoft.com/api/ICONOS/caballo.svg"],["src","https://ovgsoft.com/api/ICONOS/caballo.svg"],["style","width: 30px;"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" Caballo "])),(t()(),r.pb(38,0,null,null,10,"li",[["class","menu-item menu-item-type-taxonomy menu-item-object-product_cat menu-item-has-children sdc-element vetical-menu1 site-nav--has-dropdown"]],null,null,null,null,null)),(t()(),r.pb(39,0,null,null,9,"a",[["class","site-nav__link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.yb(t,40).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r.ob(40,671744,null,0,Ci,[wi,mr,f.g],{routerLink:[0,"routerLink"]},null),r.zb(41,2),(t()(),r.pb(42,0,null,null,0,"img",[["alt",""],["class","blank-featured-img"],["src","#"]],null,null,null,null,null)),(t()(),r.pb(43,0,null,null,0,"div",[["style","clear: both;"]],null,null,null,null,null)),(t()(),r.pb(44,0,null,null,4,"div",[["class","element-main"]],null,null,null,null,null)),(t()(),r.pb(45,0,null,null,3,"div",[["class","collection-area have-icons blank-featured-img"]],null,null,null,null,null)),(t()(),r.pb(46,0,null,null,2,"div",[["class","collection-name"]],null,null,null,null,null)),(t()(),r.pb(47,0,null,null,0,"img",[["alt","https://ovgsoft.com/api/ICONOS/gorila.svg"],["src","https://ovgsoft.com/api/ICONOS/gorila.svg"],["style","width: 30px;"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" Changos "])),(t()(),r.pb(49,0,null,null,10,"li",[["class","menu-item menu-item-type-taxonomy menu-item-object-product_cat menu-item-has-children sdc-element vetical-menu1 site-nav--has-dropdown"]],null,null,null,null,null)),(t()(),r.pb(50,0,null,null,9,"a",[["class","site-nav__link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.yb(t,51).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r.ob(51,671744,null,0,Ci,[wi,mr,f.g],{routerLink:[0,"routerLink"]},null),r.zb(52,2),(t()(),r.pb(53,0,null,null,0,"img",[["alt",""],["class","blank-featured-img"],["src","#"]],null,null,null,null,null)),(t()(),r.pb(54,0,null,null,0,"div",[["style","clear: both;"]],null,null,null,null,null)),(t()(),r.pb(55,0,null,null,4,"div",[["class","element-main"]],null,null,null,null,null)),(t()(),r.pb(56,0,null,null,3,"div",[["class","collection-area have-icons blank-featured-img"]],null,null,null,null,null)),(t()(),r.pb(57,0,null,null,2,"div",[["class","collection-name"]],null,null,null,null,null)),(t()(),r.pb(58,0,null,null,0,"img",[["alt","https://ovgsoft.com/api/ICONOS/conejo.svg"],["src","https://ovgsoft.com/api/ICONOS/conejo.svg"],["style","width: 30px;"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" Conejo "])),(t()(),r.pb(60,0,null,null,10,"li",[["class","menu-item menu-item-type-taxonomy menu-item-object-product_cat menu-item-has-children sdc-element vetical-menu1 site-nav--has-dropdown"]],null,null,null,null,null)),(t()(),r.pb(61,0,null,null,9,"a",[["class","site-nav__link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.yb(t,62).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r.ob(62,671744,null,0,Ci,[wi,mr,f.g],{routerLink:[0,"routerLink"]},null),r.zb(63,2),(t()(),r.pb(64,0,null,null,0,"img",[["alt",""],["class","blank-featured-img"],["src","#"]],null,null,null,null,null)),(t()(),r.pb(65,0,null,null,0,"div",[["style","clear: both;"]],null,null,null,null,null)),(t()(),r.pb(66,0,null,null,4,"div",[["class","element-main"]],null,null,null,null,null)),(t()(),r.pb(67,0,null,null,3,"div",[["class","collection-area have-icons blank-featured-img"]],null,null,null,null,null)),(t()(),r.pb(68,0,null,null,2,"div",[["class","collection-name"]],null,null,null,null,null)),(t()(),r.pb(69,0,null,null,0,"img",[["alt","https://ovgsoft.com/api/ICONOS/elefante.svg"],["src","https://ovgsoft.com/api/ICONOS/elefante.svg"],["style","width: 30px;"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" Elefante "])),(t()(),r.pb(71,0,null,null,10,"li",[["class","menu-item menu-item-type-taxonomy menu-item-object-product_cat menu-item-has-children sdc-element vetical-menu1 site-nav--has-dropdown"]],null,null,null,null,null)),(t()(),r.pb(72,0,null,null,9,"a",[["class","site-nav__link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.yb(t,73).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r.ob(73,671744,null,0,Ci,[wi,mr,f.g],{routerLink:[0,"routerLink"]},null),r.zb(74,2),(t()(),r.pb(75,0,null,null,0,"img",[["alt",""],["class","blank-featured-img"],["src","#"]],null,null,null,null,null)),(t()(),r.pb(76,0,null,null,0,"div",[["style","clear: both;"]],null,null,null,null,null)),(t()(),r.pb(77,0,null,null,4,"div",[["class","element-main"]],null,null,null,null,null)),(t()(),r.pb(78,0,null,null,3,"div",[["class","collection-area have-icons blank-featured-img"]],null,null,null,null,null)),(t()(),r.pb(79,0,null,null,2,"div",[["class","collection-name"]],null,null,null,null,null)),(t()(),r.pb(80,0,null,null,0,"img",[["alt","https://ovgsoft.com/api/ICONOS/tigre.svg"],["src","https://ovgsoft.com/api/ICONOS/tiger.svg"],["style","width: 30px;"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" Felinos "])),(t()(),r.pb(82,0,null,null,10,"li",[["class","menu-item menu-item-type-taxonomy menu-item-object-product_cat menu-item-has-children sdc-element vetical-menu1 site-nav--has-dropdown"]],null,null,null,null,null)),(t()(),r.pb(83,0,null,null,9,"a",[["class","site-nav__link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.yb(t,84).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r.ob(84,671744,null,0,Ci,[wi,mr,f.g],{routerLink:[0,"routerLink"]},null),r.zb(85,2),(t()(),r.pb(86,0,null,null,0,"img",[["alt",""],["class","blank-featured-img"],["src","#"]],null,null,null,null,null)),(t()(),r.pb(87,0,null,null,0,"div",[["style","clear: both;"]],null,null,null,null,null)),(t()(),r.pb(88,0,null,null,4,"div",[["class","element-main"]],null,null,null,null,null)),(t()(),r.pb(89,0,null,null,3,"div",[["class","collection-area have-icons blank-featured-img"]],null,null,null,null,null)),(t()(),r.pb(90,0,null,null,2,"div",[["class","collection-name"]],null,null,null,null,null)),(t()(),r.pb(91,0,null,null,0,"img",[["alt","https://ovgsoft.com/api/ICONOS/jirafa.svg"],["src","https://ovgsoft.com/api/ICONOS/jirafa.svg"],["style","width: 30px;"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" Jirafa "])),(t()(),r.pb(93,0,null,null,10,"li",[["class","menu-item menu-item-type-taxonomy menu-item-object-product_cat menu-item-has-children sdc-element vetical-menu1 site-nav--has-dropdown"]],null,null,null,null,null)),(t()(),r.pb(94,0,null,null,9,"a",[["class","site-nav__link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.yb(t,95).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r.ob(95,671744,null,0,Ci,[wi,mr,f.g],{routerLink:[0,"routerLink"]},null),r.zb(96,2),(t()(),r.pb(97,0,null,null,0,"img",[["alt",""],["class","blank-featured-img"],["src","#"]],null,null,null,null,null)),(t()(),r.pb(98,0,null,null,0,"div",[["style","clear: both;"]],null,null,null,null,null)),(t()(),r.pb(99,0,null,null,4,"div",[["class","element-main"]],null,null,null,null,null)),(t()(),r.pb(100,0,null,null,3,"div",[["class","collection-area have-icons blank-featured-img"]],null,null,null,null,null)),(t()(),r.pb(101,0,null,null,2,"div",[["class","collection-name"]],null,null,null,null,null)),(t()(),r.pb(102,0,null,null,0,"img",[["alt","https://ovgsoft.com/api/ICONOS/leon.svg"],["src","https://ovgsoft.com/api/ICONOS/leon.svg"],["style","width: 30px;"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" Leon "])),(t()(),r.pb(104,0,null,null,10,"li",[["class","menu-item menu-item-type-taxonomy menu-item-object-product_cat menu-item-has-children sdc-element vetical-menu1 site-nav--has-dropdown"]],null,null,null,null,null)),(t()(),r.pb(105,0,null,null,9,"a",[["class","site-nav__link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.yb(t,106).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r.ob(106,671744,null,0,Ci,[wi,mr,f.g],{routerLink:[0,"routerLink"]},null),r.zb(107,2),(t()(),r.pb(108,0,null,null,0,"img",[["alt",""],["class","blank-featured-img"],["src","#"]],null,null,null,null,null)),(t()(),r.pb(109,0,null,null,0,"div",[["style","clear: both;"]],null,null,null,null,null)),(t()(),r.pb(110,0,null,null,4,"div",[["class","element-main"]],null,null,null,null,null)),(t()(),r.pb(111,0,null,null,3,"div",[["class","collection-area have-icons blank-featured-img"]],null,null,null,null,null)),(t()(),r.pb(112,0,null,null,2,"div",[["class","collection-name"]],null,null,null,null,null)),(t()(),r.pb(113,0,null,null,0,"img",[["alt","https://ovgsoft.com/api/ICONOS/Oso.svg"],["src","https://ovgsoft.com/api/ICONOS/oso.svg"],["style","width: 30px;"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" Oso "])),(t()(),r.pb(115,0,null,null,10,"li",[["class","menu-item menu-item-type-taxonomy menu-item-object-product_cat menu-item-has-children sdc-element vetical-menu1 site-nav--has-dropdown"]],null,null,null,null,null)),(t()(),r.pb(116,0,null,null,9,"a",[["class","site-nav__link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.yb(t,117).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r.ob(117,671744,null,0,Ci,[wi,mr,f.g],{routerLink:[0,"routerLink"]},null),r.zb(118,2),(t()(),r.pb(119,0,null,null,0,"img",[["alt",""],["class","blank-featured-img"],["src","#"]],null,null,null,null,null)),(t()(),r.pb(120,0,null,null,0,"div",[["style","clear: both;"]],null,null,null,null,null)),(t()(),r.pb(121,0,null,null,4,"div",[["class","element-main"]],null,null,null,null,null)),(t()(),r.pb(122,0,null,null,3,"div",[["class","collection-area have-icons blank-featured-img"]],null,null,null,null,null)),(t()(),r.pb(123,0,null,null,2,"div",[["class","collection-name"]],null,null,null,null,null)),(t()(),r.pb(124,0,null,null,0,"img",[["alt","https://ovgsoft.com/api/ICONOS/panda.svg"],["src","https://ovgsoft.com/api/ICONOS/panda.svg"],["style","width: 30px;"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" Panda "])),(t()(),r.pb(126,0,null,null,10,"li",[["class","menu-item menu-item-type-taxonomy menu-item-object-product_cat menu-item-has-children sdc-element vetical-menu1 site-nav--has-dropdown"]],null,null,null,null,null)),(t()(),r.pb(127,0,null,null,9,"a",[["class","site-nav__link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.yb(t,128).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r.ob(128,671744,null,0,Ci,[wi,mr,f.g],{routerLink:[0,"routerLink"]},null),r.zb(129,2),(t()(),r.pb(130,0,null,null,0,"img",[["alt",""],["class","blank-featured-img"],["src","#"]],null,null,null,null,null)),(t()(),r.pb(131,0,null,null,0,"div",[["style","clear: both;"]],null,null,null,null,null)),(t()(),r.pb(132,0,null,null,4,"div",[["class","element-main"]],null,null,null,null,null)),(t()(),r.pb(133,0,null,null,3,"div",[["class","collection-area have-icons blank-featured-img"]],null,null,null,null,null)),(t()(),r.pb(134,0,null,null,2,"div",[["class","collection-name"]],null,null,null,null,null)),(t()(),r.pb(135,0,null,null,0,"img",[["alt","https://ovgsoft.com/api/ICONOS/koala.svg"],["src","https://ovgsoft.com/api/ICONOS/koala.svg"],["style","width: 30px;"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" Koala "])),(t()(),r.pb(137,0,null,null,10,"li",[["class","menu-item menu-item-type-taxonomy menu-item-object-product_cat menu-item-has-children sdc-element vetical-menu1 site-nav--has-dropdown"]],null,null,null,null,null)),(t()(),r.pb(138,0,null,null,9,"a",[["class","site-nav__link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.yb(t,139).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r.ob(139,671744,null,0,Ci,[wi,mr,f.g],{routerLink:[0,"routerLink"]},null),r.zb(140,2),(t()(),r.pb(141,0,null,null,0,"img",[["alt",""],["class","blank-featured-img"],["src","#"]],null,null,null,null,null)),(t()(),r.pb(142,0,null,null,0,"div",[["style","clear: both;"]],null,null,null,null,null)),(t()(),r.pb(143,0,null,null,4,"div",[["class","element-main"]],null,null,null,null,null)),(t()(),r.pb(144,0,null,null,3,"div",[["class","collection-area have-icons blank-featured-img"]],null,null,null,null,null)),(t()(),r.pb(145,0,null,null,2,"div",[["class","collection-name"]],null,null,null,null,null)),(t()(),r.pb(146,0,null,null,0,"img",[["alt","https://ovgsoft.com/api/ICONOS/perros.svg"],["src","https://ovgsoft.com/api/ICONOS/perro.svg"],["style","width: 30px;"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" Perros "])),(t()(),r.pb(148,0,null,null,8,"li",[["class","conejo menu-item menu-item-type-taxonomy menu-item-object-product_cat menu-item-has-children sdc-element vetical-menu1 site-nav--has-dropdown"]],null,null,null,null,null)),(t()(),r.pb(149,0,null,null,7,"a",[["class","site-nav__link"],["href","#"]],null,null,null,null,null)),(t()(),r.pb(150,0,null,null,0,"img",[["alt",""],["class","blank-featured-img"],["src","#"]],null,null,null,null,null)),(t()(),r.pb(151,0,null,null,0,"div",[["style","clear: both;"]],null,null,null,null,null)),(t()(),r.pb(152,0,null,null,4,"div",[["class","element-main"]],null,null,null,null,null)),(t()(),r.pb(153,0,null,null,3,"div",[["class","collection-area have-icons blank-featured-img"]],null,null,null,null,null)),(t()(),r.pb(154,0,null,null,2,"div",[["class","collection-name"]],null,null,null,null,null)),(t()(),r.pb(155,0,null,null,0,"img",[["alt","https://ovgsoft.com/api/ICONOS/conejo.svg"],["src","https://ovgsoft.com/api/ICONOS/conejo.svg"],["style","width: 30px;"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" Cojejo "])),(t()(),r.pb(157,0,null,null,10,"li",[["class","menu-item menu-item-type-taxonomy menu-item-object-product_cat menu-item-has-children sdc-element vetical-menu1 site-nav--has-dropdown"]],null,null,null,null,null)),(t()(),r.pb(158,0,null,null,9,"a",[["class","site-nav__link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.yb(t,159).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r.ob(159,671744,null,0,Ci,[wi,mr,f.g],{routerLink:[0,"routerLink"]},null),r.zb(160,2),(t()(),r.pb(161,0,null,null,0,"img",[["alt",""],["class","blank-featured-img"],["src","#"]],null,null,null,null,null)),(t()(),r.pb(162,0,null,null,0,"div",[["style","clear: both;"]],null,null,null,null,null)),(t()(),r.pb(163,0,null,null,4,"div",[["class","element-main"]],null,null,null,null,null)),(t()(),r.pb(164,0,null,null,3,"div",[["class","collection-area have-icons blank-featured-img"]],null,null,null,null,null)),(t()(),r.pb(165,0,null,null,2,"div",[["class","collection-name"]],null,null,null,null,null)),(t()(),r.pb(166,0,null,null,0,"img",[["alt","https://ovgsoft.com/api/ICONOS/marinos.svg"],["src","https://ovgsoft.com/api/ICONOS/marinos.svg"],["style","width: 30px;"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" Marino "])),(t()(),r.pb(168,0,null,null,10,"li",[["class","menu-item menu-item-type-taxonomy menu-item-object-product_cat menu-item-has-children sdc-element vetical-menu1 site-nav--has-dropdown"]],null,null,null,null,null)),(t()(),r.pb(169,0,null,null,9,"a",[["class","site-nav__link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.yb(t,170).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r.ob(170,671744,null,0,Ci,[wi,mr,f.g],{routerLink:[0,"routerLink"]},null),r.zb(171,2),(t()(),r.pb(172,0,null,null,0,"img",[["alt",""],["class","blank-featured-img"],["src","#"]],null,null,null,null,null)),(t()(),r.pb(173,0,null,null,0,"div",[["style","clear: both;"]],null,null,null,null,null)),(t()(),r.pb(174,0,null,null,4,"div",[["class","element-main"]],null,null,null,null,null)),(t()(),r.pb(175,0,null,null,3,"div",[["class","collection-area have-icons blank-featured-img"]],null,null,null,null,null)),(t()(),r.pb(176,0,null,null,2,"div",[["class","collection-name"]],null,null,null,null,null)),(t()(),r.pb(177,0,null,null,0,"img",[["alt","https://ovgsoft.com/api/ICONOS/hippopotamo.svg"],["src","https://ovgsoft.com/api/ICONOS/hippopotamo.svg"],["style","width: 30px;"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" Hippopotamo "])),(t()(),r.pb(179,0,null,null,10,"li",[["class","menu-item menu-item-type-taxonomy menu-item-object-product_cat menu-item-has-children sdc-element vetical-menu1 site-nav--has-dropdown"]],null,null,null,null,null)),(t()(),r.pb(180,0,null,null,9,"a",[["class","site-nav__link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==r.yb(t,181).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i},null,null)),r.ob(181,671744,null,0,Ci,[wi,mr,f.g],{routerLink:[0,"routerLink"]},null),r.zb(182,2),(t()(),r.pb(183,0,null,null,0,"img",[["alt",""],["class","blank-featured-img"],["src","#"]],null,null,null,null,null)),(t()(),r.pb(184,0,null,null,0,"div",[["style","clear: both;"]],null,null,null,null,null)),(t()(),r.pb(185,0,null,null,4,"div",[["class","element-main"]],null,null,null,null,null)),(t()(),r.pb(186,0,null,null,3,"div",[["class","collection-area have-icons blank-featured-img"]],null,null,null,null,null)),(t()(),r.pb(187,0,null,null,2,"div",[["class","collection-name"]],null,null,null,null,null)),(t()(),r.pb(188,0,null,null,0,"img",[["alt","https://ovgsoft.com/api/ICONOS/unicornio.svg"],["src","https://ovgsoft.com/api/ICONOS/unicornio.svg"],["style","width: 30px;"]],null,null,null,null,null)),(t()(),r.Eb(-1,null,[" Unicornios "])),(t()(),r.gb(16777216,null,null,1,null,kl)),r.ob(191,16384,null,0,f.j,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(192,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.ob(193,212992,null,0,ki,[Ii,r.O,r.j,[8,null],r.h],null,null),(t()(),r.pb(194,0,null,null,2,"footer",[["id","footer"]],null,null,null,null,null)),(t()(),r.pb(195,0,null,null,1,"app-footer",[],null,null,null,Tl,Sl)),r.ob(196,114688,null,0,El,[K],null,null)],function(t,e){var n=e.component;t(e,2,0);var r=t(e,20,0,"/categoria","obejas");t(e,19,0,r);var i=t(e,30,0,"/categoria","caballo");t(e,29,0,i);var o=t(e,41,0,"/categoria","changos");t(e,40,0,o);var a=t(e,52,0,"/categoria","conejo");t(e,51,0,a);var l=t(e,63,0,"/categoria","elefante");t(e,62,0,l);var u=t(e,74,0,"/categoria","felino");t(e,73,0,u);var s=t(e,85,0,"/categoria","jirafa");t(e,84,0,s);var c=t(e,96,0,"/categoria","leon");t(e,95,0,c);var h=t(e,107,0,"/categoria","oso");t(e,106,0,h);var f=t(e,118,0,"/categoria","panda");t(e,117,0,f);var p=t(e,129,0,"/categoria","koala");t(e,128,0,p);var d=t(e,140,0,"/categoria","perros");t(e,139,0,d);var m=t(e,160,0,"/categoria","marino");t(e,159,0,m);var g=t(e,171,0,"/categoria","hipopotamo");t(e,170,0,g);var y=t(e,182,0,"/categoria","unicornio");t(e,181,0,y),t(e,191,0,n.productosService.cargando),t(e,193,0),t(e,196,0)},function(t,e){t(e,18,0,r.yb(e,19).target,r.yb(e,19).href),t(e,28,0,r.yb(e,29).target,r.yb(e,29).href),t(e,39,0,r.yb(e,40).target,r.yb(e,40).href),t(e,50,0,r.yb(e,51).target,r.yb(e,51).href),t(e,61,0,r.yb(e,62).target,r.yb(e,62).href),t(e,72,0,r.yb(e,73).target,r.yb(e,73).href),t(e,83,0,r.yb(e,84).target,r.yb(e,84).href),t(e,94,0,r.yb(e,95).target,r.yb(e,95).href),t(e,105,0,r.yb(e,106).target,r.yb(e,106).href),t(e,116,0,r.yb(e,117).target,r.yb(e,117).href),t(e,127,0,r.yb(e,128).target,r.yb(e,128).href),t(e,138,0,r.yb(e,139).target,r.yb(e,139).href),t(e,158,0,r.yb(e,159).target,r.yb(e,159).href),t(e,169,0,r.yb(e,170).target,r.yb(e,170).href),t(e,180,0,r.yb(e,181).target,r.yb(e,181).href)})}function xl(t){return r.Fb(0,[(t()(),r.pb(0,0,null,null,1,"app-root",[],null,null,null,Ol,Il)),r.ob(1,49152,null,0,X,[K,G,W,Y],null,null)],null,null)}var Al=r.lb("app-root",X,xl,{},{},[]),Nl=n("hDTV"),Dl=n("fvl4"),Pl=n("X8TH"),Rl=n("ZBkt"),Ml=n("MGeu"),jl=function(){return function(){}}(),Ll=r.mb(i,[X],function(t){return r.wb([r.xb(512,r.j,r.bb,[[8,[Zi,so,_a,xa,Ra,Fa,Ha,Ya,el,ll,pl,bl,Al]],[3,r.j],r.x]),r.xb(5120,r.u,r.kb,[[3,r.u]]),r.xb(4608,f.l,f.k,[r.u,[2,f.r]]),r.xb(5120,r.c,r.hb,[]),r.xb(5120,r.s,r.ib,[]),r.xb(5120,r.t,r.jb,[]),r.xb(4608,Qe,Ye,[f.c]),r.xb(6144,r.G,null,[Qe]),r.xb(4608,qe,ze,[]),r.xb(5120,de,function(t,e,n,r,i,o,a,l){return[new Fe(t,e,n),new We(r),new He(i,o,a,l)]},[f.c,r.z,r.B,f.c,f.c,qe,r.cb,[2,Be]]),r.xb(4608,me,me,[de,r.z]),r.xb(135680,ve,ve,[f.c]),r.xb(4608,Te,Te,[me,ve]),r.xb(6144,r.E,null,[Te]),r.xb(6144,ye,null,[ve]),r.xb(4608,r.M,r.M,[r.z]),r.xb(5120,mr,Hi,[wi]),r.xb(4608,Ni,Ni,[]),r.xb(6144,xi,null,[Ni]),r.xb(135680,Di,Di,[wi,r.w,r.i,r.q,xi]),r.xb(4608,Ai,Ai,[]),r.xb(5120,Pi,Fi,[wi,f.o,Ri]),r.xb(5120,Qi,Wi,[Ki]),r.xb(5120,r.b,function(t){return[t]},[Qi]),r.xb(4608,Ao,Ao,[]),r.xb(4608,F,U,[f.c,r.B,L]),r.xb(4608,q,q,[F,V]),r.xb(5120,N,function(t){return[t]},[q]),r.xb(4608,M,M,[]),r.xb(6144,R,null,[M]),r.xb(4608,j,j,[R]),r.xb(6144,d,null,[j]),r.xb(4608,p,B,[d,r.q]),r.xb(4608,x,x,[p]),r.xb(5120,Nl.b,Nl.e,[Nl.d,[2,Nl.c]]),r.xb(4608,Dl.a,Dl.a,[Nl.d,[2,Nl.c],[2,Dl.c],[2,Dl.d],r.B,r.z,[2,Dl.e]]),r.xb(4608,Rl.a,Rl.a,[Nl.d,[2,Nl.c],r.B,r.z]),r.xb(4608,Y,Y,[Dl.a,Rl.a]),r.xb(1073742336,f.b,f.b,[]),r.xb(1024,r.l,on,[]),r.xb(1024,r.y,function(){return[Li()]},[]),r.xb(512,Ki,Ki,[r.q]),r.xb(1024,r.d,function(t,e){return[(n=t,he("probe",pe),he("coreTokens",Object(o.a)({},fe,(n||[]).reduce(function(t,e){return t[e.name]=e.token,t},{}))),function(){return pe}),Gi(e)];var n},[[2,r.y],Ki]),r.xb(512,r.e,r.e,[[2,r.d]]),r.xb(131584,r.g,r.g,[r.z,r.cb,r.q,r.l,r.j,r.e]),r.xb(1073742336,r.f,r.f,[r.g]),r.xb(1073742336,an,an,[[3,an]]),r.xb(1024,Mi,qi,[[3,wi]]),r.xb(512,Wn,Qn,[]),r.xb(512,Ii,Ii,[]),r.xb(256,Ri,{useHash:!0},[]),r.xb(1024,f.g,Ui,[f.n,[2,f.a],Ri]),r.xb(512,f.f,f.f,[f.g]),r.xb(512,r.i,r.i,[]),r.xb(512,r.w,r.J,[r.i,[2,r.K]]),r.xb(1024,pi,function(){return[[{path:"home",component:ro},{path:"login",component:ma},{path:"registro",component:Ca},{path:"productos",component:Aa},{path:"about",component:Ma},{path:"categorias",component:Ua},{path:"politicas",component:Ka},{path:"paises",component:Xa},{path:"chat",component:nl},{path:"item/:id_pel",component:ul},{path:"categoria/:id",component:Aa},{path:"search/:termino",component:dl},{path:"**",pathMatch:"full",redirectTo:"home"}]]},[]),r.xb(1024,wi,zi,[r.g,Wn,Ii,f.f,r.q,r.w,r.i,pi,Ri,[2,mi],[2,hi]]),r.xb(1073742336,Vi,Vi,[[2,Mi],[2,wi]]),r.xb(1073742336,jl,jl,[]),r.xb(1073742336,sa,sa,[]),r.xb(1073742336,ca,ca,[]),r.xb(1073742336,z,z,[]),r.xb(1073742336,H,H,[]),r.xb(1073742336,Nl.a,Nl.a,[]),r.xb(1073742336,Pl.a,Pl.a,[]),r.xb(1073742336,Ml.a,Ml.a,[]),r.xb(1073742336,i,i,[]),r.xb(256,r.ab,!0,[]),r.xb(256,L,"XSRF-TOKEN",[]),r.xb(256,V,"X-XSRF-TOKEN",[]),r.xb(256,Nl.d,{production:!0},[]),r.xb(256,Nl.c,void 0,[])])});Object(r.T)(),rn().bootstrapModuleFactory(Ll).catch(function(t){return console.error(t)})},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("+7AZ"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},l=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,l=a?t[i+1]:0,u=i+2<t.length,s=u?t[i+2]:0,c=(15&l)<<2|s>>6,h=63&s;u||(h=64,a||(c=64)),r.push(n[o>>2],n[(3&o)<<4|l>>4],n[c],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(l(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(l=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var l=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&l)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,l=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==l||null==u)throw Error();r.push(o<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==u&&r.push(l<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},s=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=c(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var p="FirebaseError",d=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name=p,Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,m.prototype.create),i}return r.__extends(e,t),e}(Error),m=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?function(t,e){return t.replace(g,function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"})}(o,r):"Error",l=new d(i,this.serviceName+": "+a+" ("+i+")."),u=0,s=Object.keys(r);u<s.length;u++){var c=s[u];"_"!==c.slice(-1)&&(c in l&&console.warn('Overwriting FirebaseError base field "'+c+'" can cause unexpected behavior.'),l[c]=r[c])}return l},t}(),g=/\{\$([^}]+)}/g;function y(t){return JSON.parse(t)}var v=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=y(s(o[0])||""),n=y(s(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}},b=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],l=this.chain_[1],u=this.chain_[2],s=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=s^l&(u^s),o=1518500249):(i=l^u^s,o=1859775393):r<60?(i=l&u|s&(l|u),o=2400959708):(i=l^u^s,o=3395469782);var h=(a<<5|a>>>27)+i+c+o+n[r]&4294967295;c=s,s=u,u=4294967295&(l<<30|l>>>2),l=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+s&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),w=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=_),void 0===r.error&&(r.error=_),void 0===r.complete&&(r.complete=_);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function _(){}function C(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=m,e.FirebaseError=d,e.Sha1=b,e.assert=o,e.assertionError=a,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.base64=u,e.base64Decode=s,e.base64Encode=function(t){var e=l(t);return u.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new w(t,e);return n.subscribe.bind(n)},e.decode=v,e.deepCopy=function(t){return c(void 0,t)},e.deepExtend=c,e.errorPrefix=C,e.getUA=f,e.isAdmin=function(t){var e=v(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isValidFormat=function(t){var e=v(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=v(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=v(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=y,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;o(++r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(C(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(C(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(C(t,e,r)+"must be a valid firebase namespace.")}},zotm:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("rPjj"),i=n("Fxb1");function o(t,e,n,o,a){if(void 0===a&&(a=new r.a(t,n,o)),!a.closed)return Object(i.a)(e)(a)}}},[[0,0]]]);