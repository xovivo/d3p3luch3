/*=============================================
PLANTILLA
=============================================*/
var rutaOculta = $("#rutaOculta").val();
// Herramienta TOOLTIP
$('[data-toggle="tooltip"]').tooltip();
$.ajax({
url:rutaOculta+"ajax/plantilla.ajax.php",
success:function(respuesta){
var colorFondo = JSON.parse(respuesta).colorFondo;
var colorTexto = JSON.parse(respuesta).colorTexto;
var barraSuperior = JSON.parse(respuesta).barraSuperior;
var textoSuperior = JSON.parse(respuesta).textoSuperior;

$(".backColor, .backColor a").css({"background": colorFondo,
"color": colorTexto})
$(".barraSuperior, .barraSuperior a").css({"background": barraSuperior,
"color": textoSuperior})
}
})
/*=============================================
CUADRÍCULA O LISTA
=============================================*/
var btnList = $(".btnList");
var btnGrid = $(".btnGrid");
for(var i = 0; i < btnList.length; i++){
$(btnGrid[i]).addClass("backColor");
$("#btnGrid"+i).click(function(){
var numero = $(this).attr("id").substr(-1);
$(".list"+numero).hide();
$(".grid"+numero).show();
$("#btnGrid"+numero).addClass("backColor");
$("#btnList"+numero).attr("style","");
$("#btnList"+numero).removeClass("backColor");
})
$("#btnList"+i).click(function(){
var numero = $(this).attr("id").substr(-1);
$(".list"+numero).show();
$(".grid"+numero).hide();

$("#btnList"+numero).addClass("backColor");
$("#btnGrid"+numero).attr("style","");
$("#btnGrid"+numero).removeClass("backColor");
})
}
/*=============================================
EFECTOS CON EL SCROLL
=============================================*/
$(window).scroll(function(){
var scrollY = window.pageYOffset;
if(window.matchMedia("(min-width:768px)").matches){
if($(".banner").html() != null){
if(scrollY < ($(".banner").offset().top)-150){
$(".banner img").css({"margin-top":-scrollY/3+"px"})
}else{
scrollY = 0;
}
}
}

})
$.scrollUp({
scrollText:"",
scrollSpeed: 2000,
easingType: "easeOutQuint"
});
/*=============================================
MIGAS DE PAN
=============================================*/
var pagActiva = $(".pagActiva").html();
if(pagActiva != null){
var regPagActiva = pagActiva.replace(/-/g, " ");
$(".pagActiva").html(regPagActiva);
}
/*=============================================
ENLACES PAGINACIÓN
=============================================*/
var url = window.location.href;
var indice = url.split("/");
var pagActual =indice[5];
if(isNaN(pagActual)){
$("#item1").addClass("active");

}else{
$("#item"+pagActual).addClass("active");

}
/*=============================================
OFERTAS
=============================================*/
$(".cerrarOfertas").click(function(){
$(this).parent().remove();
})
if($("#moduloOfertas").children().length == 0){
$("#moduloOfertas").html(
'<div class="jumbotron">'+
	'<h1 class="text-center">Lo sentimos</h1>'+
	'<h3 class="text-center">¡En estos momentos no hay ofertas disponibles!</h3>'+
	
'</div>'
);
}
/*=============================================
CONTADOR DE TIEMPO
=============================================*/
var finOferta = $(".countdown");
var fechaFinOferta = [];
for(var i = 0; i < finOferta.length; i++){
fechaFinOferta[i] = $(finOferta[i]).attr("finOferta");
$(finOferta[i]).dsCountDown({
endDate: new Date(fechaFinOferta[i]),
theme: 'flat',
titleDays: 'Días',
titleHours: 'Horas',
titleMinutes: 'Minutos',
titleSeconds: 'Segundos'
});
}
/*=============================================
CONTADOR DE TIEMPO OFERTAS PRODUCTOS
=============================================*/
var finOferta2 = $('.countdown2').attr("finOferta");
$('.countdown2').dsCountDown({
endDate: new Date(finOferta2),
theme: 'black',
titleDays: 'Dias',
titleHours: 'Horas',
titleMinutes: 'Min',
titleSeconds: 'Seg'
});
/*=============================================
EVENTOS PIXEL DE FACEBOOK
=============================================*/
$(".pixelCategorias").click(function(){
var titulo = $(this).attr("titulo");
fbq('track', 'Categoria '+titulo, {
title: titulo
})
})
$(".pixelSubCategorias").click(function(){
var titulo = $(this).attr("titulo");
fbq('track', 'Subcategoria '+titulo, {
title: titulo
})
})
$(".pixelOferta").click(function(){
var titulo = $(this).attr("titulo");
fbq('track', 'Oferta '+titulo, {
title: titulo
})
})
!function(t,e,n,r){n.Helper={apiBase:"/wp-json/",init:function(){e(document).ready(function(){this.$loadingGif=e('<img style="width: 45px; height: 45px;" class="loading_gif" src="'+theme.assetPath+'/img/icon/loading.gif" />')}.bind(this))},isMobile:function(){return Helper.__tokenVisible(".token--mobile")},isTablet:function(){return Helper.__tokenVisible(".token--tablet")},isDesktop:function(){return Helper.__tokenVisible(".token--desktop")},__tokenVisible:function(t){return"block"===e(t).css("display")},requestData:function(t,n,r){var i="/wp-admin/admin-ajax.php?action="+n;return r||(r={}),e.ajax({type:t,dataType:"JSON",data:r,url:i}).promise()},postForm:function(t,e){var n=e.serialize();return Helper.postData(t,n)},postData:function(t,e){return this.requestData("POST",t,e)},getData:function(t,e){return this.requestData("GET",t,e)},requestEndpoint:function(t,n,r){return r||(r={}),e.ajax({type:t,dataType:"JSON",data:r,url:this.apiBase+n}).promise()},postEndpoint:function(t,e){return this.requestEndpoint("POST",t,e)},getEndpoint:function(t,e){return this.requestEndpoint("GET",t,e)},isTemplate:function(t){return e("body").is(".page-template-template-"+t)},isPostTemplate:function(t){return e("body").is(".post-template-template-"+t)},scrollbarWidth:15,setScrollbarWidth:function(){this.setScrollbarWidth=e(document).outerWidth()-e(n).innerWidth()},moneyFormat:function(t){return numeral(parseFloat(t,10)).format("$0,0.00")},formatShippingValue:function(t){return t=0===t?"FREE":Helper.moneyFormat(t)},stripJso:function(){e("jso-remove").remove(),Helper.isMobile()?e(".jso-remove--mobile").remove():Helper.isTablet()?e(".jso-remove--tablet").remove():Helper.isDesktop()&&e(".jso-remove--desktop").remove()},$loadingGif:null,queryParam:function(t){var e,r=decodeURIComponent(n.location.search.substring(1));r=r.split("&"),t=t.toLowerCase();for(var i=r.length;i>0;){i--;var a=r[i].split("=");if(a[0]===t){e=a[1];break}}return e},updateQueryParam:function(t,e){var r=decodeURIComponent(n.location.search.substring(1)),i=(r||"").split("&").filter(function(e){return!new RegExp(t).test(e)&&Boolean(e)}).concat([t+"="+e]).reduce(function(t,e){t?t+="&":t="?";var n=e.split("=");return t+=n[0]+"="+n[1]},"");return i},injectPartials:function(t){if(t.partials)for(var n in t.partials){var r=/\$$/.test(n),i=/^\^/.test(n),a=/^\~/.test(n),o=n.replace(/[\^\$\~]+/g,""),s=t.partials[n],l=e("body").find(o);l.length&&(r?l.append(s):i?l.prepend(s):a?l.replaceWith(s):l.html(s))}},loadPartial:function(t){var e={partials:t};Helper.postEndpoint("sda/v1/load-partial/",e).then(Helper.injetPartials)},loadHeader:function(t){Helper.postEndpoint("sda/v1/load-header-data/",t).then(function(t){Helper.injectPartials(t),CartModal.cartDataLoaded(t)})},getCategoryArray:function(){var t=e(".bread_crumbs"),n=t.find(".link.bread_crumbs__crumb span");n.splice(n.length-1,1);var r=[];return n.each(function(t){t>0&&r.push(e(this).html().trim())}),r},getCategoryString:function(t,n){t=t||e(".bread_crumbs");var r=t.find(".link.bread_crumbs__crumb span");n&&r.splice(r.length-1,1);var i="";return r.each(function(t){t>0&&(i+=e(this).html().trim(),t+1<r.length&&(i+="/"))}),i.replace("'","")},copyObject:function(t){return JSON.parse(JSON.stringify(t))},copyObjects:function(t){for(var e=[],n=0;n<t.length;n++)e.push(Helper.copyObject(t[n]));return e},parseCrumbs:function(t,e){for(var n=Object.keys(t),r=e?[]:"",i=0;i<n.length;i++){var a=n[i],o=t[a];e?r.push(o.copy):r+=o.copy+(i+1<n.length?"/":"")}return r},inDevelopment:function(){var t=!0;return/sundayafternoons\.com|flywheelsites\.com/.test(n.location.host)&&(t=!1),t},inStaging:function(){var t=!1;return/flywheelsites\.com/.test(n.location.host)&&(t=!0),t}}}(_,jQuery,window,void 0);
!function(t,e,i,n){"use strict";function r(t,e,i){return setTimeout(c(t,i),e)}function s(t,e,i){return!!Array.isArray(t)&&(o(t,i[e],i),!0)}function o(t,e,i){var r;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==n)for(r=0;r<t.length;)e.call(i,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(i,t[r],r,t)}function a(t,e,i){for(var r=Object.keys(e),s=0;s<r.length;)(!i||i&&t[r[s]]===n)&&(t[r[s]]=e[r[s]]),s++;return t}function h(t,e){return a(t,e,!0)}function u(t,e,i){var n,r=e.prototype;n=t.prototype=Object.create(r),n.constructor=t,n._super=r,i&&a(n,i)}function c(t,e){return function(){return t.apply(e,arguments)}}function l(t,e){return typeof t==ct?t.apply(e?e[0]||n:n,e):t}function p(t,e){return t===n?e:t}function f(t,e,i){o(g(e),function(e){t.addEventListener(e,i,!1)})}function d(t,e,i){o(g(e),function(e){t.removeEventListener(e,i,!1)})}function v(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function m(t,e){return t.indexOf(e)>-1}function g(t){return t.trim().split(/\s+/g)}function T(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function y(t){return Array.prototype.slice.call(t,0)}function E(t,e,i){for(var n=[],r=[],s=0;s<t.length;){var o=e?t[s][e]:t[s];T(r,o)<0&&n.push(t[s]),r[s]=o,s++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}function I(t,e){for(var i,r,s=e[0].toUpperCase()+e.slice(1),o=0;o<ht.length;){if(i=ht[o],r=i?i+s:e,r in t)return r;o++}return n}function A(){return dt++}function _(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function D(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){l(t.options.enable,[t])&&i.handler(e)},this.init()}function S(t){var e,i=t.options.inputClass;return new(e=i?i:gt?W:Tt?H:mt?U:F)(t,w)}function w(t,e,i){var n=i.pointers.length,r=i.changedPointers.length,s=e&Dt&&n-r===0,o=e&(wt|bt)&&n-r===0;i.isFirst=!!s,i.isFinal=!!o,s&&(t.session={}),i.eventType=e,b(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function b(t,e){var i=t.session,n=e.pointers,r=n.length;i.firstInput||(i.firstInput=z(e)),r>1&&!i.firstMultiple?i.firstMultiple=z(e):1===r&&(i.firstMultiple=!1);var s=i.firstInput,o=i.firstMultiple,a=o?o.center:s.center,h=e.center=N(n);e.timeStamp=ft(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=x(a,h),e.distance=O(a,h),C(i,e),e.offsetDirection=M(e.deltaX,e.deltaY),e.scale=o?Y(o.pointers,n):1,e.rotation=o?X(o.pointers,n):0,R(i,e);var u=t.element;v(e.srcEvent.target,u)&&(u=e.srcEvent.target),e.target=u}function C(t,e){var i=e.center,n=t.offsetDelta||{},r=t.prevDelta||{},s=t.prevInput||{};(e.eventType===Dt||s.eventType===wt)&&(r=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=r.x+(i.x-n.x),e.deltaY=r.y+(i.y-n.y)}function R(t,e){var i,r,s,o,a=t.lastInterval||e,h=e.timeStamp-a.timeStamp;if(e.eventType!=bt&&(h>_t||a.velocity===n)){var u=a.deltaX-e.deltaX,c=a.deltaY-e.deltaY,l=P(h,u,c);r=l.x,s=l.y,i=pt(l.x)>pt(l.y)?l.x:l.y,o=M(u,c),t.lastInterval=e}else i=a.velocity,r=a.velocityX,s=a.velocityY,o=a.direction;e.velocity=i,e.velocityX=r,e.velocityY=s,e.direction=o}function z(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:lt(t.pointers[i].clientX),clientY:lt(t.pointers[i].clientY)},i++;return{timeStamp:ft(),pointers:e,center:N(e),deltaX:t.deltaX,deltaY:t.deltaY}}function N(t){var e=t.length;if(1===e)return{x:lt(t[0].clientX),y:lt(t[0].clientY)};for(var i=0,n=0,r=0;e>r;)i+=t[r].clientX,n+=t[r].clientY,r++;return{x:lt(i/e),y:lt(n/e)}}function P(t,e,i){return{x:e/t||0,y:i/t||0}}function M(t,e){return t===e?Ct:pt(t)>=pt(e)?t>0?Rt:zt:e>0?Nt:Pt}function O(t,e,i){i||(i=Xt);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return Math.sqrt(n*n+r*r)}function x(t,e,i){i||(i=Xt);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return 180*Math.atan2(r,n)/Math.PI}function X(t,e){return x(e[1],e[0],Yt)-x(t[1],t[0],Yt)}function Y(t,e){return O(e[0],e[1],Yt)/O(t[0],t[1],Yt)}function F(){this.evEl=Wt,this.evWin=qt,this.allow=!0,this.pressed=!1,D.apply(this,arguments)}function W(){this.evEl=kt,this.evWin=Ut,D.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function q(){this.evTarget=Vt,this.evWin=jt,this.started=!1,D.apply(this,arguments)}function L(t,e){var i=y(t.touches),n=y(t.changedTouches);return e&(wt|bt)&&(i=E(i.concat(n),"identifier",!0)),[i,n]}function H(){this.evTarget=Bt,this.targetIds={},D.apply(this,arguments)}function k(t,e){var i=y(t.touches),n=this.targetIds;if(e&(Dt|St)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var r,s,o=y(t.changedTouches),a=[],h=this.target;if(s=i.filter(function(t){return v(t.target,h)}),e===Dt)for(r=0;r<s.length;)n[s[r].identifier]=!0,r++;for(r=0;r<o.length;)n[o[r].identifier]&&a.push(o[r]),e&(wt|bt)&&delete n[o[r].identifier],r++;return a.length?[E(s.concat(a),"identifier",!0),a]:void 0}function U(){D.apply(this,arguments);var t=c(this.handler,this);this.touch=new H(this.manager,t),this.mouse=new F(this.manager,t)}function G(t,e){this.manager=t,this.set(e)}function V(t){if(m(t,ee))return ee;var e=m(t,ie),i=m(t,ne);return e&&i?ie+" "+ne:e||i?e?ie:ne:m(t,te)?te:$t}function j(t){this.id=A(),this.manager=null,this.options=h(t||{},this.defaults),this.options.enable=p(this.options.enable,!0),this.state=re,this.simultaneous={},this.requireFail=[]}function Z(t){return t&ue?"cancel":t&ae?"end":t&oe?"move":t&se?"start":""}function B(t){return t==Pt?"down":t==Nt?"up":t==Rt?"left":t==zt?"right":""}function J(t,e){var i=e.manager;return i?i.get(t):t}function K(){j.apply(this,arguments)}function Q(){K.apply(this,arguments),this.pX=null,this.pY=null}function $(){K.apply(this,arguments)}function tt(){j.apply(this,arguments),this._timer=null,this._input=null}function et(){K.apply(this,arguments)}function it(){K.apply(this,arguments)}function nt(){j.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function rt(t,e){return e=e||{},e.recognizers=p(e.recognizers,rt.defaults.preset),new st(t,e)}function st(t,e){e=e||{},this.options=h(e,rt.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=S(this),this.touchAction=new G(this,this.options.touchAction),ot(this,!0),o(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ot(t,e){var i=t.element;o(t.options.cssProps,function(t,n){i.style[I(i.style,n)]=e?t:""})}function at(t,i){var n=e.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=i,i.target.dispatchEvent(n)}var ht=["","webkit","moz","MS","ms","o"],ut=e.createElement("div"),ct="function",lt=Math.round,pt=Math.abs,ft=Date.now,dt=1,vt=/mobile|tablet|ip(ad|hone|od)|android/i,mt="ontouchstart"in t,gt=I(t,"PointerEvent")!==n,Tt=mt&&vt.test(navigator.userAgent),yt="touch",Et="pen",It="mouse",At="kinect",_t=25,Dt=1,St=2,wt=4,bt=8,Ct=1,Rt=2,zt=4,Nt=8,Pt=16,Mt=Rt|zt,Ot=Nt|Pt,xt=Mt|Ot,Xt=["x","y"],Yt=["clientX","clientY"];D.prototype={handler:function(){},init:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(_(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(_(this.element),this.evWin,this.domHandler)}};var Ft={mousedown:Dt,mousemove:St,mouseup:wt},Wt="mousedown",qt="mousemove mouseup";u(F,D,{handler:function(t){var e=Ft[t.type];e&Dt&&0===t.button&&(this.pressed=!0),e&St&&1!==t.which&&(e=wt),this.pressed&&this.allow&&(e&wt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:It,srcEvent:t}))}});var Lt={pointerdown:Dt,pointermove:St,pointerup:wt,pointercancel:bt,pointerout:bt},Ht={2:yt,3:Et,4:It,5:At},kt="pointerdown",Ut="pointermove pointerup pointercancel";t.MSPointerEvent&&(kt="MSPointerDown",Ut="MSPointerMove MSPointerUp MSPointerCancel"),u(W,D,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),r=Lt[n],s=Ht[t.pointerType]||t.pointerType,o=s==yt,a=T(e,t.pointerId,"pointerId");r&Dt&&(0===t.button||o)?0>a&&(e.push(t),a=e.length-1):r&(wt|bt)&&(i=!0),0>a||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),i&&e.splice(a,1))}});var Gt={touchstart:Dt,touchmove:St,touchend:wt,touchcancel:bt},Vt="touchstart",jt="touchstart touchmove touchend touchcancel";u(q,D,{handler:function(t){var e=Gt[t.type];if(e===Dt&&(this.started=!0),this.started){var i=L.call(this,t,e);e&(wt|bt)&&i[0].length-i[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:yt,srcEvent:t})}}});var Zt={touchstart:Dt,touchmove:St,touchend:wt,touchcancel:bt},Bt="touchstart touchmove touchend touchcancel";u(H,D,{handler:function(t){var e=Zt[t.type],i=k.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:yt,srcEvent:t})}}),u(U,D,{handler:function(t,e,i){var n=i.pointerType==yt,r=i.pointerType==It;if(n)this.mouse.allow=!1;else if(r&&!this.mouse.allow)return;e&(wt|bt)&&(this.mouse.allow=!0),this.callback(t,e,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Jt=I(ut.style,"touchAction"),Kt=Jt!==n,Qt="compute",$t="auto",te="manipulation",ee="none",ie="pan-x",ne="pan-y";G.prototype={set:function(t){t==Qt&&(t=this.compute()),Kt&&(this.manager.element.style[Jt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return o(this.manager.recognizers,function(e){l(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),V(t.join(" "))},preventDefaults:function(t){if(!Kt){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var n=this.actions,r=m(n,ee),s=m(n,ne),o=m(n,ie);return r||s&&i&Mt||o&&i&Ot?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var re=1,se=2,oe=4,ae=8,he=ae,ue=16,ce=32;j.prototype={defaults:{},set:function(t){return a(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(s(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=J(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return s(t,"dropRecognizeWith",this)?this:(t=J(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(s(t,"requireFailure",this))return this;var e=this.requireFail;return t=J(t,this),-1===T(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(s(t,"dropRequireFailure",this))return this;t=J(t,this);var e=T(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(i.options.event+(e?Z(n):""),t)}var i=this,n=this.state;ae>n&&e(!0),e(),n>=ae&&e(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=ce)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(ce|re)))return!1;t++}return!0},recognize:function(t){var e=a({},t);return l(this.options.enable,[this,e])?(this.state&(he|ue|ce)&&(this.state=re),this.state=this.process(e),void(this.state&(se|oe|ae|ue)&&this.tryEmit(e))):(this.reset(),void(this.state=ce))},process:function(){},getTouchAction:function(){},reset:function(){}},u(K,j,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(se|oe),r=this.attrTest(t);return n&&(i&bt||!r)?e|ue:n||r?i&wt?e|ae:e&se?e|oe:se:ce}}),u(Q,K,{defaults:{event:"pan",threshold:10,pointers:1,direction:xt},getTouchAction:function(){var t=this.options.direction,e=[];return t&Mt&&e.push(ne),t&Ot&&e.push(ie),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,r=t.direction,s=t.deltaX,o=t.deltaY;return r&e.direction||(e.direction&Mt?(r=0===s?Ct:0>s?Rt:zt,i=s!=this.pX,n=Math.abs(t.deltaX)):(r=0===o?Ct:0>o?Nt:Pt,i=o!=this.pY,n=Math.abs(t.deltaY))),t.direction=r,i&&n>e.threshold&&r&e.direction},attrTest:function(t){return K.prototype.attrTest.call(this,t)&&(this.state&se||!(this.state&se)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=B(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),u($,K,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ee]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&se)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),u(tt,j,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[$t]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,s=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(wt|bt)&&!s)this.reset();else if(t.eventType&Dt)this.reset(),this._timer=r(function(){this.state=he,this.tryEmit()},e.time,this);else if(t.eventType&wt)return he;return ce},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===he&&(t&&t.eventType&wt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=ft(),this.manager.emit(this.options.event,this._input)))}}),u(et,K,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ee]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&se)}}),u(it,K,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Mt|Ot,pointers:1},getTouchAction:function(){return Q.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(Mt|Ot)?e=t.velocity:i&Mt?e=t.velocityX:i&Ot&&(e=t.velocityY),this._super.attrTest.call(this,t)&&i&t.direction&&t.distance>this.options.threshold&&pt(e)>this.options.velocity&&t.eventType&wt},emit:function(t){var e=B(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),u(nt,j,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[te]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,s=t.deltaTime<e.time;if(this.reset(),t.eventType&Dt&&0===this.count)return this.failTimeout();if(n&&s&&i){if(t.eventType!=wt)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||O(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t;var h=this.count%e.taps;if(0===h)return this.hasRequireFailures()?(this._timer=r(function(){this.state=he,this.tryEmit()},e.interval,this),se):he}return ce},failTimeout:function(){return this._timer=r(function(){this.state=ce},this.options.interval,this),ce},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==he&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),rt.VERSION="2.0.4",rt.defaults={domEvents:!1,touchAction:Qt,enable:!0,inputTarget:null,inputClass:null,preset:[[et,{enable:!1}],[$,{enable:!1},["rotate"]],[it,{direction:Mt}],[Q,{direction:Mt},["swipe"]],[nt],[nt,{event:"doubletap",taps:2},["tap"]],[tt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var le=1,pe=2;st.prototype={set:function(t){return a(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?pe:le},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,n=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&he)&&(r=e.curRecognizer=null);for(var s=0;s<n.length;)i=n[s],e.stopped===pe||r&&i!=r&&!i.canRecognizeWith(r)?i.reset():i.recognize(t),!r&&i.state&(se|oe|ae)&&(r=e.curRecognizer=i),s++}},get:function(t){if(t instanceof j)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(s(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(s(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(T(e,t),1),this.touchAction.update(),this},on:function(t,e){var i=this.handlers;return o(g(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},off:function(t,e){var i=this.handlers;return o(g(t),function(t){e?i[t].splice(T(i[t],e),1):delete i[t]}),this},emit:function(t,e){this.options.domEvents&&at(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&ot(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},a(rt,{INPUT_START:Dt,INPUT_MOVE:St,INPUT_END:wt,INPUT_CANCEL:bt,STATE_POSSIBLE:re,STATE_BEGAN:se,STATE_CHANGED:oe,STATE_ENDED:ae,STATE_RECOGNIZED:he,STATE_CANCELLED:ue,STATE_FAILED:ce,DIRECTION_NONE:Ct,DIRECTION_LEFT:Rt,DIRECTION_RIGHT:zt,DIRECTION_UP:Nt,DIRECTION_DOWN:Pt,DIRECTION_HORIZONTAL:Mt,DIRECTION_VERTICAL:Ot,DIRECTION_ALL:xt,Manager:st,Input:D,TouchAction:G,TouchInput:H,MouseInput:F,PointerEventInput:W,TouchMouseInput:U,SingleTouchInput:q,Recognizer:j,AttrRecognizer:K,Tap:nt,Pan:Q,Swipe:it,Pinch:$,Rotate:et,Press:tt,on:f,off:d,each:o,merge:h,extend:a,inherit:u,bindFn:c,prefixed:I}),typeof define==ct&&define.amd?define(function(){return rt}):"undefined"!=typeof module&&module.exports?module.exports=rt:t[i]=rt}(window,document,"Hammer");
	!function(e){if("function"==typeof define&&define.amd)define(e);else if("object"==typeof exports)module.exports=e();else{var n=window.Cookies,o=window.Cookies=e();o.noConflict=function(){return window.Cookies=n,o}}}(function(){function e(){for(var e=0,n={};e<arguments.length;e++){var o=arguments[e];for(var t in o)n[t]=o[t]}return n}function n(o){function t(n,i,r){var c;if(arguments.length>1){if(r=e({path:"/"},t.defaults,r),"number"==typeof r.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*r.expires),r.expires=s}try{c=JSON.stringify(i),/^[\{\[]/.test(c)&&(i=c)}catch(a){}return i=o.write?o.write(i,n):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=encodeURIComponent(String(n)),n=n.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),n=n.replace(/[\(\)]/g,escape),document.cookie=[n,"=",i,r.expires&&"; expires="+r.expires.toUTCString(),r.path&&"; path="+r.path,r.domain&&"; domain="+r.domain,r.secure?"; secure":""].join("")}n||(c={});for(var p=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,f=0;f<p.length;f++){var l=p[f].split("="),u=l[0].replace(d,decodeURIComponent),m=l.slice(1).join("=");'"'===m.charAt(0)&&(m=m.slice(1,-1));try{if(m=o.read?o.read(m,u):o(m,u)||m.replace(d,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch(a){}if(n===u){c=m;break}n||(c[u]=m)}catch(a){}}return c}return t.get=t.set=t,t.getJSON=function(){return t.apply({json:!0},[].slice.call(arguments))},t.defaults={},t.remove=function(n,o){t(n,"",e(o,{expires:-1}))},t.withConverter=n,t}return n(function(){})});
		(function(){function e(e){this._value=e}function n(e,n,t,r){var i,a,u=Math.pow(10,n);return a=(t(e*u)/u).toFixed(n),r&&(i=new RegExp("0{1,"+r+"}$"),a=a.replace(i,"")),a}function t(e,n,t){var r;return r=n.indexOf("$")>-1?i(e,n,t):n.indexOf("%")>-1?a(e,n,t):n.indexOf(":")>-1?u(e,n):o(e._value,n,t)}function r(e,n){var t,r,i,a,u,o=n,f=["KB","MB","GB","TB","PB","EB","ZB","YB"],c=!1;if(n.indexOf(":")>-1)e._value=l(n);else if(n===b)e._value=0;else{for("."!==p[v].delimiters.decimal&&(n=n.replace(/\./g,"").replace(p[v].delimiters.decimal,".")),t=new RegExp("[^a-zA-Z]"+p[v].abbreviations.thousand+"(?:\\)|(\\"+p[v].currency.symbol+")?(?:\\))?)?$"),r=new RegExp("[^a-zA-Z]"+p[v].abbreviations.million+"(?:\\)|(\\"+p[v].currency.symbol+")?(?:\\))?)?$"),i=new RegExp("[^a-zA-Z]"+p[v].abbreviations.billion+"(?:\\)|(\\"+p[v].currency.symbol+")?(?:\\))?)?$"),a=new RegExp("[^a-zA-Z]"+p[v].abbreviations.trillion+"(?:\\)|(\\"+p[v].currency.symbol+")?(?:\\))?)?$"),u=0;u<=f.length&&!(c=n.indexOf(f[u])>-1&&Math.pow(1024,u+1));u++);e._value=(c?c:1)*(o.match(t)?Math.pow(10,3):1)*(o.match(r)?Math.pow(10,6):1)*(o.match(i)?Math.pow(10,9):1)*(o.match(a)?Math.pow(10,12):1)*(n.indexOf("%")>-1?.01:1)*((n.split("-").length+Math.min(n.split("(").length-1,n.split(")").length-1))%2?1:-1)*Number(n.replace(/[^0-9\.]+/g,"")),e._value=c?Math.ceil(e._value):e._value}return e._value}function i(e,n,t){var r,i,a=n.indexOf("$"),u=n.indexOf("("),l=n.indexOf("-"),f="";return n.indexOf(" $")>-1?(f=" ",n=n.replace(" $","")):n.indexOf("$ ")>-1?(f=" ",n=n.replace("$ ","")):n=n.replace("$",""),i=o(e._value,n,t),1>=a?i.indexOf("(")>-1||i.indexOf("-")>-1?(i=i.split(""),r=1,(u>a||l>a)&&(r=0),i.splice(r,0,p[v].currency.symbol+f),i=i.join("")):i=p[v].currency.symbol+f+i:i.indexOf(")")>-1?(i=i.split(""),i.splice(-1,0,f+p[v].currency.symbol),i=i.join("")):i=i+f+p[v].currency.symbol,i}function a(e,n,t){var r,i="",a=100*e._value;return n.indexOf(" %")>-1?(i=" ",n=n.replace(" %","")):n=n.replace("%",""),r=o(a,n,t),r.indexOf(")")>-1?(r=r.split(""),r.splice(-1,0,i+"%"),r=r.join("")):r=r+i+"%",r}function u(e){var n=Math.floor(e._value/60/60),t=Math.floor((e._value-60*n*60)/60),r=Math.round(e._value-60*n*60-60*t);return n+":"+(10>t?"0"+t:t)+":"+(10>r?"0"+r:r)}function l(e){var n=e.split(":"),t=0;return 3===n.length?(t+=60*Number(n[0])*60,t+=60*Number(n[1]),t+=Number(n[2])):2===n.length&&(t+=60*Number(n[0]),t+=Number(n[1])),Number(t)}function o(e,t,r){var i,a,u,l,o,f,c=!1,s=!1,h=!1,d="",m=!1,y=!1,g=!1,x=!1,w=!1,O="",M="",_=Math.abs(e),B=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],N="",$=!1;if(0===e&&null!==b)return b;if(t.indexOf("(")>-1?(c=!0,t=t.slice(1,-1)):t.indexOf("+")>-1&&(s=!0,t=t.replace(/\+/g,"")),t.indexOf("a")>-1&&(m=t.indexOf("aK")>=0,y=t.indexOf("aM")>=0,g=t.indexOf("aB")>=0,x=t.indexOf("aT")>=0,w=m||y||g||x,t.indexOf(" a")>-1?(d=" ",t=t.replace(" a","")):t=t.replace("a",""),_>=Math.pow(10,12)&&!w||x?(d+=p[v].abbreviations.trillion,e/=Math.pow(10,12)):_<Math.pow(10,12)&&_>=Math.pow(10,9)&&!w||g?(d+=p[v].abbreviations.billion,e/=Math.pow(10,9)):_<Math.pow(10,9)&&_>=Math.pow(10,6)&&!w||y?(d+=p[v].abbreviations.million,e/=Math.pow(10,6)):(_<Math.pow(10,6)&&_>=Math.pow(10,3)&&!w||m)&&(d+=p[v].abbreviations.thousand,e/=Math.pow(10,3))),t.indexOf("b")>-1)for(t.indexOf(" b")>-1?(O=" ",t=t.replace(" b","")):t=t.replace("b",""),u=0;u<=B.length;u++)if(i=Math.pow(1024,u),a=Math.pow(1024,u+1),e>=i&&a>e){O+=B[u],i>0&&(e/=i);break}return t.indexOf("o")>-1&&(t.indexOf(" o")>-1?(M=" ",t=t.replace(" o","")):t=t.replace("o",""),M+=p[v].ordinal(e)),t.indexOf("[.]")>-1&&(h=!0,t=t.replace("[.]",".")),l=e.toString().split(".")[0],o=t.split(".")[1],f=t.indexOf(","),o?(o.indexOf("[")>-1?(o=o.replace("]",""),o=o.split("["),N=n(e,o[0].length+o[1].length,r,o[1].length)):N=n(e,o.length,r),l=N.split(".")[0],N=N.split(".")[1].length?p[v].delimiters.decimal+N.split(".")[1]:"",h&&0===Number(N.slice(1))&&(N="")):l=n(e,null,r),l.indexOf("-")>-1&&(l=l.slice(1),$=!0),f>-1&&(l=l.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+p[v].delimiters.thousands)),0===t.indexOf(".")&&(l=""),(c&&$?"(":"")+(!c&&$?"-":"")+(!$&&s?"+":"")+l+N+(M?M:"")+(d?d:"")+(O?O:"")+(c&&$?")":"")}function f(e,n){p[e]=n}function c(e){var n=e.toString().split(".");return n.length<2?1:Math.pow(10,n[1].length)}function s(){var e=Array.prototype.slice.call(arguments);return e.reduce(function(e,n){var t=c(e),r=c(n);return t>r?t:r},-1/0)}var h,d="1.5.3",p={},v="en",b=null,m="0,0",y="undefined"!=typeof module&&module.exports;h=function(n){return h.isNumeral(n)?n=n.value():0===n||"undefined"==typeof n?n=0:Number(n)||(n=h.fn.unformat(n)),new e(Number(n))},h.version=d,h.isNumeral=function(n){return n instanceof e},h.language=function(e,n){if(!e)return v;if(e&&!n){if(!p[e])throw new Error("Unknown language : "+e);v=e}return(n||!p[e])&&f(e,n),h},h.languageData=function(e){if(!e)return p[v];if(!p[e])throw new Error("Unknown language : "+e);return p[e]},h.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var n=e%10;return 1===~~(e%100/10)?"th":1===n?"st":2===n?"nd":3===n?"rd":"th"},currency:{symbol:"$"}}),h.zeroFormat=function(e){b="string"==typeof e?e:null},h.defaultFormat=function(e){m="string"==typeof e?e:"0.0"},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(e,n){"use strict";if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var t,r,i=this.length>>>0,a=!1;for(1<arguments.length&&(r=n,a=!0),t=0;i>t;++t)this.hasOwnProperty(t)&&(a?r=e(r,this[t],t,this):(r=this[t],a=!0));if(!a)throw new TypeError("Reduce of empty array with no initial value");return r}),h.fn=e.prototype={clone:function(){return h(this)},format:function(e,n){return t(this,e?e:m,void 0!==n?n:Math.round)},unformat:function(e){return"[object Number]"===Object.prototype.toString.call(e)?e:r(this,e?e:m)},value:function(){return this._value},valueOf:function(){return this._value},set:function(e){return this._value=Number(e),this},add:function(e){function n(e,n){return e+t*n}var t=s.call(null,this._value,e);return this._value=[this._value,e].reduce(n,0)/t,this},subtract:function(e){function n(e,n){return e-t*n}var t=s.call(null,this._value,e);return this._value=[e].reduce(n,this._value*t)/t,this},multiply:function(e){function n(e,n){var t=s(e,n);return e*t*n*t/(t*t)}return this._value=[this._value,e].reduce(n,1),this},divide:function(e){function n(e,n){var t=s(e,n);return e*t/(n*t)}return this._value=[this._value,e].reduce(n),this},difference:function(e){return Math.abs(h(this._value).subtract(e).value())}},y&&(module.exports=h),"undefined"==typeof ender&&(this.numeral=h),"function"==typeof define&&define.amd&&define([],function(){return h})}).call(this);
			!function(e){function t(e){var t=e.length,a=r.type(e);return"function"!==a&&!r.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===a||0===t||"number"==typeof t&&t>0&&t-1 in e))}if(!e.jQuery){var r=function(e,t){return new r.fn.init(e,t)};r.isWindow=function(e){return null!=e&&e==e.window},r.type=function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?o[n.call(e)]||"object":typeof e},r.isArray=Array.isArray||function(e){return"array"===r.type(e)},r.isPlainObject=function(e){var t;if(!e||"object"!==r.type(e)||e.nodeType||r.isWindow(e))return!1;try{if(e.constructor&&!i.call(e,"constructor")&&!i.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(a){return!1}for(t in e);return void 0===t||i.call(e,t)},r.each=function(e,r,a){var o,i=0,n=e.length,s=t(e);if(a){if(s)for(;n>i&&(o=r.apply(e[i],a),o!==!1);i++);else for(i in e)if(o=r.apply(e[i],a),o===!1)break}else if(s)for(;n>i&&(o=r.call(e[i],i,e[i]),o!==!1);i++);else for(i in e)if(o=r.call(e[i],i,e[i]),o===!1)break;return e},r.data=function(e,t,o){if(void 0===o){var i=e[r.expando],n=i&&a[i];if(void 0===t)return n;if(n&&t in n)return n[t]}else if(void 0!==t){var i=e[r.expando]||(e[r.expando]=++r.uuid);return a[i]=a[i]||{},a[i][t]=o,o}},r.removeData=function(e,t){var o=e[r.expando],i=o&&a[o];i&&r.each(t,function(e,t){delete i[t]})},r.extend=function(){var e,t,a,o,i,n,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[l]||{},l++),"object"!=typeof s&&"function"!==r.type(s)&&(s={}),l===u&&(s=this,l--);u>l;l++)if(null!=(i=arguments[l]))for(o in i)e=s[o],a=i[o],s!==a&&(c&&a&&(r.isPlainObject(a)||(t=r.isArray(a)))?(t?(t=!1,n=e&&r.isArray(e)?e:[]):n=e&&r.isPlainObject(e)?e:{},s[o]=r.extend(c,n,a)):void 0!==a&&(s[o]=a));return s},r.queue=function(e,a,o){function i(e,r){var a=r||[];return null!=e&&(t(Object(e))?!function(e,t){for(var r=+t.length,a=0,o=e.length;r>a;)e[o++]=t[a++];if(r!==r)for(;void 0!==t[a];)e[o++]=t[a++];return e.length=o,e}(a,"string"==typeof e?[e]:e):[].push.call(a,e)),a}if(e){a=(a||"fx")+"queue";var n=r.data(e,a);return o?(!n||r.isArray(o)?n=r.data(e,a,i(o)):n.push(o),n):n||[]}},r.dequeue=function(e,t){r.each(e.nodeType?[e]:e,function(e,a){t=t||"fx";var o=r.queue(a,t),i=o.shift();"inprogress"===i&&(i=o.shift()),i&&("fx"===t&&o.unshift("inprogress"),i.call(a,function(){r.dequeue(a,t)}))})},r.fn=r.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw new Error("Not a DOM node.")},offset:function(){var t=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:t.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function e(){for(var e=this.offsetParent||document;e&&"html"===!e.nodeType.toLowerCase&&"static"===e.style.position;)e=e.offsetParent;return e||document}var t=this[0],e=e.apply(t),a=this.offset(),o=/^(?:body|html)$/i.test(e.nodeName)?{top:0,left:0}:r(e).offset();return a.top-=parseFloat(t.style.marginTop)||0,a.left-=parseFloat(t.style.marginLeft)||0,e.style&&(o.top+=parseFloat(e.style.borderTopWidth)||0,o.left+=parseFloat(e.style.borderLeftWidth)||0),{top:a.top-o.top,left:a.left-o.left}}};var a={};r.expando="velocity"+(new Date).getTime(),r.uuid=0;for(var o={},i=o.hasOwnProperty,n=o.toString,s="Boolean Number String Function Array Date RegExp Object Error".split(" "),l=0;l<s.length;l++)o["[object "+s[l]+"]"]=s[l].toLowerCase();r.fn.init.prototype=r.fn,e.Velocity={Utilities:r}}}(window),function(e){"object"==typeof module&&"object"==typeof module.exports?module.exports=e():"function"==typeof define&&define.amd?define(e):e()}(function(){return function(e,t,r,a){function o(e){for(var t=-1,r=e?e.length:0,a=[];++t<r;){var o=e[t];o&&a.push(o)}return a}function i(e){return y.isWrapped(e)?e=[].slice.call(e):y.isNode(e)&&(e=[e]),e}function n(e){var t=f.data(e,"velocity");return null===t?a:t}function s(e){return function(t){return Math.round(t*e)*(1/e)}}function l(e,r,a,o){function i(e,t){return 1-3*t+3*e}function n(e,t){return 3*t-6*e}function s(e){return 3*e}function l(e,t,r){return((i(t,r)*e+n(t,r))*e+s(t))*e}function u(e,t,r){return 3*i(t,r)*e*e+2*n(t,r)*e+s(t)}function c(t,r){for(var o=0;y>o;++o){var i=u(r,e,a);if(0===i)return r;var n=l(r,e,a)-t;r-=n/i}return r}function p(){for(var t=0;b>t;++t)w[t]=l(t*x,e,a)}function f(t,r,o){var i,n,s=0;do n=r+(o-r)/2,i=l(n,e,a)-t,i>0?o=n:r=n;while(Math.abs(i)>h&&++s<v);return n}function d(t){for(var r=0,o=1,i=b-1;o!=i&&w[o]<=t;++o)r+=x;--o;var n=(t-w[o])/(w[o+1]-w[o]),s=r+n*x,l=u(s,e,a);return l>=m?c(t,s):0==l?s:f(t,r,r+x)}function g(){V=!0,(e!=r||a!=o)&&p()}var y=4,m=.001,h=1e-7,v=10,b=11,x=1/(b-1),S="Float32Array"in t;if(4!==arguments.length)return!1;for(var P=0;4>P;++P)if("number"!=typeof arguments[P]||isNaN(arguments[P])||!isFinite(arguments[P]))return!1;e=Math.min(e,1),a=Math.min(a,1),e=Math.max(e,0),a=Math.max(a,0);var w=S?new Float32Array(b):new Array(b),V=!1,C=function(t){return V||g(),e===r&&a===o?t:0===t?0:1===t?1:l(d(t),r,o)};C.getControlPoints=function(){return[{x:e,y:r},{x:a,y:o}]};var T="generateBezier("+[e,r,a,o]+")";return C.toString=function(){return T},C}function u(e,t){var r=e;return y.isString(e)?b.Easings[e]||(r=!1):r=y.isArray(e)&&1===e.length?s.apply(null,e):y.isArray(e)&&2===e.length?x.apply(null,e.concat([t])):!(!y.isArray(e)||4!==e.length)&&l.apply(null,e),r===!1&&(r=b.Easings[b.defaults.easing]?b.defaults.easing:v),r}function c(e){if(e){var t=(new Date).getTime(),r=b.State.calls.length;r>1e4&&(b.State.calls=o(b.State.calls));for(var i=0;r>i;i++)if(b.State.calls[i]){var s=b.State.calls[i],l=s[0],u=s[2],d=s[3],g=!!d,m=null;d||(d=b.State.calls[i][3]=t-16);for(var h=Math.min((t-d)/u.duration,1),v=0,x=l.length;x>v;v++){var P=l[v],V=P.element;if(n(V)){var C=!1;if(u.display!==a&&null!==u.display&&"none"!==u.display){if("flex"===u.display){var T=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];f.each(T,function(e,t){S.setPropertyValue(V,"display",t)})}S.setPropertyValue(V,"display",u.display)}u.visibility!==a&&"hidden"!==u.visibility&&S.setPropertyValue(V,"visibility",u.visibility);for(var k in P)if("element"!==k){var A,F=P[k],E=y.isString(F.easing)?b.Easings[F.easing]:F.easing;if(1===h)A=F.endValue;else{var j=F.endValue-F.startValue;if(A=F.startValue+j*E(h,u,j),!g&&A===F.currentValue)continue}if(F.currentValue=A,"tween"===k)m=A;else{if(S.Hooks.registered[k]){var H=S.Hooks.getRoot(k),N=n(V).rootPropertyValueCache[H];N&&(F.rootPropertyValue=N)}var L=S.setPropertyValue(V,k,F.currentValue+(0===parseFloat(A)?"":F.unitType),F.rootPropertyValue,F.scrollData);S.Hooks.registered[k]&&(n(V).rootPropertyValueCache[H]=S.Normalizations.registered[H]?S.Normalizations.registered[H]("extract",null,L[1]):L[1]),"transform"===L[0]&&(C=!0)}}u.mobileHA&&n(V).transformCache.translate3d===a&&(n(V).transformCache.translate3d="(0px, 0px, 0px)",C=!0),C&&S.flushTransformCache(V)}}u.display!==a&&"none"!==u.display&&(b.State.calls[i][2].display=!1),u.visibility!==a&&"hidden"!==u.visibility&&(b.State.calls[i][2].visibility=!1),u.progress&&u.progress.call(s[1],s[1],h,Math.max(0,d+u.duration-t),d,m),1===h&&p(i)}}b.State.isTicking&&w(c)}function p(e,t){if(!b.State.calls[e])return!1;for(var r=b.State.calls[e][0],o=b.State.calls[e][1],i=b.State.calls[e][2],s=b.State.calls[e][4],l=!1,u=0,c=r.length;c>u;u++){var p=r[u].element;if(t||i.loop||("none"===i.display&&S.setPropertyValue(p,"display",i.display),"hidden"===i.visibility&&S.setPropertyValue(p,"visibility",i.visibility)),i.loop!==!0&&(f.queue(p)[1]===a||!/\.velocityQueueEntryFlag/i.test(f.queue(p)[1]))&&n(p)){n(p).isAnimating=!1,n(p).rootPropertyValueCache={};var d=!1;f.each(S.Lists.transforms3D,function(e,t){var r=/^scale/.test(t)?1:0,o=n(p).transformCache[t];n(p).transformCache[t]!==a&&new RegExp("^\\("+r+"[^.]").test(o)&&(d=!0,delete n(p).transformCache[t])}),i.mobileHA&&(d=!0,delete n(p).transformCache.translate3d),d&&S.flushTransformCache(p),S.Values.removeClass(p,"velocity-animating")}if(!t&&i.complete&&!i.loop&&u===c-1)try{i.complete.call(o,o)}catch(g){setTimeout(function(){throw g},1)}s&&i.loop!==!0&&s(o),n(p)&&i.loop===!0&&!t&&(f.each(n(p).tweensContainer,function(e,t){/^rotate/.test(e)&&360===parseFloat(t.endValue)&&(t.endValue=0,t.startValue=360),/^backgroundPosition/.test(e)&&100===parseFloat(t.endValue)&&"%"===t.unitType&&(t.endValue=0,t.startValue=100)}),b(p,"reverse",{loop:!0,delay:i.delay})),i.queue!==!1&&f.dequeue(p,i.queue)}b.State.calls[e]=!1;for(var y=0,m=b.State.calls.length;m>y;y++)if(b.State.calls[y]!==!1){l=!0;break}l===!1&&(b.State.isTicking=!1,delete b.State.calls,b.State.calls=[])}var f,d=function(){if(r.documentMode)return r.documentMode;for(var e=7;e>4;e--){var t=r.createElement("div");if(t.innerHTML="<!--[if IE "+e+"]><span></span><![endif]-->",t.getElementsByTagName("span").length)return t=null,e}return a}(),g=function(){var e=0;return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(t){var r,a=(new Date).getTime();return r=Math.max(0,16-(a-e)),e=a+r,setTimeout(function(){t(a+r)},r)}}(),y={isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isNodeList:function(e){return"object"==typeof e&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(e))&&e.length!==a&&(0===e.length||"object"==typeof e[0]&&e[0].nodeType>0)},isWrapped:function(e){return e&&(e.jquery||t.Zepto&&t.Zepto.zepto.isZ(e))},isSVG:function(e){return t.SVGElement&&e instanceof t.SVGElement},isEmptyObject:function(e){for(var t in e)return!1;return!0}},m=!1;if(e.fn&&e.fn.jquery?(f=e,m=!0):f=t.Velocity.Utilities,8>=d&&!m)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=d)return void(jQuery.fn.velocity=jQuery.fn.animate);var h=400,v="swing",b={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:t.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:r.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:f,Redirects:{},Easings:{},Promise:t.Promise,defaults:{queue:"",duration:h,easing:v,begin:a,complete:a,progress:a,display:a,visibility:a,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(e){f.data(e,"velocity",{isSVG:y.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:2},debug:!1};t.pageYOffset!==a?(b.State.scrollAnchor=t,b.State.scrollPropertyLeft="pageXOffset",b.State.scrollPropertyTop="pageYOffset"):(b.State.scrollAnchor=r.documentElement||r.body.parentNode||r.body,b.State.scrollPropertyLeft="scrollLeft",b.State.scrollPropertyTop="scrollTop");var x=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,r,a){var o={x:t.x+a.dx*r,v:t.v+a.dv*r,tension:t.tension,friction:t.friction};return{dx:o.v,dv:e(o)}}function r(r,a){var o={dx:r.v,dv:e(r)},i=t(r,.5*a,o),n=t(r,.5*a,i),s=t(r,a,n),l=1/6*(o.dx+2*(i.dx+n.dx)+s.dx),u=1/6*(o.dv+2*(i.dv+n.dv)+s.dv);return r.x=r.x+l*a,r.v=r.v+u*a,r}return function a(e,t,o){var i,n,s,l={x:-1,v:0,tension:null,friction:null},u=[0],c=0,p=1e-4,f=.016;for(e=parseFloat(e)||500,t=parseFloat(t)||20,o=o||null,l.tension=e,l.friction=t,i=null!==o,i?(c=a(e,t),n=c/o*f):n=f;s=r(s||l,n),u.push(1+s.x),c+=16,Math.abs(s.x)>p&&Math.abs(s.v)>p;);return i?function(e){return u[e*(u.length-1)|0]}:c}}();b.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},f.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(e,t){b.Easings[t[0]]=l.apply(null,t[1])});var S=b.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e=0;e<S.Lists.colors.length;e++){var t="color"===S.Lists.colors[e]?"0 0 0 1":"255 255 255 1";S.Hooks.templates[S.Lists.colors[e]]=["Red Green Blue Alpha",t]}var r,a,o;if(d)for(r in S.Hooks.templates){a=S.Hooks.templates[r],o=a[0].split(" ");var i=a[1].match(S.RegEx.valueSplit);"Color"===o[0]&&(o.push(o.shift()),i.push(i.shift()),S.Hooks.templates[r]=[o.join(" "),i.join(" ")])}for(r in S.Hooks.templates){a=S.Hooks.templates[r],o=a[0].split(" ");for(var e in o){var n=r+o[e],s=e;S.Hooks.registered[n]=[r,s]}}},getRoot:function(e){var t=S.Hooks.registered[e];return t?t[0]:e},cleanRootPropertyValue:function(e,t){return S.RegEx.valueUnwrap.test(t)&&(t=t.match(S.RegEx.valueUnwrap)[1]),S.Values.isCSSNullValue(t)&&(t=S.Hooks.templates[e][1]),t},extractValue:function(e,t){var r=S.Hooks.registered[e];if(r){var a=r[0],o=r[1];return t=S.Hooks.cleanRootPropertyValue(a,t),t.toString().match(S.RegEx.valueSplit)[o]}return t},injectValue:function(e,t,r){var a=S.Hooks.registered[e];if(a){var o,i,n=a[0],s=a[1];return r=S.Hooks.cleanRootPropertyValue(n,r),o=r.toString().match(S.RegEx.valueSplit),o[s]=t,i=o.join(" ")}return r}},Normalizations:{registered:{clip:function(e,t,r){switch(e){case"name":return"clip";case"extract":var a;return S.RegEx.wrappedValueAlreadyExtracted.test(r)?a=r:(a=r.toString().match(S.RegEx.valueUnwrap),a=a?a[1].replace(/,(\s+)?/g," "):r),a;case"inject":return"rect("+r+")"}},blur:function(e,t,r){switch(e){case"name":return b.State.isFirefox?"filter":"-webkit-filter";case"extract":var a=parseFloat(r);if(!a&&0!==a){var o=r.toString().match(/blur\(([0-9]+[A-z]+)\)/i);a=o?o[1]:0}return a;case"inject":return parseFloat(r)?"blur("+r+")":"none"}},opacity:function(e,t,r){if(8>=d)switch(e){case"name":return"filter";case"extract":var a=r.toString().match(/alpha\(opacity=(.*)\)/i);return r=a?a[1]/100:1;case"inject":return t.style.zoom=1,parseFloat(r)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(r),10)+")"}else switch(e){case"name":return"opacity";case"extract":return r;case"inject":return r}}},register:function(){9>=d||b.State.isGingerbread||(S.Lists.transformsBase=S.Lists.transformsBase.concat(S.Lists.transforms3D));for(var e=0;e<S.Lists.transformsBase.length;e++)!function(){var t=S.Lists.transformsBase[e];S.Normalizations.registered[t]=function(e,r,o){switch(e){case"name":return"transform";case"extract":return n(r)===a||n(r).transformCache[t]===a?/^scale/i.test(t)?1:0:n(r).transformCache[t].replace(/[()]/g,"");case"inject":var i=!1;switch(t.substr(0,t.length-1)){case"translate":i=!/(%|px|em|rem|vw|vh|\d)$/i.test(o);break;case"scal":case"scale":b.State.isAndroid&&n(r).transformCache[t]===a&&1>o&&(o=1),i=!/(\d)$/i.test(o);break;case"skew":i=!/(deg|\d)$/i.test(o);break;case"rotate":i=!/(deg|\d)$/i.test(o)}return i||(n(r).transformCache[t]="("+o+")"),n(r).transformCache[t]}}}();for(var e=0;e<S.Lists.colors.length;e++)!function(){var t=S.Lists.colors[e];S.Normalizations.registered[t]=function(e,r,o){switch(e){case"name":return t;case"extract":var i;if(S.RegEx.wrappedValueAlreadyExtracted.test(o))i=o;else{var n,s={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(o)?n=s[o]!==a?s[o]:s.black:S.RegEx.isHex.test(o)?n="rgb("+S.Values.hexToRgb(o).join(" ")+")":/^rgba?\(/i.test(o)||(n=s.black),i=(n||o).toString().match(S.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=d||3!==i.split(" ").length||(i+=" 1"),i;case"inject":return 8>=d?4===o.split(" ").length&&(o=o.split(/\s+/).slice(0,3).join(" ")):3===o.split(" ").length&&(o+=" 1"),(8>=d?"rgb":"rgba")+"("+o.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(d||b.State.isAndroid&&!b.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(b.State.prefixMatches[e])return[b.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],r=0,a=t.length;a>r;r++){var o;if(o=0===r?e:t[r]+e.replace(/^\w/,function(e){return e.toUpperCase()}),y.isString(b.State.prefixElement.style[o]))return b.State.prefixMatches[e]=o,[o,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t,r=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return e=e.replace(r,function(e,t,r,a){return t+t+r+r+a+a}),t=a.exec(e),t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return 0==e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":/^(table)$/i.test(t)?"table":/^(tbody)$/i.test(t)?"table-row-group":"block"},addClass:function(e,t){e.classList?e.classList.add(t):e.className+=(e.className.length?" ":"")+t},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(e,r,o,i){function s(e,r){function o(){u&&S.setPropertyValue(e,"display","none")}var l=0;if(8>=d)l=f.css(e,r);else{var u=!1;if(/^(width|height)$/.test(r)&&0===S.getPropertyValue(e,"display")&&(u=!0,S.setPropertyValue(e,"display",S.Values.getDisplayType(e))),!i){if("height"===r&&"border-box"!==S.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var c=e.offsetHeight-(parseFloat(S.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(S.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(S.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(S.getPropertyValue(e,"paddingBottom"))||0);return o(),c}if("width"===r&&"border-box"!==S.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var p=e.offsetWidth-(parseFloat(S.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(S.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(S.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(S.getPropertyValue(e,"paddingRight"))||0);return o(),p}}var g;g=n(e)===a?t.getComputedStyle(e,null):n(e).computedStyle?n(e).computedStyle:n(e).computedStyle=t.getComputedStyle(e,null),"borderColor"===r&&(r="borderTopColor"),l=9===d&&"filter"===r?g.getPropertyValue(r):g[r],(""===l||null===l)&&(l=e.style[r]),o()}if("auto"===l&&/^(top|right|bottom|left)$/i.test(r)){var y=s(e,"position");("fixed"===y||"absolute"===y&&/top|left/i.test(r))&&(l=f(e).position()[r]+"px")}return l}var l;if(S.Hooks.registered[r]){var u=r,c=S.Hooks.getRoot(u);o===a&&(o=S.getPropertyValue(e,S.Names.prefixCheck(c)[0])),S.Normalizations.registered[c]&&(o=S.Normalizations.registered[c]("extract",e,o)),l=S.Hooks.extractValue(u,o)}else if(S.Normalizations.registered[r]){var p,g;p=S.Normalizations.registered[r]("name",e),"transform"!==p&&(g=s(e,S.Names.prefixCheck(p)[0]),S.Values.isCSSNullValue(g)&&S.Hooks.templates[r]&&(g=S.Hooks.templates[r][1])),l=S.Normalizations.registered[r]("extract",e,g)}if(!/^[\d-]/.test(l))if(n(e)&&n(e).isSVG&&S.Names.SVGAttribute(r))if(/^(height|width)$/i.test(r))try{l=e.getBBox()[r]}catch(y){l=0}else l=e.getAttribute(r);else l=s(e,S.Names.prefixCheck(r)[0]);return S.Values.isCSSNullValue(l)&&(l=0),b.debug>=2&&console.log("Get "+r+": "+l),l},setPropertyValue:function(e,r,a,o,i){var s=r;if("scroll"===r)i.container?i.container["scroll"+i.direction]=a:"Left"===i.direction?t.scrollTo(a,i.alternateValue):t.scrollTo(i.alternateValue,a);else if(S.Normalizations.registered[r]&&"transform"===S.Normalizations.registered[r]("name",e))S.Normalizations.registered[r]("inject",e,a),s="transform",a=n(e).transformCache[r];else{if(S.Hooks.registered[r]){var l=r,u=S.Hooks.getRoot(r);o=o||S.getPropertyValue(e,u),a=S.Hooks.injectValue(l,a,o),r=u}if(S.Normalizations.registered[r]&&(a=S.Normalizations.registered[r]("inject",e,a),r=S.Normalizations.registered[r]("name",e)),s=S.Names.prefixCheck(r)[0],8>=d)try{e.style[s]=a}catch(c){b.debug&&console.log("Browser does not support ["+a+"] for ["+s+"]")}else n(e)&&n(e).isSVG&&S.Names.SVGAttribute(r)?e.setAttribute(r,a):e.style[s]=a;b.debug>=2&&console.log("Set "+r+" ("+s+"): "+a)}return[s,a]},flushTransformCache:function(e){function t(t){return parseFloat(S.getPropertyValue(e,t))}var r="";if((d||b.State.isAndroid&&!b.State.isChrome)&&n(e).isSVG){var a={translate:[t("translateX"),t("translateY")],skewX:[t("skewX")],skewY:[t("skewY")],scale:1!==t("scale")?[t("scale"),t("scale")]:[t("scaleX"),t("scaleY")],rotate:[t("rotateZ"),0,0]};f.each(n(e).transformCache,function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),a[e]&&(r+=e+"("+a[e].join(" ")+") ",delete a[e])})}else{var o,i;f.each(n(e).transformCache,function(t){return o=n(e).transformCache[t],"transformPerspective"===t?(i=o,!0):(9===d&&"rotateZ"===t&&(t="rotate"),void(r+=t+o+" "))}),i&&(r="perspective"+i+" "+r)}S.setPropertyValue(e,"transform",r)}};S.Hooks.register(),S.Normalizations.register(),b.hook=function(e,t,r){var o=a;return e=i(e),f.each(e,function(e,i){if(n(i)===a&&b.init(i),r===a)o===a&&(o=b.CSS.getPropertyValue(i,t));else{var s=b.CSS.setPropertyValue(i,t,r);"transform"===s[0]&&b.CSS.flushTransformCache(i),o=s}}),o};var P=function(){function e(){return s?k.promise||null:l}function o(){function e(){function e(e,t){var r=a,o=a,n=a;return y.isArray(e)?(r=e[0],!y.isArray(e[1])&&/^[\d-]/.test(e[1])||y.isFunction(e[1])||S.RegEx.isHex.test(e[1])?n=e[1]:(y.isString(e[1])&&!S.RegEx.isHex.test(e[1])||y.isArray(e[1]))&&(o=t?e[1]:u(e[1],s.duration),e[2]!==a&&(n=e[2]))):r=e,t||(o=o||s.easing),y.isFunction(r)&&(r=r.call(i,V,w)),y.isFunction(n)&&(n=n.call(i,V,w)),[r||0,o,n]}function p(e,t){var r,a;return a=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(e){return r=e,""}),r||(r=S.Values.getUnitType(e)),[a,r]}function d(){var e={myParent:i.parentNode||r.body,position:S.getPropertyValue(i,"position"),fontSize:S.getPropertyValue(i,"fontSize")},a=e.position===L.lastPosition&&e.myParent===L.lastParent,o=e.fontSize===L.lastFontSize;L.lastParent=e.myParent,L.lastPosition=e.position,L.lastFontSize=e.fontSize;var s=100,l={};if(o&&a)l.emToPx=L.lastEmToPx,l.percentToPxWidth=L.lastPercentToPxWidth,l.percentToPxHeight=L.lastPercentToPxHeight;else{var u=n(i).isSVG?r.createElementNS("http://www.w3.org/2000/svg","rect"):r.createElement("div");b.init(u),e.myParent.appendChild(u),f.each(["overflow","overflowX","overflowY"],function(e,t){b.CSS.setPropertyValue(u,t,"hidden")}),b.CSS.setPropertyValue(u,"position",e.position),b.CSS.setPropertyValue(u,"fontSize",e.fontSize),b.CSS.setPropertyValue(u,"boxSizing","content-box"),f.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(e,t){b.CSS.setPropertyValue(u,t,s+"%")}),b.CSS.setPropertyValue(u,"paddingLeft",s+"em"),l.percentToPxWidth=L.lastPercentToPxWidth=(parseFloat(S.getPropertyValue(u,"width",null,!0))||1)/s,l.percentToPxHeight=L.lastPercentToPxHeight=(parseFloat(S.getPropertyValue(u,"height",null,!0))||1)/s,l.emToPx=L.lastEmToPx=(parseFloat(S.getPropertyValue(u,"paddingLeft"))||1)/s,e.myParent.removeChild(u)}return null===L.remToPx&&(L.remToPx=parseFloat(S.getPropertyValue(r.body,"fontSize"))||16),null===L.vwToPx&&(L.vwToPx=parseFloat(t.innerWidth)/100,L.vhToPx=parseFloat(t.innerHeight)/100),l.remToPx=L.remToPx,l.vwToPx=L.vwToPx,l.vhToPx=L.vhToPx,b.debug>=1&&console.log("Unit ratios: "+JSON.stringify(l),i),l}if(s.begin&&0===V)try{s.begin.call(g,g)}catch(h){setTimeout(function(){throw h},1)}if("scroll"===A){var x,P,C,T=/^x$/i.test(s.axis)?"Left":"Top",F=parseFloat(s.offset)||0;s.container?y.isWrapped(s.container)||y.isNode(s.container)?(s.container=s.container[0]||s.container,x=s.container["scroll"+T],C=x+f(i).position()[T.toLowerCase()]+F):s.container=null:(x=b.State.scrollAnchor[b.State["scrollProperty"+T]],P=b.State.scrollAnchor[b.State["scrollProperty"+("Left"===T?"Top":"Left")]],C=f(i).offset()[T.toLowerCase()]+F),l={scroll:{rootPropertyValue:!1,startValue:x,currentValue:x,endValue:C,unitType:"",easing:s.easing,scrollData:{container:s.container,direction:T,alternateValue:P}},element:i},b.debug&&console.log("tweensContainer (scroll): ",l.scroll,i)}else if("reverse"===A){if(!n(i).tweensContainer)return void f.dequeue(i,s.queue);"none"===n(i).opts.display&&(n(i).opts.display="auto"),"hidden"===n(i).opts.visibility&&(n(i).opts.visibility="visible"),n(i).opts.loop=!1,n(i).opts.begin=null,n(i).opts.complete=null,v.easing||delete s.easing,v.duration||delete s.duration,s=f.extend({},n(i).opts,s);var E=f.extend(!0,{},n(i).tweensContainer);for(var j in E)if("element"!==j){var H=E[j].startValue;E[j].startValue=E[j].currentValue=E[j].endValue,E[j].endValue=H,y.isEmptyObject(v)||(E[j].easing=s.easing),b.debug&&console.log("reverse tweensContainer ("+j+"): "+JSON.stringify(E[j]),i)}l=E}else if("start"===A){var E;n(i).tweensContainer&&n(i).isAnimating===!0&&(E=n(i).tweensContainer),f.each(m,function(t,r){if(RegExp("^"+S.Lists.colors.join("$|^")+"$").test(t)){var o=e(r,!0),i=o[0],n=o[1],s=o[2];if(S.RegEx.isHex.test(i)){for(var l=["Red","Green","Blue"],u=S.Values.hexToRgb(i),c=s?S.Values.hexToRgb(s):a,p=0;p<l.length;p++){var f=[u[p]];n&&f.push(n),c!==a&&f.push(c[p]),m[t+l[p]]=f}delete m[t]}}});for(var N in m){var O=e(m[N]),z=O[0],q=O[1],$=O[2];N=S.Names.camelCase(N);var M=S.Hooks.getRoot(N),I=!1;if(n(i).isSVG||"tween"===M||S.Names.prefixCheck(M)[1]!==!1||S.Normalizations.registered[M]!==a){(s.display!==a&&null!==s.display&&"none"!==s.display||s.visibility!==a&&"hidden"!==s.visibility)&&/opacity|filter/.test(N)&&!$&&0!==z&&($=0),s._cacheValues&&E&&E[N]?($===a&&($=E[N].endValue+E[N].unitType),I=n(i).rootPropertyValueCache[M]):S.Hooks.registered[N]?$===a?(I=S.getPropertyValue(i,M),$=S.getPropertyValue(i,N,I)):I=S.Hooks.templates[M][1]:$===a&&($=S.getPropertyValue(i,N));var B,W,G,D=!1;if(B=p(N,$),$=B[0],G=B[1],B=p(N,z),z=B[0].replace(/^([+-\/*])=/,function(e,t){return D=t,""}),W=B[1],$=parseFloat($)||0,z=parseFloat(z)||0,"%"===W&&(/^(fontSize|lineHeight)$/.test(N)?(z/=100,W="em"):/^scale/.test(N)?(z/=100,W=""):/(Red|Green|Blue)$/i.test(N)&&(z=z/100*255,W="")),/[\/*]/.test(D))W=G;else if(G!==W&&0!==$)if(0===z)W=G;else{o=o||d();var X=/margin|padding|left|right|width|text|word|letter/i.test(N)||/X$/.test(N)||"x"===N?"x":"y";switch(G){case"%":$*="x"===X?o.percentToPxWidth:o.percentToPxHeight;break;case"px":break;default:$*=o[G+"ToPx"]}switch(W){case"%":$*=1/("x"===X?o.percentToPxWidth:o.percentToPxHeight);break;case"px":break;default:$*=1/o[W+"ToPx"]}}switch(D){case"+":z=$+z;break;case"-":z=$-z;break;case"*":z=$*z;break;case"/":z=$/z}l[N]={rootPropertyValue:I,startValue:$,currentValue:$,endValue:z,unitType:W,easing:q},b.debug&&console.log("tweensContainer ("+N+"): "+JSON.stringify(l[N]),i)}else b.debug&&console.log("Skipping ["+M+"] due to a lack of browser support.")}l.element=i}l.element&&(S.Values.addClass(i,"velocity-animating"),R.push(l),""===s.queue&&(n(i).tweensContainer=l,n(i).opts=s),n(i).isAnimating=!0,V===w-1?(b.State.calls.push([R,g,s,null,k.resolver]),b.State.isTicking===!1&&(b.State.isTicking=!0,c())):V++)}var o,i=this,s=f.extend({},b.defaults,v),l={};switch(n(i)===a&&b.init(i),parseFloat(s.delay)&&s.queue!==!1&&f.queue(i,s.queue,function(e){b.velocityQueueEntryFlag=!0,n(i).delayTimer={setTimeout:setTimeout(e,parseFloat(s.delay)),next:e}}),s.duration.toString().toLowerCase()){case"fast":s.duration=200;break;case"normal":s.duration=h;break;case"slow":s.duration=600;break;default:s.duration=parseFloat(s.duration)||1}b.mock!==!1&&(b.mock===!0?s.duration=s.delay=1:(s.duration*=parseFloat(b.mock)||1,s.delay*=parseFloat(b.mock)||1)),s.easing=u(s.easing,s.duration),s.begin&&!y.isFunction(s.begin)&&(s.begin=null),s.progress&&!y.isFunction(s.progress)&&(s.progress=null),s.complete&&!y.isFunction(s.complete)&&(s.complete=null),s.display!==a&&null!==s.display&&(s.display=s.display.toString().toLowerCase(),"auto"===s.display&&(s.display=b.CSS.Values.getDisplayType(i))),s.visibility!==a&&null!==s.visibility&&(s.visibility=s.visibility.toString().toLowerCase()),s.mobileHA=s.mobileHA&&b.State.isMobile&&!b.State.isGingerbread,s.queue===!1?s.delay?setTimeout(e,s.delay):e():f.queue(i,s.queue,function(t,r){return r===!0?(k.promise&&k.resolver(g),!0):(b.velocityQueueEntryFlag=!0,void e(t))}),""!==s.queue&&"fx"!==s.queue||"inprogress"===f.queue(i)[0]||f.dequeue(i)}var s,l,d,g,m,v,x=arguments[0]&&(arguments[0].p||f.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||y.isString(arguments[0].properties));if(y.isWrapped(this)?(s=!1,d=0,g=this,l=this):(s=!0,d=1,g=x?arguments[0].elements||arguments[0].e:arguments[0]),g=i(g)){x?(m=arguments[0].properties||arguments[0].p,v=arguments[0].options||arguments[0].o):(m=arguments[d],v=arguments[d+1]);var w=g.length,V=0;if(!/^(stop|finish|finishAll)$/i.test(m)&&!f.isPlainObject(v)){var C=d+1;v={};for(var T=C;T<arguments.length;T++)y.isArray(arguments[T])||!/^(fast|normal|slow)$/i.test(arguments[T])&&!/^\d/.test(arguments[T])?y.isString(arguments[T])||y.isArray(arguments[T])?v.easing=arguments[T]:y.isFunction(arguments[T])&&(v.complete=arguments[T]):v.duration=arguments[T]}var k={promise:null,resolver:null,rejecter:null};s&&b.Promise&&(k.promise=new b.Promise(function(e,t){k.resolver=e,k.rejecter=t}));var A;switch(m){case"scroll":A="scroll";break;case"reverse":A="reverse";break;case"finish":case"finishAll":case"stop":f.each(g,function(e,t){n(t)&&n(t).delayTimer&&(clearTimeout(n(t).delayTimer.setTimeout),n(t).delayTimer.next&&n(t).delayTimer.next(),delete n(t).delayTimer),"finishAll"!==m||v!==!0&&!y.isString(v)||(f.each(f.queue(t,y.isString(v)?v:""),function(e,t){y.isFunction(t)&&t()}),f.queue(t,y.isString(v)?v:"",[]))});var F=[];return f.each(b.State.calls,function(e,t){t&&f.each(t[1],function(r,o){var i=v===a?"":v;return i!==!0&&t[2].queue!==i&&(v!==a||t[2].queue!==!1)||void f.each(g,function(r,a){a===o&&((v===!0||y.isString(v))&&(f.each(f.queue(a,y.isString(v)?v:""),function(e,t){
			y.isFunction(t)&&t(null,!0)}),f.queue(a,y.isString(v)?v:"",[])),"stop"===m?(n(a)&&n(a).tweensContainer&&i!==!1&&f.each(n(a).tweensContainer,function(e,t){t.endValue=t.currentValue}),F.push(e)):("finish"===m||"finishAll"===m)&&(t[2].duration=1))})})}),"stop"===m&&(f.each(F,function(e,t){p(t,!0)}),k.promise&&k.resolver(g)),e();default:if(!f.isPlainObject(m)||y.isEmptyObject(m)){if(y.isString(m)&&b.Redirects[m]){var E=f.extend({},v),j=E.duration,H=E.delay||0;return E.backwards===!0&&(g=f.extend(!0,[],g).reverse()),f.each(g,function(e,t){parseFloat(E.stagger)?E.delay=H+parseFloat(E.stagger)*e:y.isFunction(E.stagger)&&(E.delay=H+E.stagger.call(t,e,w)),E.drag&&(E.duration=parseFloat(j)||(/^(callout|transition)/.test(m)?1e3:h),E.duration=Math.max(E.duration*(E.backwards?1-e/w:(e+1)/w),.75*E.duration,200)),b.Redirects[m].call(t,t,E||{},e,w,g,k.promise?k:a)}),e()}var N="Velocity: First argument ("+m+") was not a property map, a known action, or a registered redirect. Aborting.";return k.promise?k.rejecter(new Error(N)):console.log(N),e()}A="start"}var L={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},R=[];f.each(g,function(e,t){y.isNode(t)&&o.call(t)});var O,E=f.extend({},b.defaults,v);if(E.loop=parseInt(E.loop),O=2*E.loop-1,E.loop)for(var z=0;O>z;z++){var q={delay:E.delay,progress:E.progress};z===O-1&&(q.display=E.display,q.visibility=E.visibility,q.complete=E.complete),P(g,"reverse",q)}return e()}};b=f.extend(P,b),b.animate=P;var w=t.requestAnimationFrame||g;return b.State.isMobile||r.hidden===a||r.addEventListener("visibilitychange",function(){r.hidden?(w=function(e){return setTimeout(function(){e(!0)},16)},c()):w=t.requestAnimationFrame||g}),e.Velocity=b,e!==t&&(e.fn.velocity=P,e.fn.velocity.defaults=b.defaults),f.each(["Down","Up"],function(e,t){b.Redirects["slide"+t]=function(e,r,o,i,n,s){var l=f.extend({},r),u=l.begin,c=l.complete,p={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},d={};l.display===a&&(l.display="Down"===t?"inline"===b.CSS.Values.getDisplayType(e)?"inline-block":"block":"none"),l.begin=function(){u&&u.call(n,n);for(var r in p){d[r]=e.style[r];var a=b.CSS.getPropertyValue(e,r);p[r]="Down"===t?[a,0]:[0,a]}d.overflow=e.style.overflow,e.style.overflow="hidden"},l.complete=function(){for(var t in d)e.style[t]=d[t];c&&c.call(n,n),s&&s.resolver(n)},b(e,p,l)}}),f.each(["In","Out"],function(e,t){b.Redirects["fade"+t]=function(e,r,o,i,n,s){var l=f.extend({},r),u={opacity:"In"===t?1:0},c=l.complete;l.complete=o!==i-1?l.begin=null:function(){c&&c.call(n,n),s&&s.resolver(n)},l.display===a&&(l.display="In"===t?"auto":"none"),b(this,u,l)}}),b}(window.jQuery||window.Zepto||window,window,document)});
			!function(t){"function"==typeof require&&"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(["velocity"],t):t()}(function(){return function(t,a,e,r){function n(t,a){var e=[];return!(!t||!a)&&(s.each([t,a],function(t,a){var r=[];s.each(a,function(t,a){for(;a.toString().length<5;)a="0"+a;r.push(a)}),e.push(r.join(""))}),parseFloat(e[0])>parseFloat(e[1]))}if(!t.Velocity||!t.Velocity.Utilities)return void(a.console&&console.log("Velocity UI Pack: Velocity must be loaded first. Aborting."));var i=t.Velocity,s=i.Utilities,o=i.version,l={major:1,minor:1,patch:0};if(n(l,o)){var c="Velocity UI Pack: You need to update Velocity (jquery.velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity.";throw alert(c),new Error(c)}i.RegisterEffect=i.RegisterUI=function(t,a){function e(t,a,e,r){var n,o=0;s.each(t.nodeType?[t]:t,function(t,a){r&&(e+=t*r),n=a.parentNode,s.each(["height","paddingTop","paddingBottom","marginTop","marginBottom"],function(t,e){o+=parseFloat(i.CSS.getPropertyValue(a,e))})}),i.animate(n,{height:("In"===a?"+":"-")+"="+o},{queue:!1,easing:"ease-in-out",duration:e*("In"===a?.6:1)})}return i.Redirects[t]=function(n,o,l,c,u,f){function p(){o.display!==r&&"none"!==o.display||!/Out$/.test(t)||s.each(u.nodeType?[u]:u,function(t,a){i.CSS.setPropertyValue(a,"display","none")}),o.complete&&o.complete.call(u,u),f&&f.resolver(u||n)}var d=l===c-1;a.defaultDuration="function"==typeof a.defaultDuration?a.defaultDuration.call(u,u):parseFloat(a.defaultDuration);for(var g=0;g<a.calls.length;g++){var y=a.calls[g],m=y[0],X=o.duration||a.defaultDuration||1e3,Y=y[1],O=y[2]||{},v={};if(v.duration=X*(Y||1),v.queue=o.queue||"",v.easing=O.easing||"ease",v.delay=parseFloat(O.delay)||0,v._cacheValues=O._cacheValues||!0,0===g){if(v.delay+=parseFloat(o.delay)||0,0===l&&(v.begin=function(){o.begin&&o.begin.call(u,u);var a=t.match(/(In|Out)$/);a&&"In"===a[0]&&m.opacity!==r&&s.each(u.nodeType?[u]:u,function(t,a){i.CSS.setPropertyValue(a,"opacity",0)}),o.animateParentHeight&&a&&e(u,a[0],X+v.delay,o.stagger)}),null!==o.display)if(o.display!==r&&"none"!==o.display)v.display=o.display;else if(/In$/.test(t)){var D=i.CSS.Values.getDisplayType(n);v.display="inline"===D?"inline-block":D}o.visibility&&"hidden"!==o.visibility&&(v.visibility=o.visibility)}g===a.calls.length-1&&(v.complete=function(){if(a.reset){for(var t in a.reset){var e=a.reset[t];i.CSS.Hooks.registered[t]!==r||"string"!=typeof e&&"number"!=typeof e||(a.reset[t]=[a.reset[t],a.reset[t]])}var s={duration:0,queue:!1};d&&(s.complete=p),i.animate(n,a.reset,s)}else d&&p()},"hidden"===o.visibility&&(v.visibility=o.visibility)),i.animate(n,m,v)}},i},i.RegisterEffect.packagedEffects={"callout.bounce":{defaultDuration:550,calls:[[{translateY:-30},.25],[{translateY:0},.125],[{translateY:-15},.125],[{translateY:0},.25]]},"callout.shake":{defaultDuration:800,calls:[[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:0},.125]]},"callout.flash":{defaultDuration:1100,calls:[[{opacity:[0,"easeInOutQuad",1]},.25],[{opacity:[1,"easeInOutQuad"]},.25],[{opacity:[0,"easeInOutQuad"]},.25],[{opacity:[1,"easeInOutQuad"]},.25]]},"callout.pulse":{defaultDuration:825,calls:[[{scaleX:1.1,scaleY:1.1},.5,{easing:"easeInExpo"}],[{scaleX:1,scaleY:1},.5]]},"callout.swing":{defaultDuration:950,calls:[[{rotateZ:15},.2],[{rotateZ:-10},.2],[{rotateZ:5},.2],[{rotateZ:-5},.2],[{rotateZ:0},.2]]},"callout.tada":{defaultDuration:1e3,calls:[[{scaleX:.9,scaleY:.9,rotateZ:-3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:-3},.1],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],[{scaleX:1,scaleY:1,rotateZ:0},.2]]},"transition.fadeIn":{defaultDuration:500,calls:[[{opacity:[1,0]}]]},"transition.fadeOut":{defaultDuration:500,calls:[[{opacity:[0,1]}]]},"transition.flipXIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateY:[0,-55]}]],reset:{transformPerspective:0}},"transition.flipXOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateY:55}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipYIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateX:[0,-45]}]],reset:{transformPerspective:0}},"transition.flipYOut":{defaultDuration:800,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateX:25}]],reset:{transformPerspective:0,rotateX:0}},"transition.flipBounceXIn":{defaultDuration:900,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateY:[-10,90]},.5],[{opacity:.8,rotateY:10},.25],[{opacity:1,rotateY:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceXOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateY:-10},.5],[{opacity:0,rotateY:90},.5]],reset:{transformPerspective:0,rotateY:0}},"transition.flipBounceYIn":{defaultDuration:850,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateX:[-10,90]},.5],[{opacity:.8,rotateX:10},.25],[{opacity:1,rotateX:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceYOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateX:-15},.5],[{opacity:0,rotateX:90},.5]],reset:{transformPerspective:0,rotateX:0}},"transition.swoopIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["100%","50%"],transformOriginY:["100%","100%"],scaleX:[1,0],scaleY:[1,0],translateX:[0,-700],translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%"}},"transition.swoopOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformOriginX:["50%","100%"],transformOriginY:["100%","100%"],scaleX:0,scaleY:0,translateX:-700,translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%",scaleX:1,scaleY:1,translateX:0}},"transition.whirlIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,0],scaleY:[1,0],rotateY:[0,160]},1,{easing:"easeInOutSine"}]]},"transition.whirlOut":{defaultDuration:750,calls:[[{opacity:[0,"easeInOutQuint",1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:0,scaleY:0,rotateY:160},1,{easing:"swing"}]],reset:{scaleX:1,scaleY:1,rotateY:0}},"transition.shrinkIn":{defaultDuration:750,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,1.5],scaleY:[1,1.5],translateZ:0}]]},"transition.shrinkOut":{defaultDuration:600,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:1.3,scaleY:1.3,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.expandIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,.625],scaleY:[1,.625],translateZ:0}]]},"transition.expandOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:.5,scaleY:.5,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.bounceIn":{defaultDuration:800,calls:[[{opacity:[1,0],scaleX:[1.05,.3],scaleY:[1.05,.3]},.4],[{scaleX:.9,scaleY:.9,translateZ:0},.2],[{scaleX:1,scaleY:1},.5]]},"transition.bounceOut":{defaultDuration:800,calls:[[{scaleX:.95,scaleY:.95},.35],[{scaleX:1.1,scaleY:1.1,translateZ:0},.35],[{opacity:[0,1],scaleX:.3,scaleY:.3},.3]],reset:{scaleX:1,scaleY:1}},"transition.bounceUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[-30,1e3]},.6,{easing:"easeOutCirc"}],[{translateY:10},.2],[{translateY:0},.2]]},"transition.bounceUpOut":{defaultDuration:1e3,calls:[[{translateY:20},.2],[{opacity:[0,"easeInCirc",1],translateY:-1e3},.8]],reset:{translateY:0}},"transition.bounceDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[30,-1e3]},.6,{easing:"easeOutCirc"}],[{translateY:-10},.2],[{translateY:0},.2]]},"transition.bounceDownOut":{defaultDuration:1e3,calls:[[{translateY:-20},.2],[{opacity:[0,"easeInCirc",1],translateY:1e3},.8]],reset:{translateY:0}},"transition.bounceLeftIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[30,-1250]},.6,{easing:"easeOutCirc"}],[{translateX:-10},.2],[{translateX:0},.2]]},"transition.bounceLeftOut":{defaultDuration:750,calls:[[{translateX:30},.2],[{opacity:[0,"easeInCirc",1],translateX:-1250},.8]],reset:{translateX:0}},"transition.bounceRightIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[-30,1250]},.6,{easing:"easeOutCirc"}],[{translateX:10},.2],[{translateX:0},.2]]},"transition.bounceRightOut":{defaultDuration:750,calls:[[{translateX:-30},.2],[{opacity:[0,"easeInCirc",1],translateX:1250},.8]],reset:{translateX:0}},"transition.slideUpIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,20],translateZ:0}]]},"transition.slideUpOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:-20,translateZ:0}]],reset:{translateY:0}},"transition.slideDownIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,-20],translateZ:0}]]},"transition.slideDownOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:20,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,-20],translateZ:0}]]},"transition.slideLeftOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:-20,translateZ:0}]],reset:{translateX:0}},"transition.slideRightIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,20],translateZ:0}]]},"transition.slideRightOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:20,translateZ:0}]],reset:{translateX:0}},"transition.slideUpBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,75],translateZ:0}]]},"transition.slideUpBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:-75,translateZ:0}]],reset:{translateY:0}},"transition.slideDownBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,-75],translateZ:0}]]},"transition.slideDownBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:75,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,-75],translateZ:0}]]},"transition.slideLeftBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:-75,translateZ:0}]],reset:{translateX:0}},"transition.slideRightBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,75],translateZ:0}]]},"transition.slideRightBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:75,translateZ:0}]],reset:{translateX:0}},"transition.perspectiveUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveUpOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveDownOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveLeftIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveLeftOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}},"transition.perspectiveRightIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveRightOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}}};for(var u in i.RegisterEffect.packagedEffects)i.RegisterEffect(u,i.RegisterEffect.packagedEffects[u]);i.RunSequence=function(t){var a=s.extend(!0,[],t);a.length>1&&(s.each(a.reverse(),function(t,e){var r=a[t+1];if(r){var n=e.o||e.options,o=r.o||r.options,l=n&&n.sequenceQueue===!1?"begin":"complete",c=o&&o[l],u={};u[l]=function(){var t=r.e||r.elements,a=t.nodeType?[t]:t;c&&c.call(a,a),i(e)},r.o?r.o=s.extend({},o,u):r.options=s.extend({},o,u)}}),a.reverse()),i(a[0])}}(window.jQuery||window.Zepto||window,window,document)});
				!function(t,i){window.Cart={init:function(){i.bindAll(this,"updatePartials","setShippingMethod","updateTotals","check_quantity_field","recalculate_item","remove_item","getProductDataLayer","generateProductsDataLayer","checkout"),this.$shippingOptionsContainer=t("#shipping_options_container"),this.$cartTotalsContainer=t("#cart_totals_container"),this.$shippingOptionInputs=t(".shipping_options__input"),this.$checkoutButton=t(".cart__button"),this.$products=t(".product_items__item"),this.$checkoutButton.on("click",this.checkout),t("#shipping_options_container").delegate(".shipping_options__input","click",this.setShippingMethod),this.programaticShippingClick=!0,this.$shippingOptionInputs.first().click(),this.isActing=!1,Helper.isMobile()?this.quantityInputFilter=".product_items__input--desktop":this.quantityInputFilter=".product_items__input--mobile",DataLayer.cartPushProducts(this.generateProductsDataLayer())},check_quantity_field:function(i,a){var e=t("#item_"+i).find(".quantity_field").not(this.quantityInputFilter),n=t(e).val(),r=parseInt(n.replace(/\D/g,""),10);a=parseInt(a,10),r||(r=0),t(e).val(r),this.recalculate_item(i,{o:a,n:r})},recalculate_item:function(i,a){if(this.isActing)return!1;this.isActing=!0;var e=t("#item_"+i),n=t(e).data("sku");if(!n)return!1;var r=this.getProductDataLayer(i);a.o<a.n?(r.quantity=a.n-a.o,DataLayer.cartAddItem(r)):(r.quantity=a.o-a.n,DataLayer.cartRemoveItem(r));var s=parseInt(t(e).find(".quantity_field").not(this.quantityInputFilter).val(),10);s>0?(Helper.postData("sc_cart_update_item",{updateShipping:!0,sku:n,quantity:s}).then(function(t){Cart.updatePartials(t.data.partials),Cart.isActing=!1}),CartModal.setCartItemQuantity(n,s)):(this.isActing=!1,this.remove_item(i))},remove_item:function(i){if(this.isActing)return!1;this.isActing=!0;var a=t("#item_"+i),e=t(a).data("sku"),n=this.getProductDataLayer(i),r=parseInt(t(a).find(".quantity_field").not(this.quantityInputFilter).val(),10);n.quantity=r,DataLayer.cartRemoveItem(n),Helper.postData("sc_cart_remove_item",{sku:e}).then(function(i){Cart.isActing=!1,CartModal.removeCartItem(e),Cart.updatePartials(i.data.partials),t(a).remove(),0===i.data.number_of_items&&t(".cart__options, .cart__button").remove()})},setShippingMethod:function(i){var a=t(i.currentTarget),e=a.val();if(this.programaticShippingClick)this.programaticShippingClick=!1;else{var n=a.siblings(".shipping_options__label").html().trim();DataLayer.cartSelectShipping({step:1,option:n+" Shipping"})}Helper.postData("sa_set_shipping_method",{method:e,type:"cart"}).done(this.updateTotals)},updateTotals:function(i){i.data.totals_html&&t("#totals_html").html(i.data.totals_html)},updatePartials:function(i){for(var a in i){var e=t(a),n=i[a];e.length&&e.html(n)}this.$products=t(".product_items__item"),this.programaticShippingClick=!0,t("#shipping_options_container .shipping_options__input").first().click()},getProductDataLayer:function(i){var a=t("#item_"+i),e={name:a.find(".product_items__name").html().trim(),id:a.data("sku"),price:a.find(".product_items__column--price").html().trim().replace("$",""),brand:"Sunday Afternoons",category:Helper.getCategoryString(a),variant:a.find(".product_items__color").lengh?a.find(".product_items__color").html().trim().replace(/color: /i,""):"",variant2:a.find(".product_items__size").length?a.find(".product_items__size").html().trim().replace(/size: /i,""):"",quantity:Number(a.find(".quantity_field").val())};return e},generateProductsDataLayer:function(){var i=[];return this.$products.each(function(a,e){var n=t(e).data("itemkey");i.push(this.getProductDataLayer(n))}.bind(this)),i},checkout:function(t){DataLayer.isGTMLoaded()&&t.preventDefault();var i=this.generateProductsDataLayer();DataLayer.cartCheckout(i)}}}(jQuery,_);
					!function(t,i,e,o){e.Checkout={init:function(){t.bindAll(this,"sendProductImpressions","toggleBillingAddress","resetBillingAddress","setSubmitting","submit","submitted","resetStyles","setQuickAddress","internationalCheck","loadSummaries","loadSummariesDone","loadShippingOptions","loadShippingOptionsDone","chooseFirstShippingOption","removeCouponCode","removeCouponCodeDone","prepareValidation","setShippingMethod","setShippingCountry","bindQuickAddress","resetQuickAddress","generateProductDataLayer","generateProductKlaviyo","toggleGiftNote","klaviyoCheckEmail","klaviyoStartCheckout"),Helper.postEndpoint("sda/v1/get-totals/").then(function(t){e.totals=t.totals}),i(e).on("sc_countries_loaded",this.bindQuickAddress),CheckoutGiftCardLightbox.init(),this.wpAction="sc_checkout_place_order",this.programaticShippingClick=!1,i(".billing_address_controls__input").click(this.toggleBillingAddress),i("#shipping_options_container").on("click",".shipping_options__input",this.setShippingMethod),this.$billingInformationStep=i(".step_billing_information"),this.$shippingInformationStep=i(".step_shipping_information"),this.$form=i("#form_checkout"),i(".billing_address_controls__input--shipping").click(),i("#shipping_country").on("change",this.setShippingCountry),i("#shipping_state").on("change",this.setShippingCountry),i(e).on("internationalCopyLoaded",function(){i("#shipping_country").on("change",this.internationalCheck)}.bind(this)),i(".checkout_step__action--coupon-code").click(this.showPromoCodeLightbox),i(".checkout_step__action--coupon-code-remove").click(this.removeCouponCode),i(".checkout_step__action--gift-certificate").click(CheckoutGiftCardLightbox.show),i(".payment_step__show_cvv_modal").click(function(t){t.preventDefault(),t.stopPropagation();var e=i(this).children(".modal");e.is(".modal__active")?e.slideUp().promise().then(function(){e.removeClass("modal__active")}):e.slideDown().promise().then(function(){e.addClass("modal__active")})}),i("#payment_option_credit_card_paypalbraintree, #payment_option_credit_card_sage").on("change",this.prepareValidation),i("body").on("click",function(){i(".payment_step__show_cvv_modal .modal").slideUp().promise().then(function(){i(this).removeClass("modal__active")})}),this.$hasGiftNote=i("#has-gift-note"),this.$giftNote=i("#gift-note"),this.$hasGiftNote.on("change",this.toggleGiftNote),i(e).on("internationalCountriesLoaded",this.internationalCheck),this.chooseFirstShippingOption(),this.$form.on("submit",this.submit),this.captchaRendered=!1,this.klaviyoCheckoutStarted=!1,i("#billing_email").on("blur",this.klaviyoCheckEmail),i("#billing_full_name").on("blur",this.klaviyoCheckEmail),this.klaviyoCheckEmail(),this.sendProductImpressions()},sendProductImpressions:function(){e.cartData?DataLayer.cartPushProducts(this.generateProductDataLayer()):setTimeout(this.sendProductImpressions,0)},resetQuickAddress:function(){i("#quick_address").val();i("#quick_address").val("")},bindQuickAddress:function(){var t=i("#quick_address");t.length&&(t.on("change",this.setQuickAddress),t.val(t.children("option").eq(1).val()),t.trigger("change"),i('[name*="shipping"]').not('[name="shipping[ship_to_code]"]').on("change",this.resetQuickAddress))},setShippingCountry:function(t){var e=i("#shipping_country"),o=e.val(),a=convertAlpha2ToAlpha3(o);"USA"!==a&&"VIR"!==a?(i("#international_shipping_copy").show(),i("#payment_methods .payment_step__option--sage").click(),i("#payment_methods .payment_step__option--paypalbraintree").hide()):(i("#international_shipping_copy").hide(),i("#payment_methods .payment_step__option--paypalbraintree").show());var n=i("#shipping_state"),s=n.val(),r={};r.country=a,s&&(r.state=s),Helper.postData("sc_checkout_set_shipping_country",r).done(this.loadSummariesDone).promise().then(this.chooseFirstShippingOption)},toggleBillingAddress:function(t){var e=i(t.currentTarget);e.is(".billing_address_controls__input--shipping")?this.$billingInformationStep.slideUp():this.$billingInformationStep.slideDown()},resetBillingAddress:function(){this.$billingInformationStep.find('[id*="billing"]').val("")},setShippingMethod:function(t){var e=i(t.currentTarget),o=e.val();if(this.programaticShippingClick)this.programaticShippingClick=!1;else{var a=e.siblings(".shipping_options__label").html().trim();DataLayer.cartSelectShipping({step:2,option:a+" Shipping"})}Helper.postData("sa_set_shipping_method",{method:o}).done(this.loadSummariesDone)},toggleGiftNote:function(t){var i=this.$hasGiftNote.is(":checked");i?this.$giftNote.slideDown():(this.$giftNote.val(""),this.$giftNote.slideUp())},prepareValidation:function(t){i(t.currentTarget).is("#payment_option_credit_card_paypalbraintree")?this.wpAction="sc_checkout_validate_addresses":this.wpAction="sc_checkout_place_order"},submit:function(t){t.preventDefault(),t.stopPropagation();var i=this.generateProductDataLayer();DataLayer.checkoutSubmit(i),this.klaviyoStartCheckout(),this.$form.is(".submitting")||this.internationalCheck()||(this.setSubmitting(),this.resetStyles(),Helper.postForm(this.wpAction,this.$form).done(this.submitted))},submitted:function(t,o,a){if(t.success)if("sc_checkout_place_order"===this.wpAction){i("#form_checkout").remove(),i("#after_checkout_content").show(0);var n="/checkout-complete/?id="+t.data.order_id+"&hash="+encodeURIComponent(t.data.order_hash)+"&email="+encodeURIComponent(t.data.email_address);document.location=n}else e.braintree_integration.paypal.initAuthFlow(),this.clearSubmitting();else{if(this.clearSubmitting(),t.data.invalid_cart)e.location="/cart/";else if(t.data.field){var s=this.$form.find("#"+t.data.field),r=s.siblings(".label__copy");r.length||(r=s.parent().siblings(".label__copy")),r.append(i("<span>").addClass("label__error").html(t.data.message)),s.addClass("field__error"),i("body,html").animate({scrollTop:s.offset().top-50}),s.focus()}else t.data.template?LightboxManager.show(t.data.template):(e.alert(t.data.message),0==this.captchaRendered&&t.data.number_of_failed_attempts>=5&&e.grecaptcha&&this.renderCaptcha(!0));e.grecaptcha&&this.captchaRendered&&this.resetCaptcha()}},renderCaptcha:function(t){(t||i("#captcha_container").data("loadCaptcha"))&&(this.captchaRendered=!0,this.captcha=grecaptcha.render("captcha_container",{sitekey:"6LdUzSkTAAAAAHjPqutqAumgEWuNEqifa4srxzDt",size:"compact"}))},resetCaptcha:function(){e.grecaptcha&&this.captchaRendered&&grecaptcha.reset(this.captcha)},setSubmitting:function(){this.$form.addClass("submitting");var t=i("#normal_checkout_button").val();i("#normal_checkout_button").data("oldValue",t).val("PLEASE WAIT...")},clearSubmitting:function(){var t=i("#normal_checkout_button"),e=t.data("oldValue");t.val(e),this.$form.removeClass("submitting")},resetStyles:function(){this.$form.find(".label__error").remove(),this.$form.find(".input__error").removeClass("input__error")},setQuickAddress:function(t){var e=i(t.currentTarget).children("option:selected"),o=e.data();i("#shipping_address_line_1").val(o.lineOne),i("#shipping_address_line_2").val(o.lineTwo),i("#shipping_address_line_3").val(o.lineThree),i("#shipping_phone").val(o.phone),i("#shipping_country").val(convertAlpha3ToAlpha2(o.country)),i("#shipping_state").val(o.state),i("#shipping_postal_code").val(o.zipCode),i("#shipping_city").val(o.city)},internationalCheck:function(){var t=i("#shipping_country").val(),e=internationalCountries.lastIndexOf(t)!==-1;return e?(International.showLightboxForCountry(t),i("#normal_checkout_button").hide(),i("#paypal_checkout_button").hide(),!0):(i("#normal_checkout_button").show(),!1)},showPromoCodeLightbox:function(t){t&&t.preventDefault(),CheckoutPromoCodeLightbox.init()},loadSummaries:function(){Helper.postData("sa_load_checkout_summaries",{}).done(this.loadSummariesDone)},loadSummariesDone:function(t){t.success?(t.data.order_summary_items_html&&i("#order_summary_container .product_items").replaceWith(t.data.order_summary_items_html),t.data.order_summary_totals_html&&i("#order_summary_container .totals").replaceWith(t.data.order_summary_totals_html),t.data.order_review_items_html&&i("#order_review_container .product_items").replaceWith(t.data.order_review_items_html),t.data.totals_html&&i("#totals_container").html(t.data.totals_html),t.data.shipping_options_html&&i("#shipping_options_container").html(t.data.shipping_options_html)):e.alert(t.data.message)},loadShippingOptions:function(){Helper.postData("sa_load_checkout_shipping_options",{}).done(this.loadShippingOptionsDone)},loadShippingOptionsDone:function(t){t.success?(i("#shipping_options_container").html(t.data.shipping_options_html),this.chooseFirstShippingOption(!0)):e.alert(t.data.message)},chooseFirstShippingOption:function(){this.programaticShippingClick=!0;var t=i("#shipping_options_container :checked").length;t?i("#shipping_options_container :checked").click():i("#shipping_options_container").find(".shipping_options__input:eq(0)").click()},removeCouponCode:function(t){t.preventDefault(),Helper.postData("sa_remove_coupon_code",{}).done(this.removeCouponCodeDone)},removeCouponCodeDone:function(){i("#add_coupon_code_link").removeClass("hidden"),i("#coupon_code_applied_link").addClass("hidden"),this.loadShippingOptions(),this.loadSummaries()},generateProductDataLayer:function(){for(var t=Object.keys(cartData),i=[],e=0;e<t.length;e++){var o=t[e],a=cartData[o];i.push({name:a.title,id:a.sku,price:a.total_formatted.replace("$",""),brand:"Sunday Afternoons",category:Helper.parseCrumbs(a.crumbs),variant:a.color?a.color.toUpperCase():"",variant2:a.size?a.size.toUpperCase():"",quantity:a.quantity})}return i},generateProductKlaviyo:function(){for(var t=Object.keys(cartData),o={CheckoutURL:e.location.href,Subtotal:totals.subtotal,Shipping:totals.shipping,Saved:totals.total_savings,AmountLeft:Math.max(0,60-totals.subtotal),$value:i(".totals--checkout .totals__value--total").first().text().trim().replace(/[^\d]/,"")},a=[],n=[],s=0;s<t.length;s++){var r=t[s],l=cartData[r];n.push(l.title),a.push({SKU:l.sku,ProductName:l.title,Quantity:l.quantity,ItemPrice:l.price,RowTotal:l.total_formatted.replace("$",""),ProductURL:l.url,ImageURL:l.largeImage,ProductCategories:Helper.parseCrumbs(l.crumbs,!0),ProductColor:l.color?l.color.toUpperCase():"",ProductSize:l.size?l.size.toUpperCase():""})}return o.ItemNames=n,o.Items=a,o},klaviyoCheckEmail:function(){i("#billing_email").val()&&(this.billingEmail=!0),i("#billing_full_name").val()&&(this.billingName=!0),this.billingEmail&&this.billingName&&this.klaviyoStartCheckout()},klaviyoStartCheckout:function(){if(clearTimeout(this.klaviyoHandle),"undefined"==typeof cartData||"undefined"==typeof totals)return void(this.klaviyoHandle=setTimeout(this.klaviyoStartCheckout,250));if(!this.klaviyoCheckoutStarted){this.klaviyoCheckoutStarted=!0;var t=i("#billing_email").val().trim()||i("#shipping_email").val().trim(),e=i("#billing_full_name").val().trim()||i("#shipping_full_name").val().trim(),o=e.replace(/^([^ ]+).*/,"$1"),a=e.replace(/.* ([^ ]+)$/,"$1");Klaviyo.identify({email:t,firstName:o,lastName:a}),Klaviyo.startCheckout(this.generateProductKlaviyo())}}},e.CheckoutGiftCardLightbox={init:function(){t.bindAll(this,"submit","submitted","resetStyles","applyAmount","didApplyAmount","checkEnteredAmount","reset","show","clearAndReset","setGiftCardAmountApplied"),this.wpAction="sa_apply_giftcard",this.templateId="lightbox--gift_card",this.giftCardApplied=i("#gift_card_amount").length>0,this.giftCardApplied&&(this.appliedAmount=parseFloat(i("#gift_card_amount").val(),10),this.setGiftCardAmountApplied())},show:function(t){t.preventDefault(),LightboxManager.show("lightbox--gift_card"),this.$form=i("#form_gift_card"),this.$submitButton=this.$form.find(".gift_card_lightbox__button--submit"),this.$form.on("submit",this.submit),this.$form.find(".lightbox__close--link").click(LightboxManager.close)},submit:function(t){t.preventDefault(),t.stopPropagation(),this.$form.is(".submitting")||(this.resetStyles(),this.$form.addClass("submitting"),Helper.postForm(this.wpAction,this.$form).done(this.submitted))},submitted:function(t,o,a){if(t.success){this.card=t.data.card;var n=this.$form.find(".gift_card_lightbox__input--amount"),s=this.$form.find(".gift_card_lightbox__input--code");s.on("keyup",this.clearAndReset);var r=Helper.moneyFormat(this.card.balance),l="Balance: "+r;this.$form.find(".gift_card_lightbox__input--code").after(i('<span class="copy gift_card_lightbox__balance">').html(l)),this.$form.find(".lightbox__close--link").show(),this.$form.find(".input--text").css("borderColor","#BEC5C2"),this.appliedAmount=this.card.amountToApply,n.val(Helper.moneyFormat(this.appliedAmount)),n.parents(".label").slideDown(),n.on("keyup, blur",this.checkEnteredAmount),this.$submitButton.attr("type","button").val("APPLY").click(this.applyAmount)}else if(this.$form.removeClass("submitting"),t.data.field){var c=this.$form.find('[name="'+t.data.field+'"]'),p=c.siblings(".label__copy");p.append(i("<span>").addClass("label__error").html(t.data.message)),c.css("borderColor",p.children(".label__error").css("color"))}else e.alert(t.data.message)},resetStyles:function(){this.$form.removeClass("submitting"),this.$form.find(".label__error").remove(),this.$form.find(".input").css("borderColor",this.inputDefaultBorderColor)},applyAmount:function(t){t&&(t.preventDefault(),t.stopPropagation());var i=this.$form.find(".gift_card_lightbox__input--amount").val().replace("$","");i=parseFloat(i),Helper.postData("sa_set_gift_card_amount",{amount:i}).done(this.didApplyAmount)},didApplyAmount:function(t){this.appliedAmount=t.data.appliedAmount,this.giftCardApplied=!0,LightboxManager.close(),Checkout.loadSummariesDone(t),this.setGiftCardAmountApplied()},setGiftCardAmountApplied:function(){this.giftCardApplied&&(i(".checkout_step__action--gift-certificate").off("click").html(Helper.moneyFormat(this.appliedAmount)+" applied. Click to remove."),i(".checkout_step__action--gift-certificate").on("click",this.reset),i("#gift_card_amount").val(this.appliedAmount))},reset:function(t){t&&(t.preventDefault(),t.stopPropagation()),i("#gift_card_amount").val(0),i(".totals__value--gift-card").parent().remove(),i(t.currentTarget).html("Click here to redeem").off("click"),i(t.currentTarget).click(this.show),this.giftCardApplied=!1,Helper.postData("sa_remove_gift_card",{}).done(Checkout.loadSummariesDone)},clearAndReset:function(){this.$form.find(".gift_card_lightbox__input--code").off("keyup"),LightboxManager.close(),i(".checkout_step__action--gift-certificate").off("click").on("click",this.reset).click()},checkEnteredAmount:function(e){var o=i(e.currentTarget),a=parseFloat(o.val().replace("$",""),10);t.isNaN(a)===!1&&a<=this.card.balance&&(this.appliedAmount=a),o.val(Helper.moneyFormat(this.appliedAmount))}},e.CheckoutPromoCodeLightbox={init:function(){t.bindAll(this,"submit","submitted","resetStyles","filterInput"),this.wpAction="sc_cart_add_coupon",this.templateId="lightbox--coupon",LightboxManager.show("lightbox--coupon"),this.$form=i("#form_coupon"),this.$title=i(".coupon_lightbox__title"),this.$submitButton=this.$form.find(".coupon_lightbox__button--submit"),this.$input=this.$form.find(".coupon_lightbox__input--code"),this.$input.on("input",this.filterInput),this.$form.on("submit",this.submit),this.$form.find(".lightbox__close--link").click(LightboxManager.close)},filterInput:function(){this.$input.val(this.$input.val().replace(/[^\w\d]|_/g,""))},submit:function(t){t.preventDefault(),t.stopPropagation(),this.$form.is(".submitting")||(this.resetStyles(),this.$form.addClass("submitting"),Helper.postForm(this.wpAction,this.$form).done(this.submitted))},submitted:function(t,e,o){if(t.success){this.$form.remove();var a=t.data.code,n=t.data.cartData;i("#add_coupon_code_link").addClass("hidden"),i("#coupon_code_applied_link").removeClass("hidden").find(".name").text(a.toUpperCase()+" applied to full price items. Click to remove."),Checkout.loadShippingOptions(),Checkout.loadSummaries(),n?(cartData=n,CartModal.init(),this.$title.html("Congratulations we've added to your cart a "+t.data.name+" free of charge.")):this.$title.html("Your coupon was applied."),CheckoutGiftCardLightbox.giftCardApplied&&(CheckoutGiftCardLightbox.appliedAmount=t.data.totals.giftcard,CheckoutGiftCardLightbox.setGiftCardAmountApplied())}else t.data.message&&this.$form.find(".label__copy").html(t.data.message);this.$form.removeClass("submitting")},resetStyles:function(){this.$form.removeClass("submitting"),this.$form.find(".label__error").remove(),this.$form.find(".input").css("borderColor",this.inputDefaultBorderColor)}}}(_,jQuery,window,void 0);
						!function(o,n){window.Accordions={init:function(){n.bindAll(this,"toggle"),this.$accordions=o(".accordion"),this.$accordionButtons=o(".accordion .accordion__button"),this.$accordionButtons.on("click",this.toggle)},toggle:function(n){n.preventDefault();var i=o(n.currentTarget),c=i.parents(".accordion"),t=i.siblings(".accordion__content");c.is(".accordion--active")?t.slideUp().promise().then(function(){c.removeClass("accordion--active")}):t.slideDown().promise().then(function(){c.addClass("accordion--active")})}}}(jQuery,_);
						!function(t,n){window.CountryDropdown={init:function(){n.bindAll(this,"doesCountryHaveStates","initialCountryPopulation"),window.hasOwnProperty("commerceCountries")===!1?t(window).on("sc_countries_loaded",this.initialCountryPopulation):this.initialCountryPopulation(),t(".jso--country-state select.jso--country").on("change",this.doesCountryHaveStates)},initialCountryPopulation:function(e){var a=t(".jso--country-state select.jso--country"),o=t(".jso--country-state select.jso--states"),i=[];a.children().first().html("Select a Country"),o.children().first().html("Select a Country");for(var r in window.commerceCountries)if("alpha_2_map"!==r&&"alpha_3_map"!==r){var s=window.commerceCountries[r],l=s.alpha_2,u=s.name;i.push({name:u,alpha_2:l})}i.length&&i.sort(function(t,n){return t.name==n.name?0:t.name>n.name?1:-1}),n.each(i,function(n,e,o){a.append(t("<option>").val(n.alpha_2).html(n.name))}),a.val("US"),setTimeout(function(){a.trigger("change")},0)},doesCountryHaveStates:function(e){var a=t(e.currentTarget),o=a.parents(".jso--country-state").find("select.jso--states"),i=a.val(),r=2===i.length?"alpha_2":"alpha_3",s=getCountryBy(r,i);if(n.isArray(s.states))o.children("option").not(".default").remove(),o.parents("label").slideUp(150);else if(n.isObject(s.states)){o.parents("label").slideDown(150),o.children("option").not(".default").remove();var l=[];n.each(s.states,function(t,n,e){l.push({id:n,name:t})}),l.sort(function(t,n){return t.name==n.name?0:t.name>n.name?1:-1}),n.each(l,function(n,e,a){o.append(t("<option>").val(n.id).html(n.name))}),o.children().first().html("Select a State")}}}}(jQuery,_);
							!function(e,t){window.LiveHelp={init:function(){window.LiveHelpSettings={server:"chat.sundayafternoons.com",embedded:!0},t.bindAll(this,"start")},start:function(){window.LiveHelpSettings.server=window.LiveHelpSettings.server.replace(/[a-z][a-z0-9+\-.]*:\/\/|\/livehelp\/*(\/|[a-z0-9\-._~%!$&'()*+,;=:@\/]*(?![a-z0-9\-._~%!$&'()*+,;=:@]))|\/*$/g,"");var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://":"http://")+window.LiveHelpSettings.server+"/livehelp/scripts/jquery.livehelp.min.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}}}(jQuery,_);
							!function(i,e){window.History={init:function(){this.timelineWidgetAttached=!1,this.$timelineWidget=i("#history-timeline-widget"),this.$timelineInsertion=i("#history-timeline-widget-insertion"),this.$timeline=i(".timeline__items"),this.$timelineIndicator=i("#timeline-indicator"),this.indicatorActive=!1,this.isScrolling=!1,this.defaultVerticalOffset=44,this.$historySections=i(".section"),this.setActiveButton(this.$timeline.children(".timeline__item").first()),this.registerTimelineSlider(),this.registerTimelineButtons(),this.registerTimelinePositionCheck(),this.registerResizeWatcher(),window.requestAnimationFrame(this.timelineWidgetTopCheck.bind(this))},timelineWidgetTopCheck:function(){var e=i(document).scrollTop(),t=this.$timelineWidget.offset().top,n=this.$timelineInsertion.offset().top;e>=t&&this.timelineWidgetAttached===!1?this.attachTimelineWidget():e<=n&&this.timelineWidgetAttached&&this.detatchTimelineWidget(),window.requestAnimationFrame(this.timelineWidgetTopCheck.bind(this))},attachTimelineWidget:function(){this.$timelineWidget.addClass("timeline--sticky"),this.timelineWidgetAttached=!0},detatchTimelineWidget:function(){this.$timelineWidget.removeClass("timeline--sticky"),this.timelineWidgetAttached=!1},registerTimelineSlider:function(){var e=this;this.$timelineIndicator.on("mousedown",function(){e.indicatorActive=!0}),i("body").on("mouseup",function(){e.indicatorActive&&(e.indicatorActive=!1,e.resolveActiveTimeframe())}),i("body").on("mousemove",function(i){e.indicatorActive&&e.handleTimelineDrag(i)})},handleTimelineDrag:function(i){var e=i.pageX-this.$timeline.offset().left,t=e>20,n=i.pageX<this.$timeline.offset().left+(this.$timeline.width()-20);t&&n&&this.$timelineIndicator.css({left:e})},resolveActiveTimeframe:function(){var e=this,t=this.$timeline.children(".timeline__item");t.each(function(){var t=i(this),n=e.$timelineIndicator.offset().left,s=t.offset().left,o=s+t.width();n>=s-20&&n<=o+20&&(e.setActiveButton(t),e.resolveScrollPosition(t))})},resolveScrollPosition:function(e){var t=e.data("id"),n=i("#"+t),s=n.offset();if(s){var o=this,l=s.top,c=this.defaultVerticalOffset,r=this.timelineWidgetAttached?c:2*c;this.isScrolling=!0,i("body, html").animate({scrollTop:l-r},1e3,function(){o.isScrolling=!1,n.find(".section-header__info").addClass("section-header__info--active")})}},registerTimelineButtons:function(){var e=this;this.$timeline.find("a.timeline__link").click(function(t){t.preventDefault();var n=i(this).parent();e.setActiveButton(n),e.resolveScrollPosition(n)})},setActiveButton:function(i){var e="timeline__link--active",t=i.offset().left,n=t+i.width(),s=t+(n-t)/2;this.$timelineIndicator.css({left:s-this.$timeline.offset().left}),i.siblings().children().removeClass(e),i.children().addClass(e)},registerTimelinePositionCheck:function(){var e=this;i(document).on("scroll",function(){e.isScrolling||e.$historySections.each(function(){var t=i(this);if(e.isInView(t)&&t.find(".section-header__info").addClass("section-header__info--active"),e.isActiveTimeline(t)){var n=t.attr("id");n!==e.activeTimeframeId&&e.setActiveTimeframe(n)}})})},setActiveTimeframe:function(i){if(i&&"section"===i.substr(0,7)){this.activeTimeframeId=i;var e=this.activeTimeframeId.split("-")[1],t=this.$timeline.children(".timeline__item").filter('[data-id="section-'+e+'"]');t.length&&this.setActiveButton(t)}},isInView:function(e){var t=i(window).height(),n=e.offset().top,s=i(document).scrollTop();return s+t>n},isActiveTimeline:function(e){var t=e.offset().top,n=t+e.height(),s=i(document).scrollTop(),o=e.prev().height()/3;return s>=t-o&&s<=n-o},registerResizeWatcher:function(){var e=this;i(window).resize(function(){var i=e.$timeline.find("a.timeline__link.timeline__link--active");console.log("resize"),e.setActiveButton(i.parent())})}}}(jQuery,_);
								!function(t,e,c){window.DataLayer={init:function(e){t.bindAll(this,"p","e","pushPage","pushProducts","pushProduct","productChooseColor","productChooseSize","productClick","cartPushProducts","cartAddItem","cartRemoveItem","cartSelectShipping","cartCheckout","cartView","checkoutSubmit","purchase","promoPush","promoClick","chunkPush","isGTMLoaded","log","throttle"),this.d=c,this.env=e,this.productThreshold=40,this.eventTimeout=3e3},log:function(){"development"!==this.env&&"staging"!==this.env||(console.group("DataLayer"),console.log.apply(this,arguments),console.groupEnd())},p:function(t,e){this.log(t),this.d.push(t),"undefined"==typeof e&&(e="dataPush"),e&&this.p({event:e},!1)},e:function(t,e,c){this.p({event:t,ecommerce:e,eventCallback:c},!1)},isGTMLoaded:function(){return"undefined"!=typeof google_tag_manager&&"undefined"!=typeof ga&&"undefined"!=typeof ga.create},throttle:function(t,e){this[t]&&Date.now()-this[t]<this.eventTimeout||(this[t]=Date.now(),e())},pushPage:function(t){this.p({page:{type:t,environment:this.env}})},chunkPush:function(t,e){for(var c=[],o=0;o<t.length;o++)c.length>=this.productThreshold&&(e(c),c=[]),c.push(t[o]);c.length&&e(c)},pushProducts:function(t){t=Helper.copyObjects(t);var e={ecommerce:{currencyCode:"USD"}};if(t&&t.length<=this.productThreshold)e.ecommerce.impressions=t,this.p(e,"productPush");else{var c=this.p;this.chunkPush(t,function(t){c({ecommerce:{impressions:void 0}},!1),e.ecommerce.impressions=Helper.copyObjects(t),c(Helper.copyObject(e),"productPush")})}},pushProduct:function(t){this.p({ecommerce:{currencyCode:"USD",detail:{actionField:{list:"Product Detail"},products:[Helper.copyObject(t)]}}}),this.p({event:"detailView"},!1)},productClick:function(t,e,c){return this.throttle("productClicked"+e,function(){this.e("productClick",{click:{actionField:{list:t.list},products:[Helper.copyObject(t)]}},function(){c&&(this.log("Running product click callback"),document.location=e)}.bind(this))}.bind(this))},productChooseColor:function(t){this.e("colorSelect",{click:{products:[Helper.copyObject(t)]}})},productChooseSize:function(t){this.e("sizeSelect",{click:{products:[Helper.copyObject(t)]}})},cartPushProducts:function(t){this.p({ecommerce:{currencyCode:"USD",detail:{products:Helper.copyObjects(t)}}})},cartAddItem:function(t){this.e("addToCart",{add:{products:[Helper.copyObject(t)]}})},cartRemoveItem:function(t){this.e("removeFromCart",{remove:{products:[Helper.copyObject(t)]}})},cartSelectShipping:function(t){this.e("shippingSelect",{checkout_option:{actionField:Helper.copyObject(t)}})},cartCheckout:function(t){return this.throttle("cartCheckoutClicked",function(){this.e("checkout",{checkout:{actionField:{step:2},products:Helper.copyObjects(t)}},function(){this.log("Running proceed to checkout click callback"),document.location="/checkout"}.bind(this))}.bind(this))},cartView:function(t){return this.throttle("cartViewed",function(){this.e("viewCart",{checkout:{actionField:{step:1},products:Helper.copyObjects(t)}},function(){this.log("Running view cart click callback"),document.location="/cart"}.bind(this))}.bind(this))},checkoutSubmit:function(t){return this.throttle("checkoutSubmitted",function(){this.e("submitOrder",{checkout:{actionField:{step:3},products:Helper.copyObjects(t)}})}.bind(this))},purchase:function(t,e){this.p({ecommerce:{purchase:{actionField:Helper.copyObject(t),products:Helper.copyObjects(e)}}}),this.p({event:"purchase"},!1)},promoPush:function(t){this.p({ecommerce:{promoView:{promotions:[Helper.copyObject(t)]}}})},promoClick:function(t){return this.throttle("promoClicked",function(){this.e("promotionClick",{promoClick:{promotions:[Helper.copyObject(t)]}})}.bind(this))}}}(_,jQuery,dataLayer);
									!function(t,e){window.CartToken={init:function(){t.bindAll(this,"checkForGa","checkForGaSuccess","sendUID"),this.token=null,this.UID=null,this.tracker=null,this.setUIDAction="set_cart_token_uid",this.attempts=0,this.checkForGa()},checkForGa:function(){if(clearTimeout(this.attemptHandle),DataLayer.isGTMLoaded()){for(var t=[],e=ga.getAll(),s=0;s<e.length;s++)t.push({tracker:e[s].get("name"),clientId:e[s].get("clientId")});t.length&&(this.UID=t[0].clientId,this.tracker=ga.getByName(t[0].tracker),this.sendUID())}else this.attempts<=10&&(this.attempts++,this.attemptHandle=setTimeout(this.checkForGa,500))},sendUID:function(){this.UID&&Helper.postData(this.setUIDAction,{uid:this.UID}).then(this.checkForGaSuccess)},checkForGaSuccess:function(t){t.success&&(this.token=t.data.token,DataLayer.p({ocd:this.token}))}}}(_,jQuery);
									!function(e,t,i,n){window.Klaviyo={init:function(t){e.bindAll(this,"log","p","push","event","identify","viewedProduct","startCheckout"),this._learnq=i,this.identified=n,this.env=t},log:function(){"development"!==this.env&&"staging"!==this.env||(console.group("Klaviyo"),console.log.apply(this,arguments),console.groupEnd())},p:function(e){var t=CartToken.token||null,i=e.length-1;e[i]=Object.assign({},e[i],{Environment:this.env,CartToken:t}),this.log(e),this._learnq.push(e)},push:function(e,t){this.p([e,t])},event:function(e,t){this.p(["track",e,t])},identify:function(e){if(!this.identified){var t=Helper.copyObject(e),i={$email:t.email};t.firstName&&(i.$first_name=t.firstName),t.lastName&&(i.$last_name=t.lastName),this.push("identify",i),this.identified=!0}},viewedProduct:function(e){var t=Helper.copyObject(e);this.event("Viewed Product",t),this.push("trackViewedItem",{Title:t.ProductName,ItemId:t.ProductID,Categories:t.Categories,ImageUrl:t.ImageURL,Url:t.URL,Metadata:{Brand:e.Brand,Price:e.Price,CompareAtPrice:e.CompareAtPrice}})},startCheckout:function(e){this.event("Started Checkout",Helper.copyObject(e))}}}(_,jQuery,_learnq,_learnqIdentified);
									!function(t,e){window.DesktopMainMenu={init:function(){e.bindAll(this,"injectIntoParent"),this.$items=t(".desktop_nav__items").remove(),this.$items.children(".desktop_nav__item").each(this.injectIntoParent),this.$search=t(".desktop_nav_search__input"),t("body").on("click","div.nav__item.nav__item--category",function(e){window.location=t(e.currentTarget).attr("data-href")}),t("body").on("click",".desktop_nav__item__link",function(t){t.stopPropagation()}),this.$search.on("focus",function(){t(this).removeAttr("placeholder")}),Helper.isTemplate("home")&&t("a.header__main__logo").append('<img class="hide--all" src="wp-content/themes/sundayafternoons/assets/img/logo/sa_desktop.png" alt="Sunday Afternoons | Your Outdoor Hat Experts">').wrap("<h1>")},injectIntoParent:function(e,n){var a=t(n),o=a.data("categoryKey"),i=t('.desktop_nav_categories .nav__item[data-category-key="'+o+'"]');i.length&&i.append(a)}}}(jQuery,_);
									!function(e,i){window.MobileMainMenu={init:function(){i.bindAll(this,"toggleDrawer","showCategoryItems","showCategories","toggleSlideItems"),this.$cta=e("#main_menu_cta"),this.$items=e(".nav"),this.$cta.click(this.toggleDrawer),this.$items.find(".nav__slider__accordian__cta").click(this.toggleSlideItems),this.$items.find(".mobile_nav .nav__item--category").not(".jso--disabled").click(this.showCategoryItems),this.$items.find(".nav__slider__item--back").click(this.showCategories),Helper.isTemplate("home")&&e("a.header__main__logo").append('<img class="hide--all" src="wp-content/themes/sundayafternoons/assets/img/logo/sa_tablet.png" alt="Sunday Afternoons | Your Outdoor Hat Experts">').wrap("<h1>")},toggleDrawer:function(i){i.preventDefault();var s=e("div.modal.modal--cart"),t=e("div.icon__cart .triangle");this.$items.is(".nav--collapsed")?this.$items.velocity("slideDown",{complete:function(){e(this).removeClass("nav--collapsed").addClass("nav--expanded")}}):this.$items.velocity("slideUp",{begin:function(){e(this).removeClass("nav--expanded").addClass("nav--collapsed")}}),s.hasClass("modal__active")&&(t.addClass("hide--mobile"),s.removeClass("modal__active").css({display:"none"}))},toggleSlideItems:function(i){i.preventDefault(),i.stopPropagation();var s=e(i.currentTarget).next();s.is(".nav__slider__accordian--collapsed")?s.velocity("slideDown",{complete:function(){e(this).removeClass("nav__slider__accordian--collapsed").addClass("nav__slider__accordian--expanded")}}):s.velocity("slideUp",{complete:function(){e(this).removeClass("nav__slider__accordian--expanded").addClass("nav__slider__accordian--collapsed")}})},showCategoryItems:function(i){i.preventDefault(),i.stopPropagation();var s=e(i.currentTarget).data("categoryKey"),t=this.$items.find(".mobile_nav_slider"),n=this.$items.find(".nav__slider__items--root"),a=this.$items.find('.nav__slider__items[data-category-key="'+s+'"]'),o=a.outerHeight(!0);if(n.length&&a.length){var l=[{e:t,p:{height:o}},{e:n,p:{left:"-100%"},o:{begin:function(){e(this).addClass("nav__slider__items--screen-transitioning")},complete:function(){e(this).removeClass("nav__slider__items--screen-transitioning").addClass("nav__slider__items--screen-left")}}},{e:a,p:{left:0},o:{sequenceQueue:!1,begin:function(){e(this).addClass("nav__slider__items--screen-transitioning")},complete:function(){e(this).removeClass("nav__slider__items--screen-transitioning").removeClass("nav__slider__items--screen-right"),t.css("height","auto")}}}];e.Velocity.RunSequence(l)}},showCategories:function(i){var s=i;i&&(i.preventDefault(),i.stopPropagation(),s=i.currentTarget);var t=this.$items.find(".mobile_nav_slider"),n=this.$items.find(".nav__slider__items--root.nav__slider__items--screen-left"),a=e(s).parent(".nav__slider__items"),o=n.outerHeight(!0);if(n.length&&a.length){var l=[{e:n,p:{left:0},o:{begin:function(){e(this).addClass("nav__slider__items--screen-transitioning")},complete:function(){e(this).removeClass("nav__slider__items--screen-transitioning").removeClass("nav__slider__items--screen-left")}}},{e:a,p:{left:"100%"},o:{sequenceQueue:!1,begin:function(){e(this).addClass("nav__slider__items--screen-transitioning"),t.css("height",e(this).outerHeight(!0))},complete:function(){e(this).removeClass("nav__slider__items--screen-transitioning").addClass("nav__slider__items--screen-right")}}},{e:t,p:{height:o},o:{complete:function(){e(this).css("height","auto")}}}];e.Velocity.RunSequence(l)}}}}(jQuery,_);
									!function(e,t){window.TabletMainMenu={init:function(){t.bindAll(this,"toggleDrawer","slideToCategory","determineAction","setViewportWidth"),this.$currentCategory=null,this.$drawer=e(".nav"),this.$categories=e(".desktop_nav_categories .nav__item--category").not(".jso--disabled"),this.$slider=this.$drawer.find(".tablet_nav_slider"),this.$viewport=this.$slider.find(".slider__inner"),this.$categories.click(this.determineAction),this.$tabletSearch=e("a.icon__search"),this.number_of_slides=this.$slider.find(".slider__item").length,this.setViewportWidth(),this.$tabletSearch.on("click",function(t){t.preventDefault(),LightboxManager.show("lightbox--tablet_search"),e('#lightbox form[action*="/s/"] input').on("input",function(e){e.currentTarget.value=e.currentTarget.value.replace(/[^a-zA-Z0-9 ]/,"")})}),Helper.isTemplate("home")&&e("a.header__main__logo").append('<img class="hide--all" src="wp-content/themes/sundayafternoons/assets/img/logo/sa_tablet.png" alt="Sunday Afternoons | Your Outdoor Hat Experts">').wrap("<h1>"),e(window).on("resize",this.setViewportWidth)},setViewportWidth:function(){this.$slider.width(e(window).width()),this.$viewport.children(".slider__item").width(this.$slider.width());var t=this.number_of_slides*this.$viewport.children(".slider__item").innerWidth();this.$viewport.width(t)},determineAction:function(t){t.preventDefault(),t.stopPropagation();var i=e(t.currentTarget),i=e(t.currentTarget);i.siblings().removeClass("active"),i.addClass("active"),this.$drawer.is(".nav--collapsed")||this.$drawer.is(".nav--expanded")&&i.is(this.$currentCategory)?(this.toggleDrawer(t),this.setViewportWidth()):this.slideToCategory(t),this.$currentCategory=e(t.currentTarget)},toggleDrawer:function(t){t.preventDefault(),t.stopPropagation();var i=e(t.currentTarget);if(this.$drawer.is(".nav--collapsed")){i.data("categoryKey");this.slideToCategory(t,!0),this.$drawer.velocity("slideDown",{complete:function(){e(this).removeClass("nav--collapsed").addClass("nav--expanded")}})}else this.$drawer.velocity("slideUp",{begin:function(){e(this).removeClass("nav--expanded").addClass("nav--collapsed")}})},slideToCategory:function(t,i){t.preventDefault(),t.stopPropagation();var r=e(t.currentTarget),s=r.index()*this.$viewport.children(".slider__item").first().innerWidth();this.$viewport.velocity({left:-1*s},{duration:i?0:450})}}}(jQuery,_);
									!function(t,a){window.CartModal={init:function(){a.bindAll(this,"addCartItem","toggle","updateCartItemIndicator","finishInit","cartDataLoaded","addToQueue","generateProductDataLayer","viewCart"),this.itemQueue=[],this.finishedLoading=!1},addToQueue:function(t){this.itemQueue.push(t)},cartDataLoaded:function(t){t.cartData&&(window.cartData=t.cartData,this.finishInit())},finishInit:function(){this.finishedLoading=!0,this.itemsInCart=0,this.$modal=t(".modal--cart"),this.$modalTitle=t(".modal__title"),this.$modalContinueShopping=t(".modal__continue_shopping"),this.$triangle=t("div.modal.modal--cart .triangle:not(.modal__triangle--border)"),this.$modalCheckout=t(".btn--modal_cart").not(".logout_btn"),this.$modalContent=t(".modal__content.cart_items"),this.$parent=this.$modal.parents(".icon__cart"),this.$closeButton=this.$modal.find(".modal__close"),this.$cartItemIndicator=this.$parent.find(".cart_item_indicator"),this.itemTemplate=a.template(t('.modal__content__template[data-modal-id="cart__items"]').remove().html()),this.isOpen=!1,this.isAnimated=!1,window.Helper.isMobile()&&(this.$modal.remove(),this.$triangle.remove(),this.$modal.insertBefore("nav"),this.$parent.append(this.$triangle),this.$modalTitle.text("SHOPPING CART"),this.$modalCheckout.removeClass("background--charcoal").removeClass("color--yellow").addClass("background--red").addClass("color--white"),this.$cartItemIndicator.removeClass("hover--red")),this.itemQueue.length&&(a.each(this.itemQueue,function(t,a,e){window.cartData[t.sku]=t,this.addCartItem(t)},this),this.itemQueue=[]),a.each(cartData,function(t,a,e){this.addCartItem(t)},this),0===this.itemsInCart&&this.$modalCheckout.hide(),this.$parent.on("click",this.toggle),this.$modal.on("click",function(t){t.stopPropagation()}),this.$closeButton.on("click",this.toggle),this.$modalContinueShopping.on("click",this.toggle),this.$modalCheckout.on("click",this.viewCart),t("body").on("click",function(){CartModal.$modal.hasClass("modal__active")&&CartModal.toggle()})},setCartItemQuantity:function(t,a){var e=this.findCartItemElement(t);if(e&&e.length){var i=cartData[t],o=i.total_formatted.replace(/\$/,""),n=parseFloat(o)/i.quantity;i.quantity=a,i.total_formatted=Helper.moneyFormat(n*i.quantity),e.after(this.itemTemplate(i)),e.remove()}},addCartItem:function(t){if(this.finishedLoading){var a=this.findCartItemElement(t.sku);if(a.length){var e,i=cartData[t.sku],o=i.quantity;if("gift-card"!==t.sku){var n=o+t.quantity,r=Product.getProductFromSizeAndColor(t.size,t.color);e=parseFloat(r.price)*n,e=Helper.moneyFormat(e),a.find(".cart_items__item__quantity").html("Qty: "+n)}else e=t.total_formatted;a.find(".cart_items__item__price").html("Total: "+e)}else this.$modalContent.append(this.itemTemplate(t)),this.itemsInCart++,this.updateCartItemIndicator(),this.$modalCheckout.show()}else this.addToQueue(t)},removeCartItem:function(t){var a=this.findCartItemElement(t);a.length&&(a.remove(),this.itemsInCart--,this.updateCartItemIndicator()),0===this.itemsInCart&&this.$modalCheckout.hide(),delete cartData[t]},removeLastItem:function(){this.$modalContent.children().last().remove(),this.itemsInCart--,this.updateCartItemIndicator()},toggle:function(a){var e=t("nav.nav");a&&(a.preventDefault(),a.stopPropagation()),this.isAnimated||(this.isAnimated=!0,this.$modal.slideToggle(300,function(){CartModal.$modal.toggleClass("modal__active"),window.Helper.isMobile()&&CartModal.$triangle.toggleClass("hide--mobile"),CartModal.isAnimated=!1})),window.Helper.isMobile()&&e.hasClass("nav--expanded")&&e.removeClass("nav--expanded").addClass("nav--collapsed").css({display:"none"})},updateCartItemIndicator:function(){this.itemsInCart>0?(this.$cartItemIndicator.html(this.itemsInCart),this.$cartItemIndicator.show(),this.$parent.addClass("has_items")):(this.$cartItemIndicator.hide(),this.$parent.removeClass("has_items"))},findCartItemElement:function(t){if(this.$modalContent)return this.$modalContent.find(".cart_items__item").filter('[data-item="'+t+'"]')},generateProductDataLayer:function(){for(var t=Object.keys(cartData),a=[],e=0;e<t.length;e++){var i=t[e],o=cartData[i];a.push({name:o.title,id:o.sku,price:o.total_formatted.replace("$",""),brand:"Sunday Afternoons",category:o.crumbs?Helper.parseCrumbs(o.crumbs):"",variant:o.color?o.color.toUpperCase():"",variant2:o.color?o.size.toUpperCase():"",quantity:o.quantity})}return a},viewCart:function(t){DataLayer.isGTMLoaded()&&t.preventDefault(),DataLayer.cartView(this.generateProductDataLayer())}}}(jQuery,_);
									!function(i,e){window.HomeHero={init:function(){e.bindAll(this,"setViewportWidth","slideLeft","slideRight","slideIndexAction","startSlideTimer","cancelSlideTimer","lockSlide","handleVideo","checkActiveVideo","playVideo","pauseVideo","replayVideo","muteVideo","unmuteVideo","onPlayVideo","onPauseVideo","onVideoEnded","onVolumeChange","playClick","volumeClick"),this.slideTimerID=null,this.slideSearchIndex=null,this.slideAnimationDuration=450,this.$slider=i(".hero"),this.$viewport=this.$slider.children(".hero__inner"),this.$slides=this.$viewport.children(".hero__slide"),this.number_of_slides=this.$slides.length,this.setViewportWidth(),this.$slider.children(".hero__arrow--left").click(this.slideLeft),this.$slider.children(".hero__arrow--right").click(this.slideRight),i(window).on("resize",this.setViewportWidth),Helper.isDesktop()&&(this.interval=6e3,this.$slider.find(".hero__indicators .hero__indicators__item").click(this.slideIndexAction),this.$slides.on("click",this.lockSlide),i(".hero__indicators .hero__indicators__item").on("click",this.lockSlide),this.lockedSlide=Cookies.get("lockedSlide"),void 0===this.lockedSlide?this.number_of_slides>1&&(this.startSlideTimer(),this.$slider.on("mouseover",this.cancelSlideTimer),this.$slider.on("mouseout",this.startSlideTimer)):(this.$viewport.css("left",-this.lockedSlide*this.$slider.width()),this.setActiveIndicator(),this.$slider.find(".hero__indicators .hero__indicators__item").removeClass("active").eq(this.lockedSlide).addClass("active").click()))},lockSlide:function(e){var t=this.$slides.index(i(e.currentTarget));t===-1&&(t=this.$slider.find(".hero__indicators .hero__indicators__item").index(i(e.currentTarget))),this.setLockedSlide(t),this.cancelSlideTimer(),this.lockedSlide=t,this.$slider.off("mouseover"),this.$slider.off("mouseout")},setLockedSlide:function(i){Cookies.set("lockedSlide",i)},setViewportWidth:function(){var i=this.$slider.width(),e=this.number_of_slides*i;this.$viewport.children(".hero__slide").width(i),this.$viewport.width(e)},slideLeft:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.$viewport.is(".transitioning")||(this.$viewport.addClass("transitioning"),this.pauseVideo(),this.$slider.height(""),this.$viewport.prepend(this.$viewport.children(".hero__slide").last().remove()),this.$slides.on("click",this.lockSlide),this.$viewport.css("left",-1*this.$slider.width()),this.$viewport.velocity({left:0},{duration:this.slideAnimationDuration,easing:"linear",complete:i.proxy(function(){this.handleVideo(),this.$viewport.removeClass("transitioning"),this.setActiveIndicator(),this.maybeContinueSearch("slideLeft")},this)}))},slideRight:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.$viewport.is(".transitioning")||(this.$viewport.addClass("transitioning"),this.pauseVideo(),this.$slider.height(""),this.$viewport.velocity({left:-1*this.$slider.width()},{duration:this.slideAnimationDuration,easing:"linear",complete:i.proxy(function(){this.$viewport.children(".hero__slide").first().remove().insertAfter(this.$viewport.children(".hero__slide").last()),this.$slides.on("click",this.lockSlide),this.handleVideo(),this.$viewport.removeClass("transitioning").css("left",0),this.setActiveIndicator(),this.maybeContinueSearch("slideRight")},this)}))},checkActiveVideo:function(){return this.activeVideo&&this.activeVideo.length},playVideo:function(){this.checkActiveVideo()&&this.activeVideo[0].play()},pauseVideo:function(){this.checkActiveVideo()&&this.activeVideo[0].pause()},replayVideo:function(){this.checkActiveVideo()&&(this.pauseVideo(),this.activeVideo[0].currentTime=0,this.playVideo())},muteVideo:function(){this.checkActiveVideo()&&(this.activeVideo[0].muted=!0)},unmuteVideo:function(){this.checkActiveVideo()&&(this.activeVideo[0].muted=!1)},playClick:function(e){i(e.currentTarget).hasClass("playing")?this.pauseVideo():this.playVideo()},volumeClick:function(e){i(e.currentTarget).hasClass("muted")?this.unmuteVideo():this.muteVideo()},onPlayVideo:function(e){var t=e.currentTarget,s=i(t),o=s.parent().siblings(".video-controls");o.find(".video-controls__control--playback").addClass("playing")},onPauseVideo:function(e){var t=e.currentTarget,s=i(t),o=s.parent().siblings(".video-controls");o.find(".video-controls__control--playback").removeClass("playing")},onVolumeChange:function(e){var t=e.currentTarget,s=i(t),o=s.parent().siblings(".video-controls").find(".video-controls__control--volume");t.muted?o.addClass("muted"):o.removeClass("muted")},onVideoEnded:function(e){var t=e.currentTarget,s=i(t),o=s.parent().siblings(".video-controls");o.find(".video-controls__control--playback").removeClass("playing"),void 0===this.lockedSlide&&(this.startSlideTimer(),this.slideRight())},handleVideo:function(){var i=this.$viewport.children(".hero__slide").first(),e=i.hasClass("hero__slide--video");if(!e)return void(this.activeVideo=null);var t=i.find("video"),s=t[0];s.addEventListener("play",this.onPlayVideo),s.addEventListener("volumechange",this.onVolumeChange),s.addEventListener("pause",this.onPauseVideo),s.addEventListener("ended",this.onVideoEnded),i.find(".video-controls__control--playback").on("click",this.playClick),i.find(".video-controls__control--replay").on("click",this.replayVideo),i.find(".video-controls__control--volume").on("click",this.volumeClick),this.cancelSlideTimer(),this.activeVideo=t,this.$slider.height(this.activeVideo.height()),this.playVideo()},setActiveIndicator:function(){var i=this.$viewport.children(".hero__slide").first().data("index");this.$slider.find(".hero__indicators .hero__indicators__item").removeClass("active"),this.$slider.find(".hero__indicators .hero__indicators__item").filter("[data-index="+i+"]").addClass("active")},maybeContinueSearch:function(i){var e=this.getCurrentIndicatorIndex();null!==this.slideSearchIndex&&(e!==this.slideSearchIndex?this[i].call(this):this.slideSearchIndex=null)},slideIndexAction:function(e){e.preventDefault(),e.stopPropagation();var t=this.getCurrentIndicatorIndex(),s=i(e.currentTarget).index(),o=s-t;this.slideSearchIndex=s,o<0?this.slideLeft(e):this.slideRight(e),this.setLockedSlide(s)},getCurrentIndicatorIndex:function(){return this.$slider.find(".hero__indicators .hero__indicators__item.active").index()},startSlideTimer:function(i){null===this.slideTimerID&&(this.slideTimerID=setInterval(this.slideRight,this.interval))},cancelSlideTimer:function(i){clearInterval(this.slideTimerID),this.slideTimerID=null}}}(jQuery,_);
									!function(i,n){window.SnapVideoWidgets=[];var s=i(".snap_vc_video_widget");n.each(s,function(s,e,t){var a=i(s);window.SnapVideoWidgets.push({$sources:null,$dest:null,$buttons:null,init:function(){var s=this.$dest=a.find(".snap_vc_video-swap-dst"),e=(this.$sources=a.find(".snap_vc_video-swap-src"),this.$buttons=a.find(".snap_vc_col-pointer"));n.each(e,function(n,t,a){var d=i(n);d.on("click",function(i){if(!d.is(".active")&&window.Helper.isDesktop){e.removeClass("active"),d.addClass("active");var n=d.find(".snap_vc_video-swap-src"),t=n.attr("src"),a=n.find(".wpb_video_heading").html();s.find("iframe").attr("src",t),s.find(".wpb_video_heading").html(a)}})})}})})}(jQuery,_);
									!function(t,i){var o={lightboxTemplates:{},lightboxData:{},init:function(){i.bindAll(this,"close","show","bindEvents","unbindEvents"),this.$lightbox=t("#lightbox"),this.$closeButton=t("<div>").attr("class","icon icon__close lightbox__close"),i.each(t("#lightbox .lightbox__content__template"),function(o,s,l){var h=t(o),e=h.data("lightboxId");this.lightboxTemplates[e]=i.template(h.remove().html()),this.lightboxData[e]=h.data()},this),t(document).trigger("lightboxManager:ready")},bindEvents:function(){this.$lightbox.click(this.close),this.$lightbox.children(".close_button").click(this.close),this.$lightbox.delegate(".lightbox__close","click",this.close),this.$lightbox.delegate(".lightbox__content","click",function(t){t.stopPropagation()})},unbindEvents:function(){this.$lightbox.off("click"),this.$lightbox.children(".close_button").off("click"),this.$lightbox.off(".lightbox__close","click"),this.$lightbox.off(".lightbox__content","click")},show:function(i,o){var s;if(void 0===o&&(o={}),this.lightboxTemplates.hasOwnProperty(i)){var l=this.lightboxData[i];this.$lightbox.html(this.lightboxTemplates[i](o)),s=this.$lightbox.children(".lightbox__content"),s.prepend(this.$closeButton),this.offset=window.pageYOffset||document.documentElement.scrollTop,t("body").css({position:"fixed",top:-this.offset+"px",left:"0px",width:"100%"}),this.$lightbox.css("display","flex"),l.close&&"off"==l.close?(this.$closeButton.hide(),this.unbindEvents()):(this.$closeButton.show(),this.bindEvents())}},close:function(){this.$lightbox&&(t("body").css({position:"",top:"",left:"",width:""}),window.scrollTo(0,this.offset),this.$lightbox.css("display","none"),this.$lightbox.children().remove())}};window.LightboxManager=o}(jQuery,_);
										!function(t,s,i,o){i.ContactForm={init:function(){t.bindAll(this,"submit","submitted","resetStyles"),this.$form=s("#contact_form"),this.$form.submit(this.submit),this.$messageBox=this.$form.find(".contact_form__message"),this.inputDefaultBorderColor=this.$form.find(".input").css("borderColor"),this.wpAction="submit_contact_form"},submit:function(t){t.preventDefault(),t.stopPropagation(),this.$form.is(".submitting")||(this.resetStyles(),this.$form.addClass("submitting"),Helper.postForm(this.wpAction,this.$form).done(this.submitted))},submitted:function(t,o,e){if(t.success)i.location="/contact-us-submitted";else if(this.$form.removeClass("submitting"),t.data.field){var r=this.$form.find('[name="'+t.data.field+'"]'),n=r.siblings(".label__copy");n.append(s("<span>").addClass("label__error").html(t.data.message)),r.css("borderColor",n.children(".label__error").css("color"))}else i.alert(t.data.message)},resetStyles:function(){this.$form.removeClass("submitting"),this.$form.find(".label__error").remove(),this.$form.find(".input").css("borderColor",this.inputDefaultBorderColor)}}}(_,jQuery,window,void 0);
											!function(t,o){window.International={init:function(){o.bindAll(this,"submit","submitted","internationalCountriesLoaded","internationalCopyLoaded","showLightboxForCountry","loadDistributorsForCountry"),this.lightboxTimer,this.copyLoaded=!1,this.wpAction="show_international_user_lightbox";var i=Cookies.get("sa_visited");i||this.submit(),t.get("/wp-content/themes/sundayafternoons/assets/international_locations.json").promise().then(this.internationalCountriesLoaded),t.get("/wp-content/themes/sundayafternoons/assets/international_copy_cache.json").promise().then(this.internationalCopyLoaded)},submit:function(){this.submitting||(this.submitting=!0,Helper.postData(this.wpAction,{}).then(this.submitted))},submitted:function(t){this.submitting=!1,t.data.sa_country_code&&Cookies.set("sa_country_code",t.data.sa_country_code,{expires:7}),t.data.sa_show_lightbox&&t.data.sa_country_code&&this.showLightboxForCountry(t.data.sa_country_code,!0)},internationalCountriesLoaded:function(o){o&&(window.internationalCountries=o,t(window).trigger("internationalCountriesLoaded"))},internationalCopyLoaded:function(o){o&&(this.copyLoaded=!0,window.internationalCopy=o,t(window).trigger("internationalCopyLoaded"))},showLightboxForCountry:function(t,o){if(this.copyLoaded){clearTimeout(this.lightboxTimer),window.internationalCopy[t]||(t="default");var i=window.internationalCopy[t].checkout;o&&""!=window.internationalCopy[t].detection&&(i=window.internationalCopy[t].detection),LightboxManager.show("international_user",{copy:i})}else this.lightboxTimer=setTimeout(this.showLightboxForCountry,100)},loadDistributorsForCountry:function(i){t("#distributors").html(Helper.$loadingGif),Helper.getEndpoint("sda/v1/get-distributors-for-country/",{country:i}).then(function(i){var n=o.template(t("#international-distributors-template").html());t("#distributors").html(n({distributors:i.results}))})}}}(jQuery,_);
											!function(e,t,s){s.NewsletterForm={init:function(){if(e.bindAll(this,"submit","submitted","showNewsLetterModal","hideNewsLetterModal","submitModal","submittedModal","reHeight"),this.$newsLetterModal=t(".newsletter-modal"),this.$newsLetterModalContent=this.$newsLetterModal.children(".newsletter-modal__content"),this.$newsLetterModalClose=this.$newsLetterModalContent.children(".newsletter-modal__close"),this.$newsLetterModalForm=this.$newsLetterModalContent.children(".newsletter-modal__form"),this.$newsLetterModalThanks=this.$newsLetterModalContent.children(".newsletter-modal__thanks"),this.$newsLetterModalFormMessage=this.$newsLetterModalForm.children(".newsletter-modal__form__message"),this.saVisited=Cookies.get("sa_visited"),this.newsletterModalSuccess=!1,Helper.isDesktop()||this.$newsLetterModal.addClass("mobile"),!this.saVisited){var s=this.showNewsLetterModal;setTimeout(function(){s()},1500)}},submit:function(e){Helper.postForm("subscribe_to_newsletter",t(e)).done(this.submitted)},submitted:function(e){e.success?(t("#newsletter_success_message").text("Thanks and welcome aboard!"),setTimeout(function(){t("#newsletter_success_message").text(""),t("#newsletter_email_field").val("").blur()},3e3)):alert("Error: "+e.data.message)},submitModal:function(e){e.preventDefault();var s=e.target;Helper.postForm("subscribe_to_newsletter",t(s)).done(this.submittedModal)},submittedModal:function(e){e.success?(this.$newsLetterModalForm.removeClass("active"),this.$newsLetterModalThanks.addClass("active"),DataLayer.p({event:"modalSignUp"},!1),this.newsletterModalSuccess=!0):(this.$newsLetterModalForm.addClass("error"),this.$newsLetterModalFormMessage.text(e.data&&e.data.message?e.data.message:"There was a problem signing up for the newsletter\nPlease try again later"),Helper.isDesktop()||this.reHeight())},showNewsLetterModal:function(){Helper.isDesktop()||this.reHeight(),this.$newsLetterModal.addClass("open"),this.$newsLetterModalForm.addClass("active"),this.$newsLetterModalForm.children("form").on("submit",this.submitModal),this.$newsLetterModal.on("click",this.hideNewsLetterModal),this.$newsLetterModalClose.on("click",this.hideNewsLetterModal),this.$newsLetterModalContent.on("click",function(e){e.stopPropagation()}),t(document).on("click",this.hideNewsLetterModal)},hideNewsLetterModal:function(){this.$newsLetterModal.removeClass("open"),this.$newsLetterModalForm.removeClass("active"),this.$newsLetterModalThanks.removeClass("active"),t(document).off("click",this.hideNewsLetterModal),this.newsletterModalSuccess||DataLayer.p({event:"modalExit"},!1)},reHeight:function(){this.$newsLetterModalThanks.addClass("re-height"),this.$newsLetterModalForm.addClass("re-height"),this.$newsLetterModalFormMessage.height(0).height(this.$newsLetterModalFormMessage.prop("scrollHeight")),this.$newsLetterModalForm.height(0).height(this.$newsLetterModalForm.prop("scrollHeight")),this.$newsLetterModalThanks.height(0).height(this.$newsLetterModalThanks.prop("scrollHeight")),this.$newsLetterModalThanks.removeClass("re-height"),this.$newsLetterModalForm.removeClass("re-height")}}}(_,jQuery,window);
											!function(i,t){window.ProductSlider={init:function(){t.bindAll(this,"setInnerWidth","handlePan","setActiveIndicator","slideFromIndex"),this.slideTimerID=null,this.slideSearchIndex=null,this.slideAnimationDuration=450,this.aspectRatio=1,this.$slider=i(".slider"),this.$inner=this.$slider.find(".slider__inner"),this.$aperature=this.$slider.find(".slider__aperature"),this.$indicators=this.$slider.find(".slider__indicators__item"),this.number_of_slides=this.$inner.children(".slider__slide").length,this.maxLeft=0,this.lastDx=0,i(window).on("resize",this.setInnerWidth),i(".lazy--mobile").each(function(){i(this).lazy({bind:"event"})}),this.$indicators.click(function(t){ProductSlider.slideFromIndex(i(t.currentTarget).index())}),this.$sliderHammer=this.$slider.find(".slider__hammer"),this.$colors=i(".product_color_choice"),this.$colors.on("click",function(t){ProductSlider.slideFromIndex(i(t.currentTarget).data("index"))}),this.hammer=new Hammer(this.$sliderHammer[0]),this.hammer.on("pan",this.handlePan),this.previousPosition=0,this.setInnerWidth()},setInnerWidth:function(){this.slideWidth=this.$aperature.width();var i=this.number_of_slides*this.slideWidth;if(this.$inner.children(".slider__slide").width(this.slideWidth),Helper.isMobile){var t=this.slideWidth/this.aspectRatio;this.$inner.height(t),this.$inner.children(".slider__slide").height(t),this.$aperature.height(t),this.$sliderHammer.height(t)}this.minLeft=-i+this.slideWidth,this.$inner.width(i)},slideFromIndex:function(i){var t=i*-this.slideWidth;this.currentIndex=i,this.previousPosition=t,this.$inner.velocity({left:t},{duration:500}),this.setActiveIndicator()},getCurrentIndicatorIndex:function(){return this.$slider.find(".slider__indicators .slider__indicators__item.active").index()},cancelSlideTimer:function(i){clearInterval(this.slideTimerID),this.slideTimerID=null},handlePan:function(i){var t,s,e,n,r=this.previousPosition+(i.deltaX-this.lastDx);r>this.maxLeft+10?(t=this.maxLeft+this.slideWidth/2,s=t-r,e=s/t,n=e*(i.deltaX-this.lastDx),r=this.previousPosition+n):r<this.minLeft-10&&(reallyMinLeft=this.minLeft-this.slideWidth/2,s=reallyMinLeft-r,e=s/-(this.slideWidth/2),n=e*(i.deltaX-this.lastDx),r=this.previousPosition+n),this.$inner.css({left:r}),this.previousPosition=parseInt(this.$inner.css("left")),this.lastDx=i.deltaX,i.isFinal&&(this.lastDx=0,this.lastVx=i.velocityX,this.resolveToSlide())},resolveToSlide:function(){this.previousPosition-=100*this.lastVx,this.previousPosition>this.maxLeft?this.previousPosition=this.maxLeft:this.previousPosition<this.minLeft&&(this.previousPosition=this.minLeft),this.currentIndex=Math.round(-this.previousPosition/this.slideWidth);var i=this.currentIndex*-this.slideWidth,t=this;this.$inner.velocity({left:i},{duration:300,complete:function(){t.previousPosition=i}}),this.setActiveIndicator()},setActiveIndicator:function(){this.$indicators.removeClass("active"),this.$indicators.eq(this.currentIndex).addClass("active")}}}(jQuery,_);
												!function(t,i,o,r){o.Product={childrenSizeToAgeGroup:{INFANT:"(0-6 mo).","SMALL/BABY":"(6-24 mo.)","MEDIUM/CHILD":"(2-5 yr.)","LARGE/YOUTH":"(5-12 yr.)","ONE SIZE":"(5-11 yr.)"},init:function(){t.bindAll(this,"loadReviews","requestReviews","chooseColor","chooseSize","selectThumb","rateReview","setProductImage","fixItClickability","customSocialIcons","showAppropriateSizeChart","finishInit","getProductsForColor","setSort","ratingIndicatorClick","checkReviewSort"),Helper.isDesktop()?i(".lazy").not(".lazy--mobile").each(function(){i(this).lazy({bind:"event",delay:100,afterLoad:function(t){i(t).addClass("lazy--loaded").animate({opacity:1,duration:500})}})}):i(".lazy").each(function(){i(this).lazy({bind:"event",delay:100,afterLoad:function(t){i(t).addClass("lazy--loaded").animate({opacity:1,duration:500})}})}),this.isSalePage=Helper.queryParam("sale"),YoutubePlayer.init();var e=i(".product_section").data("slug");this.checkReviewSort(),Helper.getEndpoint("sda/v1/get-product-data/",{slug:e,sale:this.isSalePage}).then(this.finishInit)},finishInit:function(e){o.productData=e;for(var r in e.products){var a=e.products[r];(a.is_on_sale||a.is_discounted)&&a.quantity>0?i('[data-skus*="'+r+'"]').not(".product_color_choice--on-sale").addClass("product_color_choice--on-sale"):a.is_new_arrival&&i('[data-skus*="'+r+'"]').not(".product_color_choice--new").addClass("product_color_choice--new")}ProductAddToCartForm.init(),this.$productImage=i(".product__image--large"),this.$productThumbs=i(".product__image--thumb"),this.maxQuantity=10,this.$colorContainer=i(".product_choose_color__choices"),this.$colorChoices=this.$colorContainer.find(".product_color_choice"),this.$sizeContainer=i(".product_choose_size__choices"),this.$sizeChoices=this.$sizeContainer.find(".product_size_choice"),this.$colorChoices.on("click",this.chooseColor),this.$colorChoices.on("dragstart",function(t){t.preventDefault(),Product.chooseColor(t)}),this.$sizeChoices.on("click",this.chooseSize),t.each(this.$colorChoices,function(t,e,o){var r=i(t),a=r.data("color"),s=productData.colorToQuantity;s[a]<=0&&r.addClass("product_color_choice--out-of-stock")}),this.reviews={},this.$reviewsContainer=i(".product__reviews"),this.$reviewsSubcontainer=i(".product__reviews__subcontainer"),this.$reviewButton=this.$reviewsContainer.find(".btn_write_a_review"),this.$reviewLoadButton=this.$reviewsContainer.find(".btn_load_more"),this.$loadingGif=Helper.$loadingGif.clone(),i(".products__list__item__img").click(this.fixItClickability),this.reviewsPageLoaded=0,this.$questionsContainer=i(".product__question_and_answer"),this.$sendQuestionButton=this.$questionsContainer.find(".btn_ask_a_question");var s={form_url:"review-product",title:"Howâ€™s the fit? How did it perform? Tell us all about it!"},c={form_url:"review-product",title:"Hi! How can we help?"};this.$sizeChartButton=i(".product_choose_size__link"),this.$sizeChartButton.on("click",this.showAppropriateSizeChart),this.$reviewButton.on("click",function(e){e.preventDefault(),t.extend(s,i(e.currentTarget).data()),LightboxManager.show("lightbox--review_form",s),o.ReviewForm.init()}),this.$sendQuestionButton.on("click",function(t){t.preventDefault(),LightboxManager.show("lightbox--qna_form",c),o.QnaForm.init("submit_product_qna_form")}),this.selectedImageSrc=null,this.$productThumbs.on("click",this.selectThumb),this.$productThumbs.on("dragstart",function(t){t.preventDefault(),Product.selectThumb(t)}),this.$productThumbs.not(".product__image--form").first().addClass("product__image--thumb--active");var n=this.$colorChoices.not(".product_color_choice--out-of-stock");this.isSalePage&&this.$colorChoices.filter(".product_color_choice--out-of-stock").remove(),this.programmaticColorSelect=!0,n.length?n.first().click():this.$colorChoices.first().click(),this.$reviewsContainer.on("click",".btn_load_more",this.requestReviews),this.$reviewsContainer.delegate(".review__rating_btn","click",this.rateReview),this.customSocialIcons(),this.$socialLink=i("a.product_share_link"),(Helper.isMobile()||Helper.isTablet())&&this.$socialLink.on("click",function(t){t.preventDefault(),i("div.addthis_sharing_toolbox div#atstbx a.at-share-btn").toggle("fast")}),this.$keyFeatures=i("div.product_key_features__feature.product_key_feature"),Helper.isMobile()||Helper.isTablet()?(this.$keyFeatures.on("click",function(){var t=i(this).data("uniqid"),e=i("#product_key_feature_"+t);i(".product_key_feature__copy.open").not(e).removeClass("open"),i(e).toggleClass("open")}),i("div.copy.product_key_feature__copy").each(function(){i(this).insertBefore(i(".product_key_features > .clearfix"))})):Helper.isDesktop()&&this.$keyFeatures.hover(function(){var t=i(this).data("uniqid");i("#product_key_feature_"+t).fadeIn(400)},function(){var t=i(this).data("uniqid");i("#product_key_feature_"+t).fadeOut(400)}),i(".number_of_ratings").click(i.proxy(function(e){e.preventDefault(),i("body,html").animate({scrollTop:this.$reviewsContainer.offset().top-50}).promise().then(i.proxy(function(){var e=this.$reviewsContainer.children(".product__reviews__title"),i=e.css("color");e.css("color","#F9461C"),t.delay(function(){e.css("color",i)},2e3)},this))},this));var l=Helper.queryParam("sku");if(l){var a=productData.products[l];a&&(this.programmaticColorSelect=!0,this.programmaticSizeSelect=!0,this.$colorChoices.filter('[data-color="'+a.color+'"]').click(),this.$sizeChoices.filter('[data-size="'+a.size+'"]').click())}var u=location.hash.replace(/^#/g,"");u&&this.$colorChoices.filter('[data-color="'+u+'"]').click(),this.$sortReviewSelect=i("#sort_reviews"),this.$sortReviewSelect.on("change",this.setSort),i("[data-sort]").on("click",this.ratingIndicatorClick),DataLayer.pushProduct(o.ProductAddToCartForm.getCurrentProductDataLayer()),Klaviyo.viewedProduct(o.ProductAddToCartForm.getCurrentProductKlaviyo())},checkReviewSort:function(){/review-sort/.test(o.location.search)&&(o.location.hash="reviews")},ratingIndicatorClick:function(t){var e=Helper.updateQueryParam("review-sort",t.currentTarget.dataset.sort);o.location.search=e},setSort:function(t){i(t.currentTarget).parents("form").submit()},fixItClickability:function(t){o.location.href=i(e.currentTarget).parents(".products__list__item").attr("href")},rateReview:function(t){var e=i(t.currentTarget),r=e.data("ratingValue"),a=e.parents(".review").data("reviewId");Helper.postData("sa_rate_review",{review_id:parseInt(a,10),rating_increment:parseInt(r,10)}).then(function(t){t.success?e.addClass("review__rating_btn--active"):o.alert(t.data.message)})},requestReviews:function(t){t.preventDefault(),t.stopPropagation();var e=this.$reviewsContainer.find(".btn_load_more");e.data("originalVal",e.text()),e.text("LOADING..."),Helper.getData("load_product_reviews_html",{"review-sort":this.$sortReviewSelect.val(),sku:i(".product_info__sku").html(),page:++this.reviewsPageLoaded}).done(this.loadReviews)},loadReviews:function(t){if(this.$reviewsSubcontainer.children(".review").removeClass("first"),t.data&&t.data.reviews&&t.data.reviews.length){for(var e,o=t.data.reviews,r=o.length,a=r-1;a>=0;a--)e=i(o[a]),a===r-1&&e.addClass("first"),e.hide(),this.$reviewsSubcontainer.append(e),e.fadeIn(500);i("html, body").animate({scrollTop:this.$reviewsSubcontainer.find(".first").offset().top,duration:500})}var s=this.$reviewsContainer.find(".btn_load_more");s.text(s.data("originalVal"))},chooseColor:function(t){t&&(t.preventDefault(),t.stopPropagation()),this.$chosenColor=i(t.currentTarget),this.$colorChoices.removeClass("product_color_choice--active"),this.$chosenColor.addClass("product_color_choice--active"),this.selectedColor=this.$chosenColor.attr("data-color");for(var e,r=[],a=[],s=[],c=[],n=productData.products,l=productData.skuToColor,u=productData.skuToSize,d=Object.keys(l),h=0,p=d.length;h<p;h++){var _=d[h],m=l[_];m.slug===this.selectedColor&&(!e&&m.name&&(e=m.name),n[_].quantity>0&&(r.push(u[_]),n[_].is_on_sale||n[_].is_discounted?a.push(u[_]):n[_].is_new_arrival&&s.push(u[_])),n[_].is_blacklisted&&c.push(u[_]))}var f="[data-size='"+r.concat(c).join("'],[data-size='")+"']",v="[data-size='"+a.join("'],[data-size='")+"']",g="[data-size='"+s.join("'],[data-size='")+"']",b="[data-size='"+c.join("'],[data-size='")+"']";e?(i("#friendly_color_name").text(e),i("#color_name_container").show()):i("#color_name_container").hide(),this.$availableSizes=this.$sizeChoices.filter(f),this.$saleSizes=this.$availableSizes.filter(v),this.$newSizes=this.$availableSizes.filter(g),this.$blacklistedSizes=this.$availableSizes.filter(b),this.$sizeChoices.removeClass("product_size_choice--active").removeClass("product_size_choice--on-sale").removeClass("product_size_choice--new").removeClass("product_size_choice--blacklisted"),this.$sizeChoices.addClass("product_size_choice--inactive"),this.$availableSizes.removeClass("product_size_choice--inactive"),this.$saleSizes.addClass("product_size_choice--on-sale"),this.$newSizes.addClass("product_size_choice--new"),this.$blacklistedSizes.addClass("product_size_choice--inactive product_size_choice--blacklisted");var C=!1;this.programmaticSizeSelect=!0,this.$availableSizes.each(function(){/medium/i.test(this.dataset.size)&&(C=!0,this.click())}),C||this.$availableSizes.first().click(),0===this.$availableSizes.length&&0===this.$blacklistedSizes.length?ProductAddToCartForm.setOutOfStock():this.$blacklistedSizes.length>0&&0===this.$availableSizes.length&&ProductAddToCartForm.setAvailableSoon(),this.programmaticColorSelect?this.programmaticColorSelect=!1:(DataLayer.productChooseColor(o.ProductAddToCartForm.getCurrentProductDataLayer()),Klaviyo.viewedProduct(o.ProductAddToCartForm.getCurrentProductKlaviyo()))},chooseSize:function(t){if(t&&t.preventDefault(),this.$chosenSize=i(t.currentTarget),!this.$chosenSize.is(".product_size_choice--inactive")||this.$chosenSize.hasClass("product_size_choice--blacklisted")){this.$sizeChoices.removeClass("product_size_choice--active"),this.$chosenSize.addClass("product_size_choice--active"),this.selectedSize=this.$chosenSize.attr("data-size");var e=this.getProductFromSizeAndColor(this.selectedSize,this.selectedColor),r=e.quantity,a=i("#chosen_quantity"),s=i("#product_price"),c=e.is_on_sale,n=e.is_new_arrival,l=e.is_discounted,u=e.price;c?u=e.sale_price:l&&(u=e.discount_price),i("#sku_to_add").val(e.sku);var d=Helper.moneyFormat(u);if(i(".price").removeClass("price--sale"),s.removeClass("product_info__price_range--on-sale").removeClass("product_info__price_range--new-arrival"),s.html('<span class="price">'+Helper.moneyFormat(e.price)+"</span>"),i(".product_price_sale").remove(),i(".product_price_new_arrival").remove(),c||l?(s.addClass("product_info__price_range--on-sale"),i(".price").addClass("price--sale"),s.append('<span class="product_price_on_sale"></span>').append(i('<span class="product_price_sale"></span>').html(d))):n&&(s.addClass("product_info__price_range--new-arrival"),s.append('<span class="product_price_new_arrival"></span>')),r>this.maxQuantity&&(r=this.maxQuantity),a.html(""),r>0){ProductAddToCartForm.setInStock(),i("#instock_indicator").children(".instock_indicator__num_left").remove(),i("#instock_indicator").html(i("#instock_indicator").html().replace(/:$/,"")),r<=9&&(i("#instock_indicator").html(i("#instock_indicator").html()+":"),i("#instock_indicator").append(i('<span class="instock_indicator__num_left" />').html("ONLY "+r+" LEFT")));for(var h=1;r>0;)i('<option value="'+h+'">'+h+"</option>").appendTo(a),r--,h++;i("#chosen_quantity").children().first().click()}else this.$chosenSize.hasClass("product_size_choice--blacklisted")?ProductAddToCartForm.setAvailableSoon():ProductAddToCartForm.setOutOfStock();o.YoutubePlayer.hidePlayer(),this.setProductImage(e.largeImage),this.programmaticSizeSelect?this.programmaticSizeSelect=!1:(DataLayer.productChooseSize(o.ProductAddToCartForm.getCurrentProductDataLayer()),Klaviyo.viewedProduct(o.ProductAddToCartForm.getCurrentProductKlaviyo()))}},setProductImage:function(t){this.selectedImageSrc=t,this.$productImage.attr("src",t)},setProductImageFromElement:function(t){if(!t.is(".product__image_container__thumbnail--video")){t.is(".product__image--form")&&(t=t.parent());var e=t.attr("data-large");this.setProductImage(e)}},selectThumb:function(t){var e=i(t.currentTarget);this.$productThumbs.removeClass("product__image--thumb--active"),e.not(".product__image--form").addClass("product__image--thumb--active"),this.setProductImageFromElement(e)},customSocialIcons:function(){setTimeout(function(){0!==i("svg.at-icon").length?i("span.at-icon-wrapper").remove():this.Product.customSocialIcons()},500)},getProductFromSizeAndColor:function(e,i){var o,r=productData.products;return t.each(r,function(t,r,a){var s=!0;return t.size===e&&t.color===i&&(s=!1,o=t),s}),o},getProductsForColor:function(e){var i=productData.products,o=[];return t.each(i,function(t,i,r){return t.color===e&&o.push(t),!0}),o},showAppropriateSizeChart:function(t){t.preventDefault(),t.stopPropagation();var e=productData.productDepartment,i=productData.productGender,o=productData.productMainCategory,r="lightbox--size_chart";r+="-"+e.toLowerCase(),"CLOTHING"===e&&(r+="-"+i.toLowerCase()),("ACCESSORIES"===e&&"SLEEVES"===o||"GLOVES"===o)&&(r+="-"+o.toLowerCase()),LightboxManager.show(r)}},o.QnaForm={init:function(e){t.bindAll(this,"submit","submitted","resetStyles"),this.$form=i("#qna_form"),this.$form.submit(this.submit),this.$submitButton=this.$form.find(".qna_form__button"),i("#sku").val(i(".product_info__sku").html()),i("#master_name").val(i(".product_info__master_name").html()),this.inputDefaultBorderColor=this.$form.find(".input").css("borderColor"),this.submitDefaultBackgroundColor=this.$submitButton.css("backgroundColor"),this.wpAction=e},submit:function(t){t.preventDefault(),t.stopPropagation(),this.$form.is(".submitting")||(this.resetStyles(),this.$form.addClass("submitting"),Helper.postForm(this.wpAction,this.$form).done(this.submitted))},submitted:function(e,r,a){if(e.success)this.$form[0].reset(),this.$submitButton.css("backgroundColor","#0094B3").val("SENT"),this.$form.children(".form_result_container").show(),t.delay(this.resetStyles,4e3);else if(this.$form.removeClass("submitting"),e.data&&e.data.field){var s=this.$form.find('[name="'+e.data.field+'"]'),c=s.siblings(".label__copy");c.append(i("<span>").addClass("label__error").html(e.data.message)),s.css("borderColor",c.children(".label__error").css("color"))}else o.alert(e.data&&e.data.message?e.data.message:"It seems like we encountered an error. Please reload the page and try again.")},resetStyles:function(){this.$form.removeClass("submitting"),this.$form.find(".label__error").remove(),this.$form.find(".input").css("borderColor",this.inputDefaultBorderColor),this.$submitButton.css("backgroundColor",this.submitDefaultBackgroundColor).val("SUBMIT")}},o.ProductAddToCartForm={init:function(){t.bindAll(this,"submit","submitted","resetStyles","setOutOfStock","setInStock","getProductSelectedColor","getProductSelectedSize","getProductSelectedQuantity","getProductPriceType","getProductPrice","getProductPriceToUse","getProductInfo","getCurrentProductDataLayer","setAvailableSoon","getCurrentProductKlaviyo"),this.wpAction="sc_cart_add_item",this.$form=i("#form_add_to_cart"),this.$form.on("submit",this.submit),this.$submitButton=this.$form.find(".btn_add_to_cart"),this.inputDefaultBorderColor=this.$form.find(".input").css("borderColor"),this.submitDefaultBackgroundColor=this.$submitButton.css("backgroundColor"),this.submitDefaultColor=this.$submitButton.css("color")},setOutOfStock:function(){i(".product_choose_quantity").css("opacity",0),i("#instock_indicator").css("opacity",0),this.$submitButton.prop("disabled",!0),this.$submitButton.val("OUT OF STOCK"),this.$submitButton.addClass("btn_add_to_cart--out-of-stock")},setAvailableSoon:function(){i(".product_choose_quantity").css("opacity",0),i("#instock_indicator").css("opacity",0),this.$submitButton.prop("disabled",!0),this.$submitButton.val("AVAILABLE SOON!"),this.$submitButton.addClass("btn_add_to_cart--out-of-stock")},setInStock:function(){i("#instock_indicator").css("opacity",1),i(".product_choose_quantity").css("opacity",1),this.$submitButton.prop("disabled",!1),/S2A04776A99907/.test(this.getProductInfo().sku)?this.$submitButton.val("APRIL FOOLS"):this.$submitButton.val("ADD TO CART"),this.$submitButton.removeClass("btn_add_to_cart--out-of-stock")},getProductSelectedColor:function(){return Product.selectedColor},getProductSelectedSize:function(){return Product.selectedSize},getProductSelectedQuantity:function(){var e=parseInt(i("#chosen_quantity").val(),10);return t.isNaN(e)&&(e=1),e},getProductPriceType:function(){var t=this.getProductInfo();return t.is_on_sale?"sale":t.is_discounted?"discount":"regular"},getProductPrice:function(){var t=this.getProductInfo();return parseFloat(t.price)},getProductPriceToUse:function(){var t=this.getProductInfo(),e=this.getProductPriceType();switch(e){case"sale":return parseFloat(t.sale_price);case"discount":return parseFloat(t.discount_price);default:return parseFloat(t.price)}},getProductInfo:function(){var e=this.getProductSelectedColor(),o=this.getProductSelectedSize(),r=parseInt(i("#chosen_quantity").val(),10),a=i("#sku_to_add").val(),s=i("#chosen_price");t.isNaN(r)&&(r=1);var c;return c=o&&e?Product.getProductFromSizeAndColor(o,e):productData.products[a],s.length&&(c.price=s.val()),c},getCurrentProductDataLayer:function(){var t=this.getProductInfo(),e=this.getProductPriceToUse(),i=this.getProductSelectedColor(),o=this.getProductSelectedSize(),r=this.getProductSelectedQuantity();return{name:t.name,id:t.sku,price:numeral(e).format("0,0.00"),brand:"Sunday Afternoons",category:Helper.getCategoryString(null,!0),variant:i?i.toUpperCase():"",variant2:o,quantity:r}},getCurrentProductKlaviyo:function(){var t=this.getProductInfo(),e=this.getProductPriceToUse(),i=this.getProductPrice(),r=this.getProductSelectedSize(),a=(productData.skuToColor[t.sku]||{name:""}).name;return{ProductName:t.name,ProductID:t.sku,Categories:Helper.getCategoryArray(),ImageURL:t.largeImage,URL:o.location.href,Brand:"Sunday Afternoons",Price:numeral(e).format("0,0.00"),CompareAtPrice:numeral(i).format("0,0.00"),Color:a,Size:r}},submit:function(t){t.preventDefault();var e=this.getProductSelectedColor(),r=this.getProductSelectedSize(),a=this.getProductSelectedQuantity(),s=this.getProductInfo();if(!/S2A04776A99907/.test(s.sku)&&!(Product.$chosenSize&&Product.$chosenSize.hasClass("product_size_choice--inactive")||this.$form.is(".submitting"))){this.$form.addClass("submitting");var c=this.getProductPriceToUse(),n=this.getProductPriceType(),l=c;"gift-card"!==s.sku?l*=a:cartData["gift-card"]&&(c+=Number(cartData["gift-card"].total_formatted.replace("$","")),l=c),i("#price_to_use").val(c),i("#price_type").val(n),i("#sku_to_add").val(s.sku);var u={sku:s.sku,thumbnail:s.thumbnail,size:r,title:s.name,total_formatted:numeral(l).format("$0,0.00"),quantity:a,color:e};CartModal.addCartItem(u),this.$submitButton.val("Please Wait...");var d=this.getCurrentProductDataLayer();o.dataLayerCart&&Array.isArray(o.dataLayerCart)||(o.dataLayerCart=[]),o.dataLayerCart.push(d),DataLayer.cartAddItem(d),Helper.postForm(this.wpAction,this.$form).done(this.submitted)}},submitted:function(t){t.success?(CartModal.toggle(),i(document).scrollTop(0),this.resetStyles(),this.$submitButton.css("backgroundColor","#0094B3").val("ADDED TO CART"),cartData=t.data.cartData):CartModal.removeLastItem()},resetStyles:function(){this.$form.removeClass("submitting"),this.$form.find(".label__error").remove(),this.$form.find(".input").css("borderColor",this.inputDefaultBorderColor),this.$submitButton.prop("disabled",!1),this.$submitButton.css({backgroundColor:this.submitDefaultBackgroundColor,color:this.submitDefaultColor}).val("ADD TO CART")}},o.ReviewForm={init:function(){t.bindAll(this,"submit","submitted","resetStyles","adjustRating"),this.$form=i("#review_form"),this.$form.submit(this.submit),this.$submitButton=this.$form.find(".review_form__button"),this.$ratingInput=i(".rating--input"),this.$ratingInput.on("click",this.adjustRating),this.inputDefaultBorderColor=this.$form.find(".input").css("borderColor"),this.submitDefaultBackgroundColor=this.$submitButton.css("backgroundColor"),this.wpAction="submit_product_review_form"},submit:function(t){t.preventDefault(),t.stopPropagation(),this.$form.is(".submitting")||(this.resetStyles(),this.$form.addClass("submitting"),Helper.postForm(this.wpAction,this.$form).done(this.submitted))},submitted:function(e,r,a){if(e.success)this.$form[0].reset(),this.$submitButton.css("backgroundColor","#0094B3").val("SENT"),this.$form.children(".form_result_container").show(),t.delay(this.resetStyles,4e3);else if(this.$form.removeClass("submitting"),e.data&&e.data.field){var s,c=this.$form.find('[name="'+e.data.field+'"]');s="true_fit"!==e.data.field?c.siblings(".label__copy"):c.parent().siblings(".label__copy"),s.append(i("<span>").addClass("label__error").html(e.data.message)),c.css("borderColor",s.children(".label__error").css("color"))}else o.alert(e.data&&e.data.message?e.data.message:"It seems like we encountered an error. Please reload the page and try again.")},resetStyles:function(){this.$form.removeClass("submitting"),this.$form.find(".label__error").remove(),this.$form.find(".input").css("borderColor",this.inputDefaultBorderColor),this.$submitButton.css("backgroundColor",this.submitDefaultBackgroundColor).val("SUBMIT")},adjustRating:function(t){t.stopPropagation();var e=this.$ratingInput.offset(),o=t.pageX-e.left,r=o/this.$ratingInput.width()*100;r=20*Math.ceil(r/20),this.$ratingInput.find(".rating__yellow_stars").css("width",r+"%");var a=Math.round(r/100*5);a>5?a=5:a<1&&(a=1),i("#rating").val(a)}},o.YoutubePlayer={init:function(){t.bindAll(this,"loadYoutubeIFrameAPI","createVideoPlayer","videoPlayerReady","playerStateChange","startVideo","hidePlayer","showPlayer"),this.$videos=i(".product__image_container__thumbnail--video"),this.$container=i(".product__image_container .youtube_player_container"),this.$videos.length&&(o.onYouTubeIframeAPIReady=this.createVideoPlayer,this.loadYoutubeIFrameAPI())},loadYoutubeIFrameAPI:function(){var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)},createVideoPlayer:function(){this.player=new YT.Player("ytplayer",{events:{onReady:this.videoPlayerReady,onStateChange:this.playerStateChange},playerVars:{rel:0}})},videoPlayerReady:function(){this.$videos.click(this.startVideo)},playerStateChange:function(){var t=this.player.getPlayerState();switch(t){case YT.PlayerState.ENDED:case YT.PlayerState.PLAYING:i("body").on("click.YoutubePlayer",this.hidePlayer);break;case YT.PlayerState.UNSTARTED:i("body").off("click.YoutubePlayer")}},stopVideo:function(t){this.player&&this.player.getPlayerState&&this.player.getPlayerState()===YT.PlayerState.PLAYING&&this.player.stopVideo()},startVideo:function(t){t.preventDefault(),t.stopPropagation();var e=i(t.currentTarget).data("videoSrc"),o=/(?:http?s?:\/\/)?(?:www\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=)?(?:embed\/)?([^\?]+)/g,r=o.exec(e),a=r[1];this.stopVideo(),this.showPlayer(),this.player.loadVideoById(a,0,"default")},showPlayer:function(t){t&&(t.preventDefault(),t.stopPropagation());var e=i(this.player.getIframe()),o=16/9,r=i(".product__image_container .product__image--large").width(),a=Math.ceil(r/o),s=-1*(a/2);e.css("marginTop",s),this.player.setSize(r,a),this.$container.show()},hidePlayer:function(t){this.stopVideo(),this.$container.hide()}}}(_,jQuery,window,void 0);
												!function(e,t,a,r){a.ImagePrefetch={imagesToPrefetch:[],imagesLoaded:[],init:function(){e.bindAll(this,"populate","populateFromArray","fetch","next"),Helper.isDesktop()&&(t("[data-large-src]").each(this.populate),productData&&e.each(productData.products,this.populateFromArray),this.numberOfImages=this.imagesToPrefetch.length,e.each(this.imagesToPrefetch,this.fetch))},populate:function(e,a){this.imagesToPrefetch.push(t(a).data("largeSrc"))},populateFromArray:function(e,t,a){var r=e.largeImage,i=this.imagesToPrefetch.indexOf(r)!==-1;i||this.imagesToPrefetch.push(r)},fetch:function(e){var t=new Image;t.addEventListener("load",this.next),t.src=e},next:function(e){if(e){var a;a=e.currentTarget.href?e.currentTarget.href:e.target.attributes[0].value?e.target.attributes[0].value:e.target.attributes[2].value,this.imagesLoaded.push(a),Helper.isTemplate("product")&&a===Product.selectedImageSrc&&(t(".product__image--large").attr("src",a),Product.$productImage.removeClass("loading"))}}}}(_,jQuery,window,void 0);
												!function(t,o,a,i){a.Locations={init:function(){t.bindAll(this,"search","toggleMap","geolocationViaAddressCallback","geolocationViaBrowserCallback","populateLocationsBasedOnLatLng","populateLocations","normalizeLocationsHeights","showMapLoadingIcon","hideMapLoadingIcon");var i=a.location.pathname.split("/").filter(function(t){return""!==t}),e="US";i.length>=2&&(e=i[1]),this.standardTemplate=t.template(o('.locations__template[data-template-id="standard"]').remove().html()),this.emptyTemplate=t.template(o('.locations__template[data-template-id="empty"]').remove().html()),this.searchRadius=9999999999,this.isLoadingCurrentLocation=!1,this.$map=o("#map"),this.$showMap=o("#show_map"),this.$hideMap=o("#hide_map"),this.$mapButtons=o("#hide_map, #show_map"),this.$searchBar=o(".location_search"),this.$locationList=o(".location_list "),this.$mapButtons.on("click",this.toggleMap),this.$locationSearchButtons=o(".location_search__button:not(.location_search__button--no_search)"),this.$locationSearchButtons.click(this.search);var n;o(a).on("resize",function(){n=setTimeout(function(){Locations.normalizeLocationsHeights()},100)}),this.$locationList.delegate(".location__indicator","click",function(t){var a=o(this).html();google.maps.event.trigger(mapMarkers[a],"click")})},showMapLoadingIcon:function(){o("#map_loading_icon").fadeIn(200)},hideMapLoadingIcon:function(){o("#map_loading_icon").fadeOut(200)},normalizeLocationsHeights:function(){if(!this.$locations||!this.$locations.length)return!1;if(Helper.isMobile())return!1;var t=0;this.$locations.each(function(){o(this).css("height","auto");var a=o(this).height();a>t&&(t=a)}),this.$locations.height(t)},toggleMap:function(t){t&&t.preventDefault();o("#map").toggleClass("map--retracted"),this.$mapButtons.toggleClass("location_search__button--active")},geolocationViaAddressCallback:function(t,o){if(o===google.maps.GeocoderStatus.OK){var i=t[0].geometry.location;this.populateLocationsBasedOnLatLng(i.lat(),i.lng())}else this.hideMapLoadingIcon(),a.alert("Geocode was not successful for the following reason: "+o)},geolocationViaBrowserCallback:function(t){var o=t.coords.latitude,a=t.coords.longitude;this.isLoadingCurrentLocation=!1,this.populateLocationsBasedOnLatLng(o,a)},populateLocationsBasedOnLatLng:function(t,o){this.user_location={lat:t,lng:o};var i=this.searchRadius;t&&o&&i?(a.centermap(t,o),a.setmapzoom(8),this.$locationList.html(""),a.clearpins(),Helper.postData("find_location",{lat:t,lng:o,radius:i}).done(this.populateLocations)):(this.hideMapLoadingIcon(),alert("Sorry, we could not find this on the map."))},search:function(t){if(t&&t.preventDefault(),this.searchRadius=o("#radius").val(),this.$locationList.html(""),o(t.currentTarget).is("#use_location")){if(this.isLoadingCurrentLocation)return!1;navigator.geolocation?(this.isLoadingCurrentLocation=!0,this.showMapLoadingIcon(),navigator.geolocation.getCurrentPosition(this.geolocationViaBrowserCallback)):alert("Your browser does not support geolocation.")}else{var i=o("#city_state_and_zip").val();i?(this.showMapLoadingIcon(),a.geolocate(this.geolocationViaAddressCallback,i)):alert("Please enter your City, State or Zipcode.")}},populateLocations:function(t){if(t.success===!0){var i=t.data.locations;a.clearpins(),this.$locationList.html("");var e,n=!1,s=!1,l=0,c=i.length;if(c)do{if(!s)if(e=i[l],this.user_location&&e&&(e.directions_url="https://maps.google.com/?saddr="+this.user_location.lat+","+this.user_location.lng+"&daddr="+e.coords.lat+","+e.coords.lng),e){this.$locationList.append(this.standardTemplate({location:e}));var r=!1;0===l&&(r=!0),a.createpin(e.coords.lat,e.coords.lng,e.searchKey,e.searchKey,r),l++}else s=!0;s&&(Helper.isMobile()?n=!0:(this.$locationList.append(this.emptyTemplate()),l++,l%6===0&&(n=!0)))}while(!n);this.hideMapLoadingIcon(),this.$locationList.find(".location_list__location_column").first().addClass("location--nearest"),this.$locations=o(".location"),this.normalizeLocationsHeights()}}}}(_,jQuery,window,void 0);
												!function(t,i,e,r){e.Products={init:function(){t.bindAll(this,"chooseColor","setSort","setShowNumber","toggleFilters","getTrueQuantities","getTrueQuantitiesSuccess","populateProductsDataLayer","handleProductClick","colorClick","imageClick","linkClick"),this.$filtersContainer=i(".filter_options"),this.$products=i(".products__list__item"),this.$colors=i("a.products__list__item__color_selector__color_option"),this.$colorImages=i(".products__list__item__img"),this.$productImage=i(".products__list__item__img"),this.$productLink=i(".products__list__item__link:last-child"),this.$productMore=i(".products__list__item__color_selector__more"),this.$productBug=i(".products__list__item__bug"),this.productDataLayer=[],Helper.isDesktop()?(this.$colors.hover(this.chooseColor),this.$colors.on("click",this.colorClick),this.$productMore.on("click",this.colorClick)):this.$colors.click(this.chooseColor),i("#sort_products").on("change",this.setSort),i("#show_per_page").on("change",this.setShowNumber),i("#clear_search").click(function(t){t.preventDefault(),i(this).parents("form").submit()}),i(".filters_toggle_button").on("click",this.toggleFilters),this.getTrueQuantities(),this.$productImage.on("click",this.imageClick),this.$productBug.on("click",this.imageClick),this.$productLink.on("click",this.linkClick)},getTrueQuantities:function(){var t=[];i("#productsList .products__list__item").each(function(){t=t.concat(i(this).data("skus").split(","))}),Helper.getEndpoint("sda/v1/get-true-quantities/").then(this.getTrueQuantitiesSuccess)},getTrueQuantitiesSuccess:function(t){var r="/sale/"===e.location.pathname;if(t.success){var o={};for(var s in t.results){var a=s.substr(0,8);o[a]||(o[a]=0),o[a]+=parseInt(t.results[s],10)}for(var s in o){var c=o[s],l=i('.products__list__item[data-master-sku="'+s+'"]');0===c&&0==r&&l.find(".products__list__item__price__value").html("Out Of Stock")}this.populateProductsDataLayer()}},populateProductsDataLayer:function(){var t=[],r=e.location.pathname.match(/\/sale\//)?"Sale":null,o=e.location.pathname.match(/\/s\//)?"Search Results":null,s=r||o||"Product Listing",a={featured:"Featured",best_seller:"Best Seller",new_arrival:"New Arrival",sale:"Sale",low_to_high:"Price Low to High",high_to_low:"Price High to Low"},c=i("#sort_products").val(),l=a[c];this.$products.each(function(e,r){var o=i(r),a=o.find(".products__list__item__price__value");a=a.children().length?a.children().first():a,t.push({position:e+1,list:s+" - "+l,brand:"Sunday Afternoons",category:Helper.getCategoryString(),id:o.data("masterSku"),name:o.find(".products__list__item__title").html().trim(),price:a.html().trim().replace("$","")})}),DataLayer.pushProducts(t),this.productDataLayer=t},colorClick:function(t){var e=!1;t.metaKey||t.ctrlKey||!DataLayer.isGTMLoaded()||(e=!0,t.preventDefault()),t.stopPropagation();var r=i(t.currentTarget),o=r.attr("href");o=o||r.closest(".products__list__item").children(".products__list__item__link").first().attr("href");var s=r.data("color");s=s?s.toUpperCase():"MORE",this.handleProductClick(r,o,s,e)},imageClick:function(t){var e=!1;t.metaKey||t.ctrlKey||!DataLayer.isGTMLoaded()||(e=!0,t.preventDefault()),t.stopPropagation();var r=i(t.currentTarget),o=r.closest(".products__list__item__link").attr("href"),s=r.data("color");s=s?s.toUpperCase():r.siblings(".products__list__item__image_container").find(".products__list__item__img--active").data("color").toUpperCase(),this.handleProductClick(r,o,s,e)},linkClick:function(t){var e=!1;t.metaKey||t.ctrlKey||!DataLayer.isGTMLoaded()||(e=!0,t.preventDefault()),t.stopPropagation();var r=i(t.currentTarget),o=r.attr("href");this.handleProductClick(r,o,"",e)},handleProductClick:function(t,i,e,r){if(this.productDataLayer.length){var o=t.closest(".products__list__item"),s=this.$products.index(o),a=this.productDataLayer[s];a.variant=e,DataLayer.productClick(a,i,r)}},chooseColor:function(t){t.preventDefault(),t.stopPropagation(),this.$chosenColor=i(t.currentTarget);var e=this.$chosenColor.parents(".products__list__item"),r=this.$chosenColor.data("color");e.find(".products__list__item__img").removeClass("products__list__item__img--active"),e.find('.products__list__item__img[data-color="'+r+'"]').lazy({bind:"event"}),e.find('.products__list__item__img[data-color="'+r+'"]').addClass("products__list__item__img--active")},setShowNumber:function(t){var e=i(t.currentTarget);"all"===e.val()?location.search="show=all":i(t.currentTarget).parents("form").submit()},setSort:function(t){i(t.currentTarget).parents("form").submit()},toggleFilters:function(t){this.$filtersContainer.slideToggle()}}}(_,jQuery,window,void 0);
												!function(t,s,i,e){i.Account={hashToClassMap:{"my-profile":".tab_title_my_profile","order-history":".tab_title_order_history","questions-and-answers":".tab_title_qna","address-book":".tab_title_address_book","gift-card":".tab_title_gift_card"},init:function(){t.bindAll(this,"expandTab","getTabItemToClick","prepareAddressForm","goToTab"),CountryDropdown.init(),this.$tab=s(".tab_pair"),this.$tabItems=s(".tab_pair .tab_pair__title").click(this.expandTab),this.$addressEditButtons=s(".address__edit"),this.$modalLinks=s(".modal--account .link"),this.$modalLinks.on("click",this.goToTab);var e=this.getTabItemToClick();this.$addressEditButtons.on("click",this.prepareAddressForm),e.click(),UserUpdateForm.init(),AddressUpdateForm.init({addressType:"shipping",action:"save"}),AccountGiftCardForm.init();var r={form_url:"review-product",title:"THANKS FOR YOUR INPUT"};s(".write_a_review").on("click",function(e){e.preventDefault(),t.extend(r,s(e.currentTarget).data()),LightboxManager.show("lightbox--review_form",r),i.ReviewForm.init()})},expandTab:function(t){var i=s(t.currentTarget);if(this.$tab.removeClass("tab_pair--active").removeClass("nav--sidebar__item--active"),i.parents(".tab_pair").addClass("tab_pair--active").addClass("nav--sidebar__item--active"),Helper.isMobile())i.siblings(".tab_pair__content").slideToggle();else{var e=parseInt(s(".account_content").css("paddingTop")),r=parseInt(s(".account_content").css("paddingBottom")),a=i.siblings(".tab_pair__content").outerHeight(!0)+e+r;a<400&&(a=400),s(".account_content").css("height",a)}},getTabItemToClick:function(){var t=this.$tabItems.first(),s=i.location.hash.replace(/#/,"");return this.hashToClassMap.hasOwnProperty(s)&&(t=this.$tabItems.filter(this.hashToClassMap[s])),t},goToTab:function(t){t.preventDefault(),i.location.href=s(t.currentTarget).attr("href"),this.getTabItemToClick().click()},prepareAddressForm:function(t){t.preventDefault(),t.stopPropagation();var e=s(t.currentTarget).parents(".address"),r=e.data();r.action="edit",i.AddressUpdateForm.init(r)}},i.UserUpdateForm={init:function(){t.bindAll(this,"submit","submitted","resetStyles"),this.$form=s("#form_my_profile"),this.$form.submit(this.submit),this.$submitButton=this.$form.find(".form_my_profile_button"),this.inputDefaultBorderColor=this.$form.find(".input").css("borderColor"),this.submitDefaultBackgroundColor=this.$submitButton.css("backgroundColor"),this.wpAction="sa_update_account"},submit:function(t){t.preventDefault(),t.stopPropagation(),this.$form.is(".submitting")||(this.resetStyles(),this.$form.addClass("submitting"),Helper.postForm(this.wpAction,this.$form).done(this.submitted))},submitted:function(e,r,a){if(e.success)this.$form[0].reset(),this.$submitButton.css("backgroundColor","#0094B3").val("SENT"),t.delay(this.resetStyles,2e3);else if(this.$form.removeClass("submitting"),e.data.field){var o=this.$form.find('[name="'+e.data.field+'"]'),n=o.siblings(".label__copy");n.append(s("<span>").addClass("label__error").html(e.data.message)),o.css("borderColor",n.children(".label__error").css("color"))}else i.alert(e.data.message)},resetStyles:function(){this.$form.removeClass("submitting"),this.$form.find(".label__error").remove(),this.$form.find(".input").css("borderColor",this.inputDefaultBorderColor),this.$submitButton.css("backgroundColor",this.submitDefaultBackgroundColor).val("SUBMIT")}},i.AddressUpdateForm={init:function(i){t.bindAll(this,"submit","submitted","resetStyles"),this.$form=s("#form_save_address"),this.$form.submit(this.submit),this.$submitButton=this.$form.find(".form_save_address__button"),this.inputDefaultBorderColor=this.$form.find(".input").css("borderColor"),this.submitDefaultBackgroundColor=this.$submitButton.css("backgroundColor"),this.wpAction="sa_save_"+i.addressType+"_address","edit"===i.action&&(s("#form_save_address_title").html("EDIT ADDRESS"),this.$addressLine1=this.$form.find("#form_save_address_line_1"),this.$addressLine2=this.$form.find("#form_save_address_line_2"),this.$addressLine3=this.$form.find("#form_save_address_line_3"),this.$city=this.$form.find("#form_save_address_city"),this.$type=this.$form.find("#form_save_address_type"),this.$state=this.$form.find("#form_save_address_state"),this.$postalCode=this.$form.find("#form_save_address_postal_code"),this.$country=this.$form.find("#form_save_address_country"),this.$addressLine1.val(i.addressLineOne),this.$addressLine2.val(i.addressLineTwo),this.$addressLine3.val(i.addressLineThree),this.$city.val(i.city),this.$type.val(i.addressType),this.$postalCode.val(i.zipCode),this.$country.val(i.country),this.$country.trigger("change"),this.$state.val(i.state),"shipping"===i.addressType&&s("#ship_to_code").val(i.shippingAddressId))},submit:function(t){t.preventDefault(),t.stopPropagation(),this.$form.is(".submitting")||(this.resetStyles(),this.$form.addClass("submitting"),Helper.postForm(this.wpAction,this.$form).done(this.submitted))},submitted:function(t,e,r){if(t.success)this.$form[0].reset(),this.$submitButton.css("backgroundColor","#0094B3").val("SENT"),document.location.assign("/my-account#address-book");else if(this.$form.removeClass("submitting"),t.data.field){var a=this.$form.find('[name="'+t.data.field+'"]'),o=a.siblings(".label__copy");o.append(s("<span>").addClass("label__error").html(t.data.message)),a.css("borderColor",o.children(".label__error").css("color"))}else i.alert(t.data.message)},resetStyles:function(){this.$form.removeClass("submitting"),this.$form.find(".label__error").remove(),this.$form.find(".input").css("borderColor",this.inputDefaultBorderColor),this.$submitButton.css("backgroundColor",this.submitDefaultBackgroundColor).val("SUBMIT")}},i.AccountGiftCardForm={init:function(i){t.bindAll(this,"submit","submitted","resetStyles"),this.wpAction="sa_giftcard_balance",this.$form=s("#form_gift_card_balance"),this.$form.submit(this.submit)},submit:function(t){t.preventDefault(),t.stopPropagation(),this.$form.is(".submitting")||(this.$form.find(".gift_card_balance").hide(),this.resetStyles(),this.$form.addClass("submitting"),Helper.postForm(this.wpAction,this.$form).done(this.submitted))},submitted:function(t,e,r){if(t.success)s("#gift_card_balance").html(Helper.moneyFormat(t.data.card.balance)),s(".gift_card__balance").show();else if(this.$form.removeClass("submitting"),t.data.field){var a=this.$form.find('[name="'+t.data.field+'"]'),o=a.siblings(".label__copy");o.append(s("<span>").addClass("label__error").html(t.data.message)),a.css("borderColor",o.children(".label__error").css("color"))}else i.alert(t.data.message)},resetStyles:function(){this.$form.removeClass("submitting"),this.$form.find(".label__error").remove(),this.$form.find(".input").css("borderColor",this.inputDefaultBorderColor)}}}(_,jQuery,window,void 0);
													function renderCaptcha(){jQuery(document).ready(function(){Cookies.set("sa_visited",!0,{expires:7}),Checkout.renderCaptcha()})}!function(e,t){e(document).ready(function(){Helper.init(),Helper.setScrollbarWidth(),Helper.stripJso();var i=window.location.search.match(/ocd=([a-zA-Z0-9]+)/),a=i?i[1]:null;Helper.loadHeader({ocd:a,partials:{"#desktop_member_area":"account-desktop-header","#tablet_member_area":"account-tablet-header","#mobile_account_header$":"account-mobile-header"}}),Helper.isMobile()?MobileMainMenu.init():Helper.isTablet()?TabletMainMenu.init():Helper.isDesktop()&&DesktopMainMenu.init(),e(".lazy-delayed").lazy({bind:"event",delay:250,visible:!0,afterLoad:function(t){var i=e(t);i.is(".products__list__item__img")&&i.addClass("products__list__item__img--active")}}),e('[action*="/s/"]').each(function(t,i){var a=e(i),r=a.find('input[type="text"]');r.on("input",function(e){e.currentTarget.value=e.currentTarget.value.replace(/[^a-zA-Z0-9 ]/,"")})}),(Helper.isTablet()||Helper.isDesktop())&&t.each(window.SnapVideoWidgets,function(e){e.init()});var r=Helper.inDevelopment()?"development":Helper.inStaging()?"staging":"production";DataLayer.init(r),Klaviyo.init(r),Helper.isTemplate("contact-us")?ContactForm.init():Helper.isTemplate("product")?(DataLayer.pushPage("product detail"),(Helper.isTablet()||Helper.isMobile())&&ProductSlider.init(),Product.init()):Helper.isTemplate("account")?Account.init():Helper.isTemplate("locations")?Locations.init():Helper.isTemplate("cart")?(DataLayer.pushPage("cart"),Cart.init()):Helper.isTemplate("checkout")?(DataLayer.pushPage("checkout"),Checkout.init()):Helper.isTemplate("home")?(DataLayer.pushPage("home"),(Helper.isTablet()||Helper.isDesktop())&&HomeHero.init()):Helper.isTemplate("products")?(DataLayer.pushPage("product listing"),Products.init()):Helper.isPostTemplate("history")&&History.init(),International.init(),NewsletterForm.init(),LightboxManager.init(),CartModal.init(),Accordions.init(),CountryDropdown.init(),CartToken.init(),LiveHelp.init()})}(jQuery,_);
													!function(){for(var n=0,i=["ms","moz","webkit","o"],e=0;e<i.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[i[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i[e]+"CancelAnimationFrame"]||window[i[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(i,e){var a=(new Date).getTime(),o=Math.max(0,16-(a-n)),t=window.setTimeout(function(){i(a+o)},o);return n=a+o,t}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})}();